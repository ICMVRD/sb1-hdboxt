(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function S3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ev={exports:{}},Pd={},xv={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch=Symbol.for("react.element"),E3=Symbol.for("react.portal"),x3=Symbol.for("react.fragment"),P3=Symbol.for("react.strict_mode"),N3=Symbol.for("react.profiler"),T3=Symbol.for("react.provider"),I3=Symbol.for("react.context"),L3=Symbol.for("react.forward_ref"),C3=Symbol.for("react.suspense"),k3=Symbol.for("react.memo"),R3=Symbol.for("react.lazy"),Qm=Symbol.iterator;function D3(t){return t===null||typeof t!="object"?null:(t=Qm&&t[Qm]||t["@@iterator"],typeof t=="function"?t:null)}var Pv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nv=Object.assign,Tv={};function Pu(t,e,n){this.props=t,this.context=e,this.refs=Tv,this.updater=n||Pv}Pu.prototype.isReactComponent={};Pu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Iv(){}Iv.prototype=Pu.prototype;function $0(t,e,n){this.props=t,this.context=e,this.refs=Tv,this.updater=n||Pv}var W0=$0.prototype=new Iv;W0.constructor=$0;Nv(W0,Pu.prototype);W0.isPureReactComponent=!0;var Ym=Array.isArray,Lv=Object.prototype.hasOwnProperty,G0={current:null},Cv={key:!0,ref:!0,__self:!0,__source:!0};function kv(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Lv.call(e,r)&&!Cv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ch,type:t,key:o,ref:s,props:i,_owner:G0.current}}function F3(t,e){return{$$typeof:ch,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function K0(t){return typeof t=="object"&&t!==null&&t.$$typeof===ch}function O3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xm=/\/+/g;function Pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?O3(""+t.key):e.toString(36)}function bf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ch:case E3:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Pp(s,0):r,Ym(i)?(n="",t!=null&&(n=t.replace(Xm,"$&/")+"/"),bf(i,e,n,"",function(h){return h})):i!=null&&(K0(i)&&(i=F3(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Xm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Ym(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Pp(o,a);s+=bf(o,e,n,l,i)}else if(l=D3(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Pp(o,a++),s+=bf(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Wh(t,e,n){if(t==null)return t;var r=[],i=0;return bf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function M3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tr={current:null},Af={transition:null},j3={ReactCurrentDispatcher:Tr,ReactCurrentBatchConfig:Af,ReactCurrentOwner:G0};function Rv(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Wh,forEach:function(t,e,n){Wh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wh(t,function(){e++}),e},toArray:function(t){return Wh(t,function(e){return e})||[]},only:function(t){if(!K0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_t.Component=Pu;_t.Fragment=x3;_t.Profiler=N3;_t.PureComponent=$0;_t.StrictMode=P3;_t.Suspense=C3;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j3;_t.act=Rv;_t.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Nv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=G0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Lv.call(e,l)&&!Cv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:ch,type:t.type,key:i,ref:o,props:r,_owner:s}};_t.createContext=function(t){return t={$$typeof:I3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:T3,_context:t},t.Consumer=t};_t.createElement=kv;_t.createFactory=function(t){var e=kv.bind(null,t);return e.type=t,e};_t.createRef=function(){return{current:null}};_t.forwardRef=function(t){return{$$typeof:L3,render:t}};_t.isValidElement=K0;_t.lazy=function(t){return{$$typeof:R3,_payload:{_status:-1,_result:t},_init:M3}};_t.memo=function(t,e){return{$$typeof:k3,type:t,compare:e===void 0?null:e}};_t.startTransition=function(t){var e=Af.transition;Af.transition={};try{t()}finally{Af.transition=e}};_t.unstable_act=Rv;_t.useCallback=function(t,e){return Tr.current.useCallback(t,e)};_t.useContext=function(t){return Tr.current.useContext(t)};_t.useDebugValue=function(){};_t.useDeferredValue=function(t){return Tr.current.useDeferredValue(t)};_t.useEffect=function(t,e){return Tr.current.useEffect(t,e)};_t.useId=function(){return Tr.current.useId()};_t.useImperativeHandle=function(t,e,n){return Tr.current.useImperativeHandle(t,e,n)};_t.useInsertionEffect=function(t,e){return Tr.current.useInsertionEffect(t,e)};_t.useLayoutEffect=function(t,e){return Tr.current.useLayoutEffect(t,e)};_t.useMemo=function(t,e){return Tr.current.useMemo(t,e)};_t.useReducer=function(t,e,n){return Tr.current.useReducer(t,e,n)};_t.useRef=function(t){return Tr.current.useRef(t)};_t.useState=function(t){return Tr.current.useState(t)};_t.useSyncExternalStore=function(t,e,n){return Tr.current.useSyncExternalStore(t,e,n)};_t.useTransition=function(){return Tr.current.useTransition()};_t.version="18.3.1";xv.exports=_t;var St=xv.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V3=St,B3=Symbol.for("react.element"),z3=Symbol.for("react.fragment"),U3=Object.prototype.hasOwnProperty,q3=V3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H3={key:!0,ref:!0,__self:!0,__source:!0};function Dv(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)U3.call(e,r)&&!H3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:B3,type:t,key:o,ref:s,props:i,_owner:q3.current}}Pd.Fragment=z3;Pd.jsx=Dv;Pd.jsxs=Dv;Ev.exports=Pd;var Qe=Ev.exports,Fv={exports:{}},oi={},Ov={exports:{}},Mv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,K){var ie=W.length;W.push(K);e:for(;0<ie;){var pe=ie-1>>>1,R=W[pe];if(0<i(R,K))W[pe]=K,W[ie]=R,ie=pe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var K=W[0],ie=W.pop();if(ie!==K){W[0]=ie;e:for(var pe=0,R=W.length,q=R>>>1;pe<q;){var Q=2*(pe+1)-1,te=W[Q],ne=Q+1,de=W[ne];if(0>i(te,ie))ne<R&&0>i(de,te)?(W[pe]=de,W[ne]=ie,pe=ne):(W[pe]=te,W[Q]=ie,pe=Q);else if(ne<R&&0>i(de,ie))W[pe]=de,W[ne]=ie,pe=ne;else break e}}return K}function i(W,K){var ie=W.sortIndex-K.sortIndex;return ie!==0?ie:W.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],h=[],d=1,m=null,y=3,g=!1,N=!1,L=!1,F=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var K=n(h);K!==null;){if(K.callback===null)r(h);else if(K.startTime<=W)r(h),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(h)}}function O(W){if(L=!1,x(W),!N)if(n(l)!==null)N=!0,Z(H);else{var K=n(h);K!==null&&J(O,K.startTime-W)}}function H(W,K){N=!1,L&&(L=!1,_(A),A=-1),g=!0;var ie=y;try{for(x(K),m=n(l);m!==null&&(!(m.expirationTime>K)||W&&!S());){var pe=m.callback;if(typeof pe=="function"){m.callback=null,y=m.priorityLevel;var R=pe(m.expirationTime<=K);K=t.unstable_now(),typeof R=="function"?m.callback=R:m===n(l)&&r(l),x(K)}else r(l);m=n(l)}if(m!==null)var q=!0;else{var Q=n(h);Q!==null&&J(O,Q.startTime-K),q=!1}return q}finally{m=null,y=ie,g=!1}}var G=!1,T=null,A=-1,k=5,D=-1;function S(){return!(t.unstable_now()-D<k)}function E(){if(T!==null){var W=t.unstable_now();D=W;var K=!0;try{K=T(!0,W)}finally{K?C():(G=!1,T=null)}}else G=!1}var C;if(typeof b=="function")C=function(){b(E)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,he=Y.port2;Y.port1.onmessage=E,C=function(){he.postMessage(null)}}else C=function(){F(E,0)};function Z(W){T=W,G||(G=!0,C())}function J(W,K){A=F(function(){W(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){N||g||(N=!0,Z(H))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var ie=y;y=K;try{return W()}finally{y=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ie=y;y=W;try{return K()}finally{y=ie}},t.unstable_scheduleCallback=function(W,K,ie){var pe=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?pe+ie:pe):ie=pe,W){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ie+R,W={id:d++,callback:K,priorityLevel:W,startTime:ie,expirationTime:R,sortIndex:-1},ie>pe?(W.sortIndex=ie,e(h,W),n(l)===null&&W===n(h)&&(L?(_(A),A=-1):L=!0,J(O,ie-pe))):(W.sortIndex=R,e(l,W),N||g||(N=!0,Z(H))),W},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(W){var K=y;return function(){var ie=y;y=K;try{return W.apply(this,arguments)}finally{y=ie}}}})(Mv);Ov.exports=Mv;var $3=Ov.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W3=St,ii=$3;function De(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jv=new Set,Fc={};function sl(t,e){hu(t,e),hu(t+"Capture",e)}function hu(t,e){for(Fc[t]=e,t=0;t<e.length;t++)jv.add(e[t])}var Qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g1=Object.prototype.hasOwnProperty,G3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jm={},Zm={};function K3(t){return g1.call(Zm,t)?!0:g1.call(Jm,t)?!1:G3.test(t)?Zm[t]=!0:(Jm[t]=!0,!1)}function Q3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y3(t,e,n,r){if(e===null||typeof e>"u"||Q3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ir(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nr[t]=new Ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nr[e]=new Ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nr[t]=new Ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nr[t]=new Ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nr[t]=new Ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nr[t]=new Ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nr[t]=new Ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nr[t]=new Ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nr[t]=new Ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q0=/[\-:]([a-z])/g;function Y0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Q0,Y0);nr[e]=new Ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Q0,Y0);nr[e]=new Ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Q0,Y0);nr[e]=new Ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nr[t]=new Ir(t,1,!1,t.toLowerCase(),null,!1,!1)});nr.xlinkHref=new Ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nr[t]=new Ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function X0(t,e,n,r){var i=nr.hasOwnProperty(e)?nr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y3(e,n,i,r)&&(n=null),r||i===null?K3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rs=W3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gh=Symbol.for("react.element"),$l=Symbol.for("react.portal"),Wl=Symbol.for("react.fragment"),J0=Symbol.for("react.strict_mode"),m1=Symbol.for("react.profiler"),Vv=Symbol.for("react.provider"),Bv=Symbol.for("react.context"),Z0=Symbol.for("react.forward_ref"),v1=Symbol.for("react.suspense"),y1=Symbol.for("react.suspense_list"),eg=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),zv=Symbol.for("react.offscreen"),e2=Symbol.iterator;function Zu(t){return t===null||typeof t!="object"?null:(t=e2&&t[e2]||t["@@iterator"],typeof t=="function"?t:null)}var cn=Object.assign,Np;function cc(t){if(Np===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Np=e&&e[1]||""}return`
`+Np+t}var Tp=!1;function Ip(t,e){if(!t||Tp)return"";Tp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Tp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cc(t):""}function X3(t){switch(t.tag){case 5:return cc(t.type);case 16:return cc("Lazy");case 13:return cc("Suspense");case 19:return cc("SuspenseList");case 0:case 2:case 15:return t=Ip(t.type,!1),t;case 11:return t=Ip(t.type.render,!1),t;case 1:return t=Ip(t.type,!0),t;default:return""}}function w1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wl:return"Fragment";case $l:return"Portal";case m1:return"Profiler";case J0:return"StrictMode";case v1:return"Suspense";case y1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bv:return(t.displayName||"Context")+".Consumer";case Vv:return(t._context.displayName||"Context")+".Provider";case Z0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case eg:return e=t.displayName||null,e!==null?e:w1(t.type)||"Memo";case Os:e=t._payload,t=t._init;try{return w1(t(e))}catch{}}return null}function J3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w1(e);case 8:return e===J0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z3(t){var e=Uv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kh(t){t._valueTracker||(t._valueTracker=Z3(t))}function qv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Uv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _1(t,e){var n=e.checked;return cn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hv(t,e){e=e.checked,e!=null&&X0(t,"checked",e,!1)}function b1(t,e){Hv(t,e);var n=oa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?A1(t,e.type,n):e.hasOwnProperty("defaultValue")&&A1(t,e.type,oa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function A1(t,e,n){(e!=="number"||zf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hc=Array.isArray;function ru(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function S1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return cn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(De(92));if(hc(n)){if(1<n.length)throw Error(De(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oa(n)}}function $v(t,e){var n=oa(e.value),r=oa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function i2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function E1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qh,Gv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qh=Qh||document.createElement("div"),Qh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eb=["Webkit","ms","Moz","O"];Object.keys(vc).forEach(function(t){eb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vc[e]=vc[t]})});function Kv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vc.hasOwnProperty(t)&&vc[t]?(""+e).trim():e+"px"}function Qv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Kv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tb=cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x1(t,e){if(e){if(tb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function P1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N1=null;function tg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var T1=null,iu=null,ou=null;function o2(t){if(t=dh(t)){if(typeof T1!="function")throw Error(De(280));var e=t.stateNode;e&&(e=Cd(e),T1(t.stateNode,t.type,e))}}function Yv(t){iu?ou?ou.push(t):ou=[t]:iu=t}function Xv(){if(iu){var t=iu,e=ou;if(ou=iu=null,o2(t),e)for(t=0;t<e.length;t++)o2(e[t])}}function Jv(t,e){return t(e)}function Zv(){}var Lp=!1;function ey(t,e,n){if(Lp)return t(e,n);Lp=!0;try{return Jv(t,e,n)}finally{Lp=!1,(iu!==null||ou!==null)&&(Zv(),Xv())}}function Mc(t,e){var n=t.stateNode;if(n===null)return null;var r=Cd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(De(231,e,typeof n));return n}var I1=!1;if(Qo)try{var ec={};Object.defineProperty(ec,"passive",{get:function(){I1=!0}}),window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{I1=!1}function nb(t,e,n,r,i,o,s,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var yc=!1,Uf=null,qf=!1,L1=null,rb={onError:function(t){yc=!0,Uf=t}};function ib(t,e,n,r,i,o,s,a,l){yc=!1,Uf=null,nb.apply(rb,arguments)}function ob(t,e,n,r,i,o,s,a,l){if(ib.apply(this,arguments),yc){if(yc){var h=Uf;yc=!1,Uf=null}else throw Error(De(198));qf||(qf=!0,L1=h)}}function al(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ty(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function s2(t){if(al(t)!==t)throw Error(De(188))}function sb(t){var e=t.alternate;if(!e){if(e=al(t),e===null)throw Error(De(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return s2(i),t;if(o===r)return s2(i),e;o=o.sibling}throw Error(De(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?t:e}function ny(t){return t=sb(t),t!==null?ry(t):null}function ry(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ry(t);if(e!==null)return e;t=t.sibling}return null}var iy=ii.unstable_scheduleCallback,a2=ii.unstable_cancelCallback,ab=ii.unstable_shouldYield,lb=ii.unstable_requestPaint,Sn=ii.unstable_now,ub=ii.unstable_getCurrentPriorityLevel,ng=ii.unstable_ImmediatePriority,oy=ii.unstable_UserBlockingPriority,Hf=ii.unstable_NormalPriority,cb=ii.unstable_LowPriority,sy=ii.unstable_IdlePriority,Nd=null,mo=null;function hb(t){if(mo&&typeof mo.onCommitFiberRoot=="function")try{mo.onCommitFiberRoot(Nd,t,void 0,(t.current.flags&128)===128)}catch{}}var Hi=Math.clz32?Math.clz32:pb,fb=Math.log,db=Math.LN2;function pb(t){return t>>>=0,t===0?32:31-(fb(t)/db|0)|0}var Yh=64,Xh=4194304;function fc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $f(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=fc(a):(o&=s,o!==0&&(r=fc(o)))}else s=n&~i,s!==0?r=fc(s):o!==0&&(r=fc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hi(e),i=1<<n,r|=t[n],e&=~i;return r}function gb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Hi(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=gb(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function C1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ay(){var t=Yh;return Yh<<=1,!(Yh&4194240)&&(Yh=64),t}function Cp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hi(e),t[e]=n}function vb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Hi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function rg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ut=0;function ly(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uy,ig,cy,hy,fy,k1=!1,Jh=[],Ws=null,Gs=null,Ks=null,jc=new Map,Vc=new Map,js=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l2(t,e){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":jc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(e.pointerId)}}function tc(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=dh(e),e!==null&&ig(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wb(t,e,n,r,i){switch(e){case"focusin":return Ws=tc(Ws,t,e,n,r,i),!0;case"dragenter":return Gs=tc(Gs,t,e,n,r,i),!0;case"mouseover":return Ks=tc(Ks,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return jc.set(o,tc(jc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Vc.set(o,tc(Vc.get(o)||null,t,e,n,r,i)),!0}return!1}function dy(t){var e=Ba(t.target);if(e!==null){var n=al(e);if(n!==null){if(e=n.tag,e===13){if(e=ty(n),e!==null){t.blockedOn=e,fy(t.priority,function(){cy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=R1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);N1=r,n.target.dispatchEvent(r),N1=null}else return e=dh(n),e!==null&&ig(e),t.blockedOn=n,!1;e.shift()}return!0}function u2(t,e,n){Sf(t)&&n.delete(e)}function _b(){k1=!1,Ws!==null&&Sf(Ws)&&(Ws=null),Gs!==null&&Sf(Gs)&&(Gs=null),Ks!==null&&Sf(Ks)&&(Ks=null),jc.forEach(u2),Vc.forEach(u2)}function nc(t,e){t.blockedOn===e&&(t.blockedOn=null,k1||(k1=!0,ii.unstable_scheduleCallback(ii.unstable_NormalPriority,_b)))}function Bc(t){function e(i){return nc(i,t)}if(0<Jh.length){nc(Jh[0],t);for(var n=1;n<Jh.length;n++){var r=Jh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ws!==null&&nc(Ws,t),Gs!==null&&nc(Gs,t),Ks!==null&&nc(Ks,t),jc.forEach(e),Vc.forEach(e),n=0;n<js.length;n++)r=js[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<js.length&&(n=js[0],n.blockedOn===null);)dy(n),n.blockedOn===null&&js.shift()}var su=rs.ReactCurrentBatchConfig,Wf=!0;function bb(t,e,n,r){var i=Ut,o=su.transition;su.transition=null;try{Ut=1,og(t,e,n,r)}finally{Ut=i,su.transition=o}}function Ab(t,e,n,r){var i=Ut,o=su.transition;su.transition=null;try{Ut=4,og(t,e,n,r)}finally{Ut=i,su.transition=o}}function og(t,e,n,r){if(Wf){var i=R1(t,e,n,r);if(i===null)zp(t,e,r,Gf,n),l2(t,r);else if(wb(i,t,e,n,r))r.stopPropagation();else if(l2(t,r),e&4&&-1<yb.indexOf(t)){for(;i!==null;){var o=dh(i);if(o!==null&&uy(o),o=R1(t,e,n,r),o===null&&zp(t,e,r,Gf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else zp(t,e,r,null,n)}}var Gf=null;function R1(t,e,n,r){if(Gf=null,t=tg(r),t=Ba(t),t!==null)if(e=al(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ty(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gf=t,null}function py(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ub()){case ng:return 1;case oy:return 4;case Hf:case cb:return 16;case sy:return 536870912;default:return 16}default:return 16}}var Us=null,sg=null,Ef=null;function gy(){if(Ef)return Ef;var t,e=sg,n=e.length,r,i="value"in Us?Us.value:Us.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ef=i.slice(t,1<r?1-r:void 0)}function xf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zh(){return!0}function c2(){return!1}function si(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zh:c2,this.isPropagationStopped=c2,this}return cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zh)},persist:function(){},isPersistent:Zh}),e}var Nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ag=si(Nu),fh=cn({},Nu,{view:0,detail:0}),Sb=si(fh),kp,Rp,rc,Td=cn({},fh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rc&&(rc&&t.type==="mousemove"?(kp=t.screenX-rc.screenX,Rp=t.screenY-rc.screenY):Rp=kp=0,rc=t),kp)},movementY:function(t){return"movementY"in t?t.movementY:Rp}}),h2=si(Td),Eb=cn({},Td,{dataTransfer:0}),xb=si(Eb),Pb=cn({},fh,{relatedTarget:0}),Dp=si(Pb),Nb=cn({},Nu,{animationName:0,elapsedTime:0,pseudoElement:0}),Tb=si(Nb),Ib=cn({},Nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lb=si(Ib),Cb=cn({},Nu,{data:0}),f2=si(Cb),kb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Db={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Db[t])?!!e[t]:!1}function lg(){return Fb}var Ob=cn({},fh,{key:function(t){if(t.key){var e=kb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Rb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lg,charCode:function(t){return t.type==="keypress"?xf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mb=si(Ob),jb=cn({},Td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d2=si(jb),Vb=cn({},fh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lg}),Bb=si(Vb),zb=cn({},Nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ub=si(zb),qb=cn({},Td,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hb=si(qb),$b=[9,13,27,32],ug=Qo&&"CompositionEvent"in window,wc=null;Qo&&"documentMode"in document&&(wc=document.documentMode);var Wb=Qo&&"TextEvent"in window&&!wc,my=Qo&&(!ug||wc&&8<wc&&11>=wc),p2=" ",g2=!1;function vy(t,e){switch(t){case"keyup":return $b.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gl=!1;function Gb(t,e){switch(t){case"compositionend":return yy(e);case"keypress":return e.which!==32?null:(g2=!0,p2);case"textInput":return t=e.data,t===p2&&g2?null:t;default:return null}}function Kb(t,e){if(Gl)return t==="compositionend"||!ug&&vy(t,e)?(t=gy(),Ef=sg=Us=null,Gl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return my&&e.locale!=="ko"?null:e.data;default:return null}}var Qb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qb[t.type]:e==="textarea"}function wy(t,e,n,r){Yv(r),e=Kf(e,"onChange"),0<e.length&&(n=new ag("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _c=null,zc=null;function Yb(t){Ly(t,0)}function Id(t){var e=Yl(t);if(qv(e))return t}function Xb(t,e){if(t==="change")return e}var _y=!1;if(Qo){var Fp;if(Qo){var Op="oninput"in document;if(!Op){var v2=document.createElement("div");v2.setAttribute("oninput","return;"),Op=typeof v2.oninput=="function"}Fp=Op}else Fp=!1;_y=Fp&&(!document.documentMode||9<document.documentMode)}function y2(){_c&&(_c.detachEvent("onpropertychange",by),zc=_c=null)}function by(t){if(t.propertyName==="value"&&Id(zc)){var e=[];wy(e,zc,t,tg(t)),ey(Yb,e)}}function Jb(t,e,n){t==="focusin"?(y2(),_c=e,zc=n,_c.attachEvent("onpropertychange",by)):t==="focusout"&&y2()}function Zb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Id(zc)}function eA(t,e){if(t==="click")return Id(e)}function tA(t,e){if(t==="input"||t==="change")return Id(e)}function nA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wi=typeof Object.is=="function"?Object.is:nA;function Uc(t,e){if(Wi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!g1.call(e,i)||!Wi(t[i],e[i]))return!1}return!0}function w2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _2(t,e){var n=w2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w2(n)}}function Ay(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ay(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sy(){for(var t=window,e=zf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zf(t.document)}return e}function cg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rA(t){var e=Sy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ay(n.ownerDocument.documentElement,n)){if(r!==null&&cg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=_2(n,o);var s=_2(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iA=Qo&&"documentMode"in document&&11>=document.documentMode,Kl=null,D1=null,bc=null,F1=!1;function b2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;F1||Kl==null||Kl!==zf(r)||(r=Kl,"selectionStart"in r&&cg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bc&&Uc(bc,r)||(bc=r,r=Kf(D1,"onSelect"),0<r.length&&(e=new ag("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Kl)))}function ef(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ql={animationend:ef("Animation","AnimationEnd"),animationiteration:ef("Animation","AnimationIteration"),animationstart:ef("Animation","AnimationStart"),transitionend:ef("Transition","TransitionEnd")},Mp={},Ey={};Qo&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete Ql.animationend.animation,delete Ql.animationiteration.animation,delete Ql.animationstart.animation),"TransitionEvent"in window||delete Ql.transitionend.transition);function Ld(t){if(Mp[t])return Mp[t];if(!Ql[t])return t;var e=Ql[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ey)return Mp[t]=e[n];return t}var xy=Ld("animationend"),Py=Ld("animationiteration"),Ny=Ld("animationstart"),Ty=Ld("transitionend"),Iy=new Map,A2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(t,e){Iy.set(t,e),sl(e,[t])}for(var jp=0;jp<A2.length;jp++){var Vp=A2[jp],oA=Vp.toLowerCase(),sA=Vp[0].toUpperCase()+Vp.slice(1);fa(oA,"on"+sA)}fa(xy,"onAnimationEnd");fa(Py,"onAnimationIteration");fa(Ny,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(Ty,"onTransitionEnd");hu("onMouseEnter",["mouseout","mouseover"]);hu("onMouseLeave",["mouseout","mouseover"]);hu("onPointerEnter",["pointerout","pointerover"]);hu("onPointerLeave",["pointerout","pointerover"]);sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aA=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function S2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ob(r,e,void 0,t),t.currentTarget=null}function Ly(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;S2(i,a,h),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,h=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;S2(i,a,h),o=l}}}if(qf)throw t=L1,qf=!1,L1=null,t}function nn(t,e){var n=e[B1];n===void 0&&(n=e[B1]=new Set);var r=t+"__bubble";n.has(r)||(Cy(e,t,2,!1),n.add(r))}function Bp(t,e,n){var r=0;e&&(r|=4),Cy(n,t,r,e)}var tf="_reactListening"+Math.random().toString(36).slice(2);function qc(t){if(!t[tf]){t[tf]=!0,jv.forEach(function(n){n!=="selectionchange"&&(aA.has(n)||Bp(n,!1,t),Bp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tf]||(e[tf]=!0,Bp("selectionchange",!1,e))}}function Cy(t,e,n,r){switch(py(e)){case 1:var i=bb;break;case 4:i=Ab;break;default:i=og}n=i.bind(null,e,n,t),i=void 0,!I1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ba(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}ey(function(){var h=o,d=tg(n),m=[];e:{var y=Iy.get(t);if(y!==void 0){var g=ag,N=t;switch(t){case"keypress":if(xf(n)===0)break e;case"keydown":case"keyup":g=Mb;break;case"focusin":N="focus",g=Dp;break;case"focusout":N="blur",g=Dp;break;case"beforeblur":case"afterblur":g=Dp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=h2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=xb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Bb;break;case xy:case Py:case Ny:g=Tb;break;case Ty:g=Ub;break;case"scroll":g=Sb;break;case"wheel":g=Hb;break;case"copy":case"cut":case"paste":g=Lb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=d2}var L=(e&4)!==0,F=!L&&t==="scroll",_=L?y!==null?y+"Capture":null:y;L=[];for(var b=h,x;b!==null;){x=b;var O=x.stateNode;if(x.tag===5&&O!==null&&(x=O,_!==null&&(O=Mc(b,_),O!=null&&L.push(Hc(b,O,x)))),F)break;b=b.return}0<L.length&&(y=new g(y,N,null,n,d),m.push({event:y,listeners:L}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",y&&n!==N1&&(N=n.relatedTarget||n.fromElement)&&(Ba(N)||N[Yo]))break e;if((g||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,g?(N=n.relatedTarget||n.toElement,g=h,N=N?Ba(N):null,N!==null&&(F=al(N),N!==F||N.tag!==5&&N.tag!==6)&&(N=null)):(g=null,N=h),g!==N)){if(L=h2,O="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(L=d2,O="onPointerLeave",_="onPointerEnter",b="pointer"),F=g==null?y:Yl(g),x=N==null?y:Yl(N),y=new L(O,b+"leave",g,n,d),y.target=F,y.relatedTarget=x,O=null,Ba(d)===h&&(L=new L(_,b+"enter",N,n,d),L.target=x,L.relatedTarget=F,O=L),F=O,g&&N)t:{for(L=g,_=N,b=0,x=L;x;x=Ml(x))b++;for(x=0,O=_;O;O=Ml(O))x++;for(;0<b-x;)L=Ml(L),b--;for(;0<x-b;)_=Ml(_),x--;for(;b--;){if(L===_||_!==null&&L===_.alternate)break t;L=Ml(L),_=Ml(_)}L=null}else L=null;g!==null&&E2(m,y,g,L,!1),N!==null&&F!==null&&E2(m,F,N,L,!0)}}e:{if(y=h?Yl(h):window,g=y.nodeName&&y.nodeName.toLowerCase(),g==="select"||g==="input"&&y.type==="file")var H=Xb;else if(m2(y))if(_y)H=tA;else{H=Zb;var G=Jb}else(g=y.nodeName)&&g.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(H=eA);if(H&&(H=H(t,h))){wy(m,H,n,d);break e}G&&G(t,y,h),t==="focusout"&&(G=y._wrapperState)&&G.controlled&&y.type==="number"&&A1(y,"number",y.value)}switch(G=h?Yl(h):window,t){case"focusin":(m2(G)||G.contentEditable==="true")&&(Kl=G,D1=h,bc=null);break;case"focusout":bc=D1=Kl=null;break;case"mousedown":F1=!0;break;case"contextmenu":case"mouseup":case"dragend":F1=!1,b2(m,n,d);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":b2(m,n,d)}var T;if(ug)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Gl?vy(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(my&&n.locale!=="ko"&&(Gl||A!=="onCompositionStart"?A==="onCompositionEnd"&&Gl&&(T=gy()):(Us=d,sg="value"in Us?Us.value:Us.textContent,Gl=!0)),G=Kf(h,A),0<G.length&&(A=new f2(A,t,null,n,d),m.push({event:A,listeners:G}),T?A.data=T:(T=yy(n),T!==null&&(A.data=T)))),(T=Wb?Gb(t,n):Kb(t,n))&&(h=Kf(h,"onBeforeInput"),0<h.length&&(d=new f2("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:h}),d.data=T))}Ly(m,e)})}function Hc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Mc(t,n),o!=null&&r.unshift(Hc(t,o,i)),o=Mc(t,e),o!=null&&r.push(Hc(t,o,i))),t=t.return}return r}function Ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function E2(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,h=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&h!==null&&(a=h,i?(l=Mc(n,o),l!=null&&s.unshift(Hc(n,l,a))):i||(l=Mc(n,o),l!=null&&s.push(Hc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var lA=/\r\n?/g,uA=/\u0000|\uFFFD/g;function x2(t){return(typeof t=="string"?t:""+t).replace(lA,`
`).replace(uA,"")}function nf(t,e,n){if(e=x2(e),x2(t)!==e&&n)throw Error(De(425))}function Qf(){}var O1=null,M1=null;function j1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var V1=typeof setTimeout=="function"?setTimeout:void 0,cA=typeof clearTimeout=="function"?clearTimeout:void 0,P2=typeof Promise=="function"?Promise:void 0,hA=typeof queueMicrotask=="function"?queueMicrotask:typeof P2<"u"?function(t){return P2.resolve(null).then(t).catch(fA)}:V1;function fA(t){setTimeout(function(){throw t})}function Up(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bc(e)}function Qs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function N2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tu=Math.random().toString(36).slice(2),po="__reactFiber$"+Tu,$c="__reactProps$"+Tu,Yo="__reactContainer$"+Tu,B1="__reactEvents$"+Tu,dA="__reactListeners$"+Tu,pA="__reactHandles$"+Tu;function Ba(t){var e=t[po];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yo]||n[po]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=N2(t);t!==null;){if(n=t[po])return n;t=N2(t)}return e}t=n,n=t.parentNode}return null}function dh(t){return t=t[po]||t[Yo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(De(33))}function Cd(t){return t[$c]||null}var z1=[],Xl=-1;function da(t){return{current:t}}function sn(t){0>Xl||(t.current=z1[Xl],z1[Xl]=null,Xl--)}function Jt(t,e){Xl++,z1[Xl]=t.current,t.current=e}var sa={},wr=da(sa),Br=da(!1),Ja=sa;function fu(t,e){var n=t.type.contextTypes;if(!n)return sa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zr(t){return t=t.childContextTypes,t!=null}function Yf(){sn(Br),sn(wr)}function T2(t,e,n){if(wr.current!==sa)throw Error(De(168));Jt(wr,e),Jt(Br,n)}function ky(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(De(108,J3(t)||"Unknown",i));return cn({},n,r)}function Xf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sa,Ja=wr.current,Jt(wr,t),Jt(Br,Br.current),!0}function I2(t,e,n){var r=t.stateNode;if(!r)throw Error(De(169));n?(t=ky(t,e,Ja),r.__reactInternalMemoizedMergedChildContext=t,sn(Br),sn(wr),Jt(wr,t)):sn(Br),Jt(Br,n)}var $o=null,kd=!1,qp=!1;function Ry(t){$o===null?$o=[t]:$o.push(t)}function gA(t){kd=!0,Ry(t)}function pa(){if(!qp&&$o!==null){qp=!0;var t=0,e=Ut;try{var n=$o;for(Ut=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$o=null,kd=!1}catch(i){throw $o!==null&&($o=$o.slice(t+1)),iy(ng,pa),i}finally{Ut=e,qp=!1}}return null}var Jl=[],Zl=0,Jf=null,Zf=0,vi=[],yi=0,Za=null,Wo=1,Go="";function Oa(t,e){Jl[Zl++]=Zf,Jl[Zl++]=Jf,Jf=t,Zf=e}function Dy(t,e,n){vi[yi++]=Wo,vi[yi++]=Go,vi[yi++]=Za,Za=t;var r=Wo;t=Go;var i=32-Hi(r)-1;r&=~(1<<i),n+=1;var o=32-Hi(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Wo=1<<32-Hi(e)+i|n<<i|r,Go=o+t}else Wo=1<<o|n<<i|r,Go=t}function hg(t){t.return!==null&&(Oa(t,1),Dy(t,1,0))}function fg(t){for(;t===Jf;)Jf=Jl[--Zl],Jl[Zl]=null,Zf=Jl[--Zl],Jl[Zl]=null;for(;t===Za;)Za=vi[--yi],vi[yi]=null,Go=vi[--yi],vi[yi]=null,Wo=vi[--yi],vi[yi]=null}var ri=null,ei=null,an=!1,Ui=null;function Fy(t,e){var n=_i(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ri=t,ei=Qs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ri=t,ei=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Za!==null?{id:Wo,overflow:Go}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_i(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ri=t,ei=null,!0):!1;default:return!1}}function U1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function q1(t){if(an){var e=ei;if(e){var n=e;if(!L2(t,e)){if(U1(t))throw Error(De(418));e=Qs(n.nextSibling);var r=ri;e&&L2(t,e)?Fy(r,n):(t.flags=t.flags&-4097|2,an=!1,ri=t)}}else{if(U1(t))throw Error(De(418));t.flags=t.flags&-4097|2,an=!1,ri=t}}}function C2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ri=t}function rf(t){if(t!==ri)return!1;if(!an)return C2(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!j1(t.type,t.memoizedProps)),e&&(e=ei)){if(U1(t))throw Oy(),Error(De(418));for(;e;)Fy(t,e),e=Qs(e.nextSibling)}if(C2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(De(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ei=Qs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ei=null}}else ei=ri?Qs(t.stateNode.nextSibling):null;return!0}function Oy(){for(var t=ei;t;)t=Qs(t.nextSibling)}function du(){ei=ri=null,an=!1}function dg(t){Ui===null?Ui=[t]:Ui.push(t)}var mA=rs.ReactCurrentBatchConfig;function ic(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,t))}return t}function of(t,e){throw t=Object.prototype.toString.call(e),Error(De(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function k2(t){var e=t._init;return e(t._payload)}function My(t){function e(_,b){if(t){var x=_.deletions;x===null?(_.deletions=[b],_.flags|=16):x.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=Zs(_,b),_.index=0,_.sibling=null,_}function o(_,b,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<b?(_.flags|=2,b):x):(_.flags|=2,b)):(_.flags|=1048576,b)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,b,x,O){return b===null||b.tag!==6?(b=Yp(x,_.mode,O),b.return=_,b):(b=i(b,x),b.return=_,b)}function l(_,b,x,O){var H=x.type;return H===Wl?d(_,b,x.props.children,O,x.key):b!==null&&(b.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Os&&k2(H)===b.type)?(O=i(b,x.props),O.ref=ic(_,b,x),O.return=_,O):(O=kf(x.type,x.key,x.props,null,_.mode,O),O.ref=ic(_,b,x),O.return=_,O)}function h(_,b,x,O){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Xp(x,_.mode,O),b.return=_,b):(b=i(b,x.children||[]),b.return=_,b)}function d(_,b,x,O,H){return b===null||b.tag!==7?(b=Wa(x,_.mode,O,H),b.return=_,b):(b=i(b,x),b.return=_,b)}function m(_,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Yp(""+b,_.mode,x),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gh:return x=kf(b.type,b.key,b.props,null,_.mode,x),x.ref=ic(_,null,b),x.return=_,x;case $l:return b=Xp(b,_.mode,x),b.return=_,b;case Os:var O=b._init;return m(_,O(b._payload),x)}if(hc(b)||Zu(b))return b=Wa(b,_.mode,x,null),b.return=_,b;of(_,b)}return null}function y(_,b,x,O){var H=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return H!==null?null:a(_,b,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gh:return x.key===H?l(_,b,x,O):null;case $l:return x.key===H?h(_,b,x,O):null;case Os:return H=x._init,y(_,b,H(x._payload),O)}if(hc(x)||Zu(x))return H!==null?null:d(_,b,x,O,null);of(_,x)}return null}function g(_,b,x,O,H){if(typeof O=="string"&&O!==""||typeof O=="number")return _=_.get(x)||null,a(b,_,""+O,H);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Gh:return _=_.get(O.key===null?x:O.key)||null,l(b,_,O,H);case $l:return _=_.get(O.key===null?x:O.key)||null,h(b,_,O,H);case Os:var G=O._init;return g(_,b,x,G(O._payload),H)}if(hc(O)||Zu(O))return _=_.get(x)||null,d(b,_,O,H,null);of(b,O)}return null}function N(_,b,x,O){for(var H=null,G=null,T=b,A=b=0,k=null;T!==null&&A<x.length;A++){T.index>A?(k=T,T=null):k=T.sibling;var D=y(_,T,x[A],O);if(D===null){T===null&&(T=k);break}t&&T&&D.alternate===null&&e(_,T),b=o(D,b,A),G===null?H=D:G.sibling=D,G=D,T=k}if(A===x.length)return n(_,T),an&&Oa(_,A),H;if(T===null){for(;A<x.length;A++)T=m(_,x[A],O),T!==null&&(b=o(T,b,A),G===null?H=T:G.sibling=T,G=T);return an&&Oa(_,A),H}for(T=r(_,T);A<x.length;A++)k=g(T,_,A,x[A],O),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?A:k.key),b=o(k,b,A),G===null?H=k:G.sibling=k,G=k);return t&&T.forEach(function(S){return e(_,S)}),an&&Oa(_,A),H}function L(_,b,x,O){var H=Zu(x);if(typeof H!="function")throw Error(De(150));if(x=H.call(x),x==null)throw Error(De(151));for(var G=H=null,T=b,A=b=0,k=null,D=x.next();T!==null&&!D.done;A++,D=x.next()){T.index>A?(k=T,T=null):k=T.sibling;var S=y(_,T,D.value,O);if(S===null){T===null&&(T=k);break}t&&T&&S.alternate===null&&e(_,T),b=o(S,b,A),G===null?H=S:G.sibling=S,G=S,T=k}if(D.done)return n(_,T),an&&Oa(_,A),H;if(T===null){for(;!D.done;A++,D=x.next())D=m(_,D.value,O),D!==null&&(b=o(D,b,A),G===null?H=D:G.sibling=D,G=D);return an&&Oa(_,A),H}for(T=r(_,T);!D.done;A++,D=x.next())D=g(T,_,A,D.value,O),D!==null&&(t&&D.alternate!==null&&T.delete(D.key===null?A:D.key),b=o(D,b,A),G===null?H=D:G.sibling=D,G=D);return t&&T.forEach(function(E){return e(_,E)}),an&&Oa(_,A),H}function F(_,b,x,O){if(typeof x=="object"&&x!==null&&x.type===Wl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Gh:e:{for(var H=x.key,G=b;G!==null;){if(G.key===H){if(H=x.type,H===Wl){if(G.tag===7){n(_,G.sibling),b=i(G,x.props.children),b.return=_,_=b;break e}}else if(G.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Os&&k2(H)===G.type){n(_,G.sibling),b=i(G,x.props),b.ref=ic(_,G,x),b.return=_,_=b;break e}n(_,G);break}else e(_,G);G=G.sibling}x.type===Wl?(b=Wa(x.props.children,_.mode,O,x.key),b.return=_,_=b):(O=kf(x.type,x.key,x.props,null,_.mode,O),O.ref=ic(_,b,x),O.return=_,_=O)}return s(_);case $l:e:{for(G=x.key;b!==null;){if(b.key===G)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(_,b.sibling),b=i(b,x.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else e(_,b);b=b.sibling}b=Xp(x,_.mode,O),b.return=_,_=b}return s(_);case Os:return G=x._init,F(_,b,G(x._payload),O)}if(hc(x))return N(_,b,x,O);if(Zu(x))return L(_,b,x,O);of(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(_,b.sibling),b=i(b,x),b.return=_,_=b):(n(_,b),b=Yp(x,_.mode,O),b.return=_,_=b),s(_)):n(_,b)}return F}var pu=My(!0),jy=My(!1),ed=da(null),td=null,eu=null,pg=null;function gg(){pg=eu=td=null}function mg(t){var e=ed.current;sn(ed),t._currentValue=e}function H1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function au(t,e){td=t,pg=eu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vr=!0),t.firstContext=null)}function Si(t){var e=t._currentValue;if(pg!==t)if(t={context:t,memoizedValue:e,next:null},eu===null){if(td===null)throw Error(De(308));eu=t,td.dependencies={lanes:0,firstContext:t}}else eu=eu.next=t;return e}var za=null;function vg(t){za===null?za=[t]:za.push(t)}function Vy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xo(t,r)}function Xo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ms=!1;function yg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function By(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ko(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ys(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xo(t,n)}return i=r.interleaved,i===null?(e.next=e,vg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xo(t,n)}function Pf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rg(t,n)}}function R2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nd(t,e,n,r){var i=t.updateQueue;Ms=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,h=l.next;l.next=null,s===null?o=h:s.next=h,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=h:a.next=h,d.lastBaseUpdate=l))}if(o!==null){var m=i.baseState;s=0,d=h=l=null,a=o;do{var y=a.lane,g=a.eventTime;if((r&y)===y){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=t,L=a;switch(y=e,g=n,L.tag){case 1:if(N=L.payload,typeof N=="function"){m=N.call(g,m,y);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=L.payload,y=typeof N=="function"?N.call(g,m,y):N,y==null)break e;m=cn({},m,y);break e;case 2:Ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else g={eventTime:g,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(h=d=g,l=m):d=d.next=g,s|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(d===null&&(l=m),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);tl|=s,t.lanes=s,t.memoizedState=m}}function D2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(De(191,i));i.call(r)}}}var ph={},vo=da(ph),Wc=da(ph),Gc=da(ph);function Ua(t){if(t===ph)throw Error(De(174));return t}function wg(t,e){switch(Jt(Gc,e),Jt(Wc,t),Jt(vo,ph),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:E1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=E1(e,t)}sn(vo),Jt(vo,e)}function gu(){sn(vo),sn(Wc),sn(Gc)}function zy(t){Ua(Gc.current);var e=Ua(vo.current),n=E1(e,t.type);e!==n&&(Jt(Wc,t),Jt(vo,n))}function _g(t){Wc.current===t&&(sn(vo),sn(Wc))}var ln=da(0);function rd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hp=[];function bg(){for(var t=0;t<Hp.length;t++)Hp[t]._workInProgressVersionPrimary=null;Hp.length=0}var Nf=rs.ReactCurrentDispatcher,$p=rs.ReactCurrentBatchConfig,el=0,un=null,Mn=null,Hn=null,id=!1,Ac=!1,Kc=0,vA=0;function lr(){throw Error(De(321))}function Ag(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wi(t[n],e[n]))return!1;return!0}function Sg(t,e,n,r,i,o){if(el=o,un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nf.current=t===null||t.memoizedState===null?bA:AA,t=n(r,i),Ac){o=0;do{if(Ac=!1,Kc=0,25<=o)throw Error(De(301));o+=1,Hn=Mn=null,e.updateQueue=null,Nf.current=SA,t=n(r,i)}while(Ac)}if(Nf.current=od,e=Mn!==null&&Mn.next!==null,el=0,Hn=Mn=un=null,id=!1,e)throw Error(De(300));return t}function Eg(){var t=Kc!==0;return Kc=0,t}function fo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?un.memoizedState=Hn=t:Hn=Hn.next=t,Hn}function Ei(){if(Mn===null){var t=un.alternate;t=t!==null?t.memoizedState:null}else t=Mn.next;var e=Hn===null?un.memoizedState:Hn.next;if(e!==null)Hn=e,Mn=t;else{if(t===null)throw Error(De(310));Mn=t,t={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},Hn===null?un.memoizedState=Hn=t:Hn=Hn.next=t}return Hn}function Qc(t,e){return typeof e=="function"?e(t):e}function Wp(t){var e=Ei(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=Mn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,h=o;do{var d=h.lane;if((el&d)===d)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(a=l=m,s=r):l=l.next=m,un.lanes|=d,tl|=d}h=h.next}while(h!==null&&h!==o);l===null?s=r:l.next=a,Wi(r,e.memoizedState)||(Vr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,un.lanes|=o,tl|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gp(t){var e=Ei(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Wi(o,e.memoizedState)||(Vr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Uy(){}function qy(t,e){var n=un,r=Ei(),i=e(),o=!Wi(r.memoizedState,i);if(o&&(r.memoizedState=i,Vr=!0),r=r.queue,xg(Wy.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Hn!==null&&Hn.memoizedState.tag&1){if(n.flags|=2048,Yc(9,$y.bind(null,n,r,i,e),void 0,null),$n===null)throw Error(De(349));el&30||Hy(n,e,i)}return i}function Hy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $y(t,e,n,r){e.value=n,e.getSnapshot=r,Gy(e)&&Ky(t)}function Wy(t,e,n){return n(function(){Gy(e)&&Ky(t)})}function Gy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wi(t,n)}catch{return!0}}function Ky(t){var e=Xo(t,1);e!==null&&$i(e,t,1,-1)}function F2(t){var e=fo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:t},e.queue=t,t=t.dispatch=_A.bind(null,un,t),[e.memoizedState,t]}function Yc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Qy(){return Ei().memoizedState}function Tf(t,e,n,r){var i=fo();un.flags|=t,i.memoizedState=Yc(1|e,n,void 0,r===void 0?null:r)}function Rd(t,e,n,r){var i=Ei();r=r===void 0?null:r;var o=void 0;if(Mn!==null){var s=Mn.memoizedState;if(o=s.destroy,r!==null&&Ag(r,s.deps)){i.memoizedState=Yc(e,n,o,r);return}}un.flags|=t,i.memoizedState=Yc(1|e,n,o,r)}function O2(t,e){return Tf(8390656,8,t,e)}function xg(t,e){return Rd(2048,8,t,e)}function Yy(t,e){return Rd(4,2,t,e)}function Xy(t,e){return Rd(4,4,t,e)}function Jy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zy(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4,4,Jy.bind(null,e,t),n)}function Pg(){}function ew(t,e){var n=Ei();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ag(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tw(t,e){var n=Ei();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ag(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nw(t,e,n){return el&21?(Wi(n,e)||(n=ay(),un.lanes|=n,tl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vr=!0),t.memoizedState=n)}function yA(t,e){var n=Ut;Ut=n!==0&&4>n?n:4,t(!0);var r=$p.transition;$p.transition={};try{t(!1),e()}finally{Ut=n,$p.transition=r}}function rw(){return Ei().memoizedState}function wA(t,e,n){var r=Js(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iw(t))ow(e,n);else if(n=Vy(t,e,n,r),n!==null){var i=Nr();$i(n,t,r,i),sw(n,e,r)}}function _A(t,e,n){var r=Js(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iw(t))ow(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Wi(a,s)){var l=e.interleaved;l===null?(i.next=i,vg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Vy(t,e,i,r),n!==null&&(i=Nr(),$i(n,t,r,i),sw(n,e,r))}}function iw(t){var e=t.alternate;return t===un||e!==null&&e===un}function ow(t,e){Ac=id=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rg(t,n)}}var od={readContext:Si,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},bA={readContext:Si,useCallback:function(t,e){return fo().memoizedState=[t,e===void 0?null:e],t},useContext:Si,useEffect:O2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tf(4194308,4,Jy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tf(4,2,t,e)},useMemo:function(t,e){var n=fo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wA.bind(null,un,t),[r.memoizedState,t]},useRef:function(t){var e=fo();return t={current:t},e.memoizedState=t},useState:F2,useDebugValue:Pg,useDeferredValue:function(t){return fo().memoizedState=t},useTransition:function(){var t=F2(!1),e=t[0];return t=yA.bind(null,t[1]),fo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=un,i=fo();if(an){if(n===void 0)throw Error(De(407));n=n()}else{if(n=e(),$n===null)throw Error(De(349));el&30||Hy(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,O2(Wy.bind(null,r,o,t),[t]),r.flags|=2048,Yc(9,$y.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=fo(),e=$n.identifierPrefix;if(an){var n=Go,r=Wo;n=(r&~(1<<32-Hi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AA={readContext:Si,useCallback:ew,useContext:Si,useEffect:xg,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Xy,useMemo:tw,useReducer:Wp,useRef:Qy,useState:function(){return Wp(Qc)},useDebugValue:Pg,useDeferredValue:function(t){var e=Ei();return nw(e,Mn.memoizedState,t)},useTransition:function(){var t=Wp(Qc)[0],e=Ei().memoizedState;return[t,e]},useMutableSource:Uy,useSyncExternalStore:qy,useId:rw,unstable_isNewReconciler:!1},SA={readContext:Si,useCallback:ew,useContext:Si,useEffect:xg,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Xy,useMemo:tw,useReducer:Gp,useRef:Qy,useState:function(){return Gp(Qc)},useDebugValue:Pg,useDeferredValue:function(t){var e=Ei();return Mn===null?e.memoizedState=t:nw(e,Mn.memoizedState,t)},useTransition:function(){var t=Gp(Qc)[0],e=Ei().memoizedState;return[t,e]},useMutableSource:Uy,useSyncExternalStore:qy,useId:rw,unstable_isNewReconciler:!1};function Vi(t,e){if(t&&t.defaultProps){e=cn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:cn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dd={isMounted:function(t){return(t=t._reactInternals)?al(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nr(),i=Js(t),o=Ko(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ys(t,o,i),e!==null&&($i(e,t,i,r),Pf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nr(),i=Js(t),o=Ko(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ys(t,o,i),e!==null&&($i(e,t,i,r),Pf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nr(),r=Js(t),i=Ko(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ys(t,i,r),e!==null&&($i(e,t,r,n),Pf(e,t,r))}};function M2(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Uc(n,r)||!Uc(i,o):!0}function aw(t,e,n){var r=!1,i=sa,o=e.contextType;return typeof o=="object"&&o!==null?o=Si(o):(i=zr(e)?Ja:wr.current,r=e.contextTypes,o=(r=r!=null)?fu(t,i):sa),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function j2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dd.enqueueReplaceState(e,e.state,null)}function W1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},yg(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Si(o):(o=zr(e)?Ja:wr.current,i.context=fu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&($1(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dd.enqueueReplaceState(i,i.state,null),nd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mu(t,e){try{var n="",r=e;do n+=X3(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Kp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function G1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EA=typeof WeakMap=="function"?WeakMap:Map;function lw(t,e,n){n=Ko(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ad||(ad=!0,r0=r),G1(t,e)},n}function uw(t,e,n){n=Ko(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){G1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){G1(t,e),typeof r!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function V2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jA.bind(null,t,e,n),e.then(t,t))}function B2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ko(-1,1),e.tag=2,Ys(n,e,1))),n.lanes|=1),t)}var xA=rs.ReactCurrentOwner,Vr=!1;function Pr(t,e,n,r){e.child=t===null?jy(e,null,n,r):pu(e,t.child,n,r)}function U2(t,e,n,r,i){n=n.render;var o=e.ref;return au(e,i),r=Sg(t,e,n,r,o,i),n=Eg(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(an&&n&&hg(e),e.flags|=1,Pr(t,e,r,i),e.child)}function q2(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Dg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,cw(t,e,o,r,i)):(t=kf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Uc,n(s,r)&&t.ref===e.ref)return Jo(t,e,i)}return e.flags|=1,t=Zs(o,r),t.ref=e.ref,t.return=e,e.child=t}function cw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Uc(o,r)&&t.ref===e.ref)if(Vr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Vr=!0);else return e.lanes=t.lanes,Jo(t,e,i)}return K1(t,e,n,r,i)}function hw(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(nu,Zr),Zr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Jt(nu,Zr),Zr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Jt(nu,Zr),Zr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Jt(nu,Zr),Zr|=r;return Pr(t,e,i,n),e.child}function fw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function K1(t,e,n,r,i){var o=zr(n)?Ja:wr.current;return o=fu(e,o),au(e,i),n=Sg(t,e,n,r,o,i),r=Eg(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(an&&r&&hg(e),e.flags|=1,Pr(t,e,n,i),e.child)}function H2(t,e,n,r,i){if(zr(n)){var o=!0;Xf(e)}else o=!1;if(au(e,i),e.stateNode===null)If(t,e),aw(e,n,r),W1(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=Si(h):(h=zr(n)?Ja:wr.current,h=fu(e,h));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==h)&&j2(e,s,r,h),Ms=!1;var y=e.memoizedState;s.state=y,nd(e,r,s,i),l=e.memoizedState,a!==r||y!==l||Br.current||Ms?(typeof d=="function"&&($1(e,n,d,r),l=e.memoizedState),(a=Ms||M2(e,n,a,r,y,l,h))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=h,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,By(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:Vi(e.type,a),s.props=h,m=e.pendingProps,y=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Si(l):(l=zr(n)?Ja:wr.current,l=fu(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||y!==l)&&j2(e,s,r,l),Ms=!1,y=e.memoizedState,s.state=y,nd(e,r,s,i);var N=e.memoizedState;a!==m||y!==N||Br.current||Ms?(typeof g=="function"&&($1(e,n,g,r),N=e.memoizedState),(h=Ms||M2(e,n,h,r,y,N,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,N,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,N,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=N),s.props=r,s.state=N,s.context=l,r=h):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Q1(t,e,n,r,o,i)}function Q1(t,e,n,r,i,o){fw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&I2(e,n,!1),Jo(t,e,o);r=e.stateNode,xA.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=pu(e,t.child,null,o),e.child=pu(e,null,a,o)):Pr(t,e,a,o),e.memoizedState=r.state,i&&I2(e,n,!0),e.child}function dw(t){var e=t.stateNode;e.pendingContext?T2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&T2(t,e.context,!1),wg(t,e.containerInfo)}function $2(t,e,n,r,i){return du(),dg(i),e.flags|=256,Pr(t,e,n,r),e.child}var Y1={dehydrated:null,treeContext:null,retryLane:0};function X1(t){return{baseLanes:t,cachePool:null,transitions:null}}function pw(t,e,n){var r=e.pendingProps,i=ln.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Jt(ln,i&1),t===null)return q1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Md(s,r,0,null),t=Wa(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=X1(n),e.memoizedState=Y1,t):Ng(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return PA(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Zs(a,o):(o=Wa(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?X1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Y1,r}return o=t.child,t=o.sibling,r=Zs(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ng(t,e){return e=Md({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sf(t,e,n,r){return r!==null&&dg(r),pu(e,t.child,null,n),t=Ng(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PA(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Kp(Error(De(422))),sf(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Md({mode:"visible",children:r.children},i,0,null),o=Wa(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&pu(e,t.child,null,s),e.child.memoizedState=X1(s),e.memoizedState=Y1,o);if(!(e.mode&1))return sf(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(De(419)),r=Kp(o,r,void 0),sf(t,e,s,r)}if(a=(s&t.childLanes)!==0,Vr||a){if(r=$n,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Xo(t,i),$i(r,t,i,-1))}return Rg(),r=Kp(Error(De(421))),sf(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VA.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ei=Qs(i.nextSibling),ri=e,an=!0,Ui=null,t!==null&&(vi[yi++]=Wo,vi[yi++]=Go,vi[yi++]=Za,Wo=t.id,Go=t.overflow,Za=e),e=Ng(e,r.children),e.flags|=4096,e)}function W2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),H1(t.return,e,n)}function Qp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function gw(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Pr(t,e,r.children,n),r=ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W2(t,n,e);else if(t.tag===19)W2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Jt(ln,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qp(e,!0,n,null,o);break;case"together":Qp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function If(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(De(153));if(e.child!==null){for(t=e.child,n=Zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NA(t,e,n){switch(e.tag){case 3:dw(e),du();break;case 5:zy(e);break;case 1:zr(e.type)&&Xf(e);break;case 4:wg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Jt(ed,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Jt(ln,ln.current&1),e.flags|=128,null):n&e.child.childLanes?pw(t,e,n):(Jt(ln,ln.current&1),t=Jo(t,e,n),t!==null?t.sibling:null);Jt(ln,ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jt(ln,ln.current),r)break;return null;case 22:case 23:return e.lanes=0,hw(t,e,n)}return Jo(t,e,n)}var mw,J1,vw,yw;mw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};J1=function(){};vw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ua(vo.current);var o=null;switch(n){case"input":i=_1(t,i),r=_1(t,r),o=[];break;case"select":i=cn({},i,{value:void 0}),r=cn({},r,{value:void 0}),o=[];break;case"textarea":i=S1(t,i),r=S1(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qf)}x1(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Fc.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var l=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==a&&(l!=null||a!=null))if(h==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Fc.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&nn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(h,l))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};yw=function(t,e,n,r){n!==r&&(e.flags|=4)};function oc(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ur(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TA(t,e,n){var r=e.pendingProps;switch(fg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(e),null;case 1:return zr(e.type)&&Yf(),ur(e),null;case 3:return r=e.stateNode,gu(),sn(Br),sn(wr),bg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ui!==null&&(s0(Ui),Ui=null))),J1(t,e),ur(e),null;case 5:_g(e);var i=Ua(Gc.current);if(n=e.type,t!==null&&e.stateNode!=null)vw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(De(166));return ur(e),null}if(t=Ua(vo.current),rf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[po]=e,r[$c]=o,t=(e.mode&1)!==0,n){case"dialog":nn("cancel",r),nn("close",r);break;case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(i=0;i<dc.length;i++)nn(dc[i],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"input":t2(r,o),nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nn("invalid",r);break;case"textarea":r2(r,o),nn("invalid",r)}x1(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&nf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&nf(r.textContent,a,t),i=["children",""+a]):Fc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&nn("scroll",r)}switch(n){case"input":Kh(r),n2(r,o,!0);break;case"textarea":Kh(r),i2(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Qf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[po]=e,t[$c]=r,mw(t,e,!1,!1),e.stateNode=t;e:{switch(s=P1(n,r),n){case"dialog":nn("cancel",t),nn("close",t),i=r;break;case"iframe":case"object":case"embed":nn("load",t),i=r;break;case"video":case"audio":for(i=0;i<dc.length;i++)nn(dc[i],t);i=r;break;case"source":nn("error",t),i=r;break;case"img":case"image":case"link":nn("error",t),nn("load",t),i=r;break;case"details":nn("toggle",t),i=r;break;case"input":t2(t,r),i=_1(t,r),nn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=cn({},r,{value:void 0}),nn("invalid",t);break;case"textarea":r2(t,r),i=S1(t,r),nn("invalid",t);break;default:i=r}x1(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Qv(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Gv(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Oc(t,l):typeof l=="number"&&Oc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nn("scroll",t):l!=null&&X0(t,o,l,s))}switch(n){case"input":Kh(t),n2(t,r,!1);break;case"textarea":Kh(t),i2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oa(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ru(t,!!r.multiple,o,!1):r.defaultValue!=null&&ru(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ur(e),null;case 6:if(t&&e.stateNode!=null)yw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(De(166));if(n=Ua(Gc.current),Ua(vo.current),rf(e)){if(r=e.stateNode,n=e.memoizedProps,r[po]=e,(o=r.nodeValue!==n)&&(t=ri,t!==null))switch(t.tag){case 3:nf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[po]=e,e.stateNode=r}return ur(e),null;case 13:if(sn(ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&ei!==null&&e.mode&1&&!(e.flags&128))Oy(),du(),e.flags|=98560,o=!1;else if(o=rf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(De(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(De(317));o[po]=e}else du(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ur(e),o=!1}else Ui!==null&&(s0(Ui),Ui=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ln.current&1?Vn===0&&(Vn=3):Rg())),e.updateQueue!==null&&(e.flags|=4),ur(e),null);case 4:return gu(),J1(t,e),t===null&&qc(e.stateNode.containerInfo),ur(e),null;case 10:return mg(e.type._context),ur(e),null;case 17:return zr(e.type)&&Yf(),ur(e),null;case 19:if(sn(ln),o=e.memoizedState,o===null)return ur(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)oc(o,!1);else{if(Vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=rd(t),s!==null){for(e.flags|=128,oc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Jt(ln,ln.current&1|2),e.child}t=t.sibling}o.tail!==null&&Sn()>vu&&(e.flags|=128,r=!0,oc(o,!1),e.lanes=4194304)}else{if(!r)if(t=rd(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!an)return ur(e),null}else 2*Sn()-o.renderingStartTime>vu&&n!==1073741824&&(e.flags|=128,r=!0,oc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Sn(),e.sibling=null,n=ln.current,Jt(ln,r?n&1|2:n&1),e):(ur(e),null);case 22:case 23:return kg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zr&1073741824&&(ur(e),e.subtreeFlags&6&&(e.flags|=8192)):ur(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function IA(t,e){switch(fg(e),e.tag){case 1:return zr(e.type)&&Yf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gu(),sn(Br),sn(wr),bg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _g(e),null;case 13:if(sn(ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(De(340));du()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return sn(ln),null;case 4:return gu(),null;case 10:return mg(e.type._context),null;case 22:case 23:return kg(),null;case 24:return null;default:return null}}var af=!1,mr=!1,LA=typeof WeakSet=="function"?WeakSet:Set,We=null;function tu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vn(t,e,r)}else n.current=null}function Z1(t,e,n){try{n()}catch(r){vn(t,e,r)}}var G2=!1;function CA(t,e){if(O1=Wf,t=Sy(),cg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,h=0,d=0,m=t,y=null;t:for(;;){for(var g;m!==n||i!==0&&m.nodeType!==3||(a=s+i),m!==o||r!==0&&m.nodeType!==3||(l=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(g=m.firstChild)!==null;)y=m,m=g;for(;;){if(m===t)break t;if(y===n&&++h===i&&(a=s),y===o&&++d===r&&(l=s),(g=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(M1={focusedElem:t,selectionRange:n},Wf=!1,We=e;We!==null;)if(e=We,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,We=t;else for(;We!==null;){e=We;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var L=N.memoizedProps,F=N.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?L:Vi(e.type,L),F);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(O){vn(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}return N=G2,G2=!1,N}function Sc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Z1(e,n,o)}i=i.next}while(i!==r)}}function Fd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function e0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ww(t){var e=t.alternate;e!==null&&(t.alternate=null,ww(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[po],delete e[$c],delete e[B1],delete e[dA],delete e[pA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _w(t){return t.tag===5||t.tag===3||t.tag===4}function K2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_w(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function t0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qf));else if(r!==4&&(t=t.child,t!==null))for(t0(t,e,n),t=t.sibling;t!==null;)t0(t,e,n),t=t.sibling}function n0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(n0(t,e,n),t=t.sibling;t!==null;)n0(t,e,n),t=t.sibling}var Xn=null,zi=!1;function Rs(t,e,n){for(n=n.child;n!==null;)bw(t,e,n),n=n.sibling}function bw(t,e,n){if(mo&&typeof mo.onCommitFiberUnmount=="function")try{mo.onCommitFiberUnmount(Nd,n)}catch{}switch(n.tag){case 5:mr||tu(n,e);case 6:var r=Xn,i=zi;Xn=null,Rs(t,e,n),Xn=r,zi=i,Xn!==null&&(zi?(t=Xn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xn.removeChild(n.stateNode));break;case 18:Xn!==null&&(zi?(t=Xn,n=n.stateNode,t.nodeType===8?Up(t.parentNode,n):t.nodeType===1&&Up(t,n),Bc(t)):Up(Xn,n.stateNode));break;case 4:r=Xn,i=zi,Xn=n.stateNode.containerInfo,zi=!0,Rs(t,e,n),Xn=r,zi=i;break;case 0:case 11:case 14:case 15:if(!mr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Z1(n,e,s),i=i.next}while(i!==r)}Rs(t,e,n);break;case 1:if(!mr&&(tu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vn(n,e,a)}Rs(t,e,n);break;case 21:Rs(t,e,n);break;case 22:n.mode&1?(mr=(r=mr)||n.memoizedState!==null,Rs(t,e,n),mr=r):Rs(t,e,n);break;default:Rs(t,e,n)}}function Q2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LA),e.forEach(function(r){var i=BA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Oi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Xn=a.stateNode,zi=!1;break e;case 3:Xn=a.stateNode.containerInfo,zi=!0;break e;case 4:Xn=a.stateNode.containerInfo,zi=!0;break e}a=a.return}if(Xn===null)throw Error(De(160));bw(o,s,i),Xn=null,zi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){vn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Aw(e,t),e=e.sibling}function Aw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Oi(e,t),co(t),r&4){try{Sc(3,t,t.return),Fd(3,t)}catch(L){vn(t,t.return,L)}try{Sc(5,t,t.return)}catch(L){vn(t,t.return,L)}}break;case 1:Oi(e,t),co(t),r&512&&n!==null&&tu(n,n.return);break;case 5:if(Oi(e,t),co(t),r&512&&n!==null&&tu(n,n.return),t.flags&32){var i=t.stateNode;try{Oc(i,"")}catch(L){vn(t,t.return,L)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Hv(i,o),P1(a,s);var h=P1(a,o);for(s=0;s<l.length;s+=2){var d=l[s],m=l[s+1];d==="style"?Qv(i,m):d==="dangerouslySetInnerHTML"?Gv(i,m):d==="children"?Oc(i,m):X0(i,d,m,h)}switch(a){case"input":b1(i,o);break;case"textarea":$v(i,o);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ru(i,!!o.multiple,g,!1):y!==!!o.multiple&&(o.defaultValue!=null?ru(i,!!o.multiple,o.defaultValue,!0):ru(i,!!o.multiple,o.multiple?[]:"",!1))}i[$c]=o}catch(L){vn(t,t.return,L)}}break;case 6:if(Oi(e,t),co(t),r&4){if(t.stateNode===null)throw Error(De(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(L){vn(t,t.return,L)}}break;case 3:if(Oi(e,t),co(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bc(e.containerInfo)}catch(L){vn(t,t.return,L)}break;case 4:Oi(e,t),co(t);break;case 13:Oi(e,t),co(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Lg=Sn())),r&4&&Q2(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(mr=(h=mr)||d,Oi(e,t),mr=h):Oi(e,t),co(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(We=t,d=t.child;d!==null;){for(m=We=d;We!==null;){switch(y=We,g=y.child,y.tag){case 0:case 11:case 14:case 15:Sc(4,y,y.return);break;case 1:tu(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(L){vn(r,n,L)}}break;case 5:tu(y,y.return);break;case 22:if(y.memoizedState!==null){X2(m);continue}}g!==null?(g.return=y,We=g):X2(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=m.stateNode,l=m.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Kv("display",s))}catch(L){vn(t,t.return,L)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(L){vn(t,t.return,L)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Oi(e,t),co(t),r&4&&Q2(t);break;case 21:break;default:Oi(e,t),co(t)}}function co(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_w(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Oc(i,""),r.flags&=-33);var o=K2(t);n0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=K2(t);t0(t,a,s);break;default:throw Error(De(161))}}catch(l){vn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kA(t,e,n){We=t,Sw(t)}function Sw(t,e,n){for(var r=(t.mode&1)!==0;We!==null;){var i=We,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||af;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||mr;a=af;var h=mr;if(af=s,(mr=l)&&!h)for(We=i;We!==null;)s=We,l=s.child,s.tag===22&&s.memoizedState!==null?J2(i):l!==null?(l.return=s,We=l):J2(i);for(;o!==null;)We=o,Sw(o),o=o.sibling;We=i,af=a,mr=h}Y2(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,We=o):Y2(t)}}function Y2(t){for(;We!==null;){var e=We;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mr||Fd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&D2(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}D2(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Bc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}mr||e.flags&512&&e0(e)}catch(y){vn(e,e.return,y)}}if(e===t){We=null;break}if(n=e.sibling,n!==null){n.return=e.return,We=n;break}We=e.return}}function X2(t){for(;We!==null;){var e=We;if(e===t){We=null;break}var n=e.sibling;if(n!==null){n.return=e.return,We=n;break}We=e.return}}function J2(t){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fd(4,e)}catch(l){vn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vn(e,i,l)}}var o=e.return;try{e0(e)}catch(l){vn(e,o,l)}break;case 5:var s=e.return;try{e0(e)}catch(l){vn(e,s,l)}}}catch(l){vn(e,e.return,l)}if(e===t){We=null;break}var a=e.sibling;if(a!==null){a.return=e.return,We=a;break}We=e.return}}var RA=Math.ceil,sd=rs.ReactCurrentDispatcher,Tg=rs.ReactCurrentOwner,bi=rs.ReactCurrentBatchConfig,kt=0,$n=null,Rn=null,er=0,Zr=0,nu=da(0),Vn=0,Xc=null,tl=0,Od=0,Ig=0,Ec=null,jr=null,Lg=0,vu=1/0,Ho=null,ad=!1,r0=null,Xs=null,lf=!1,qs=null,ld=0,xc=0,i0=null,Lf=-1,Cf=0;function Nr(){return kt&6?Sn():Lf!==-1?Lf:Lf=Sn()}function Js(t){return t.mode&1?kt&2&&er!==0?er&-er:mA.transition!==null?(Cf===0&&(Cf=ay()),Cf):(t=Ut,t!==0||(t=window.event,t=t===void 0?16:py(t.type)),t):1}function $i(t,e,n,r){if(50<xc)throw xc=0,i0=null,Error(De(185));hh(t,n,r),(!(kt&2)||t!==$n)&&(t===$n&&(!(kt&2)&&(Od|=n),Vn===4&&Vs(t,er)),Ur(t,r),n===1&&kt===0&&!(e.mode&1)&&(vu=Sn()+500,kd&&pa()))}function Ur(t,e){var n=t.callbackNode;mb(t,e);var r=$f(t,t===$n?er:0);if(r===0)n!==null&&a2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a2(n),e===1)t.tag===0?gA(Z2.bind(null,t)):Ry(Z2.bind(null,t)),hA(function(){!(kt&6)&&pa()}),n=null;else{switch(ly(r)){case 1:n=ng;break;case 4:n=oy;break;case 16:n=Hf;break;case 536870912:n=sy;break;default:n=Hf}n=Cw(n,Ew.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ew(t,e){if(Lf=-1,Cf=0,kt&6)throw Error(De(327));var n=t.callbackNode;if(lu()&&t.callbackNode!==n)return null;var r=$f(t,t===$n?er:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ud(t,r);else{e=r;var i=kt;kt|=2;var o=Pw();($n!==t||er!==e)&&(Ho=null,vu=Sn()+500,$a(t,e));do try{OA();break}catch(a){xw(t,a)}while(!0);gg(),sd.current=o,kt=i,Rn!==null?e=0:($n=null,er=0,e=Vn)}if(e!==0){if(e===2&&(i=C1(t),i!==0&&(r=i,e=o0(t,i))),e===1)throw n=Xc,$a(t,0),Vs(t,r),Ur(t,Sn()),n;if(e===6)Vs(t,r);else{if(i=t.current.alternate,!(r&30)&&!DA(i)&&(e=ud(t,r),e===2&&(o=C1(t),o!==0&&(r=o,e=o0(t,o))),e===1))throw n=Xc,$a(t,0),Vs(t,r),Ur(t,Sn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(De(345));case 2:Ma(t,jr,Ho);break;case 3:if(Vs(t,r),(r&130023424)===r&&(e=Lg+500-Sn(),10<e)){if($f(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Nr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=V1(Ma.bind(null,t,jr,Ho),e);break}Ma(t,jr,Ho);break;case 4:if(Vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Hi(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RA(r/1960))-r,10<r){t.timeoutHandle=V1(Ma.bind(null,t,jr,Ho),r);break}Ma(t,jr,Ho);break;case 5:Ma(t,jr,Ho);break;default:throw Error(De(329))}}}return Ur(t,Sn()),t.callbackNode===n?Ew.bind(null,t):null}function o0(t,e){var n=Ec;return t.current.memoizedState.isDehydrated&&($a(t,e).flags|=256),t=ud(t,e),t!==2&&(e=jr,jr=n,e!==null&&s0(e)),t}function s0(t){jr===null?jr=t:jr.push.apply(jr,t)}function DA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Wi(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e){for(e&=~Ig,e&=~Od,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hi(e),r=1<<n;t[n]=-1,e&=~r}}function Z2(t){if(kt&6)throw Error(De(327));lu();var e=$f(t,0);if(!(e&1))return Ur(t,Sn()),null;var n=ud(t,e);if(t.tag!==0&&n===2){var r=C1(t);r!==0&&(e=r,n=o0(t,r))}if(n===1)throw n=Xc,$a(t,0),Vs(t,e),Ur(t,Sn()),n;if(n===6)throw Error(De(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ma(t,jr,Ho),Ur(t,Sn()),null}function Cg(t,e){var n=kt;kt|=1;try{return t(e)}finally{kt=n,kt===0&&(vu=Sn()+500,kd&&pa())}}function nl(t){qs!==null&&qs.tag===0&&!(kt&6)&&lu();var e=kt;kt|=1;var n=bi.transition,r=Ut;try{if(bi.transition=null,Ut=1,t)return t()}finally{Ut=r,bi.transition=n,kt=e,!(kt&6)&&pa()}}function kg(){Zr=nu.current,sn(nu)}function $a(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cA(n)),Rn!==null)for(n=Rn.return;n!==null;){var r=n;switch(fg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yf();break;case 3:gu(),sn(Br),sn(wr),bg();break;case 5:_g(r);break;case 4:gu();break;case 13:sn(ln);break;case 19:sn(ln);break;case 10:mg(r.type._context);break;case 22:case 23:kg()}n=n.return}if($n=t,Rn=t=Zs(t.current,null),er=Zr=e,Vn=0,Xc=null,Ig=Od=tl=0,jr=Ec=null,za!==null){for(e=0;e<za.length;e++)if(n=za[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}za=null}return t}function xw(t,e){do{var n=Rn;try{if(gg(),Nf.current=od,id){for(var r=un.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}id=!1}if(el=0,Hn=Mn=un=null,Ac=!1,Kc=0,Tg.current=null,n===null||n.return===null){Vn=1,Xc=e,Rn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=er,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,d=a,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=B2(s);if(g!==null){g.flags&=-257,z2(g,s,a,o,e),g.mode&1&&V2(o,h,e),e=g,l=h;var N=e.updateQueue;if(N===null){var L=new Set;L.add(l),e.updateQueue=L}else N.add(l);break e}else{if(!(e&1)){V2(o,h,e),Rg();break e}l=Error(De(426))}}else if(an&&a.mode&1){var F=B2(s);if(F!==null){!(F.flags&65536)&&(F.flags|=256),z2(F,s,a,o,e),dg(mu(l,a));break e}}o=l=mu(l,a),Vn!==4&&(Vn=2),Ec===null?Ec=[o]:Ec.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=lw(o,l,e);R2(o,_);break e;case 1:a=l;var b=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Xs===null||!Xs.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=uw(o,a,e);R2(o,O);break e}}o=o.return}while(o!==null)}Tw(n)}catch(H){e=H,Rn===n&&n!==null&&(Rn=n=n.return);continue}break}while(!0)}function Pw(){var t=sd.current;return sd.current=od,t===null?od:t}function Rg(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),$n===null||!(tl&268435455)&&!(Od&268435455)||Vs($n,er)}function ud(t,e){var n=kt;kt|=2;var r=Pw();($n!==t||er!==e)&&(Ho=null,$a(t,e));do try{FA();break}catch(i){xw(t,i)}while(!0);if(gg(),kt=n,sd.current=r,Rn!==null)throw Error(De(261));return $n=null,er=0,Vn}function FA(){for(;Rn!==null;)Nw(Rn)}function OA(){for(;Rn!==null&&!ab();)Nw(Rn)}function Nw(t){var e=Lw(t.alternate,t,Zr);t.memoizedProps=t.pendingProps,e===null?Tw(t):Rn=e,Tg.current=null}function Tw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IA(n,e),n!==null){n.flags&=32767,Rn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vn=6,Rn=null;return}}else if(n=TA(n,e,Zr),n!==null){Rn=n;return}if(e=e.sibling,e!==null){Rn=e;return}Rn=e=t}while(e!==null);Vn===0&&(Vn=5)}function Ma(t,e,n){var r=Ut,i=bi.transition;try{bi.transition=null,Ut=1,MA(t,e,n,r)}finally{bi.transition=i,Ut=r}return null}function MA(t,e,n,r){do lu();while(qs!==null);if(kt&6)throw Error(De(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(De(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(vb(t,o),t===$n&&(Rn=$n=null,er=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lf||(lf=!0,Cw(Hf,function(){return lu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=bi.transition,bi.transition=null;var s=Ut;Ut=1;var a=kt;kt|=4,Tg.current=null,CA(t,n),Aw(n,t),rA(M1),Wf=!!O1,M1=O1=null,t.current=n,kA(n),lb(),kt=a,Ut=s,bi.transition=o}else t.current=n;if(lf&&(lf=!1,qs=t,ld=i),o=t.pendingLanes,o===0&&(Xs=null),hb(n.stateNode),Ur(t,Sn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ad)throw ad=!1,t=r0,r0=null,t;return ld&1&&t.tag!==0&&lu(),o=t.pendingLanes,o&1?t===i0?xc++:(xc=0,i0=t):xc=0,pa(),null}function lu(){if(qs!==null){var t=ly(ld),e=bi.transition,n=Ut;try{if(bi.transition=null,Ut=16>t?16:t,qs===null)var r=!1;else{if(t=qs,qs=null,ld=0,kt&6)throw Error(De(331));var i=kt;for(kt|=4,We=t.current;We!==null;){var o=We,s=o.child;if(We.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var h=a[l];for(We=h;We!==null;){var d=We;switch(d.tag){case 0:case 11:case 15:Sc(8,d,o)}var m=d.child;if(m!==null)m.return=d,We=m;else for(;We!==null;){d=We;var y=d.sibling,g=d.return;if(ww(d),d===h){We=null;break}if(y!==null){y.return=g,We=y;break}We=g}}}var N=o.alternate;if(N!==null){var L=N.child;if(L!==null){N.child=null;do{var F=L.sibling;L.sibling=null,L=F}while(L!==null)}}We=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,We=s;else e:for(;We!==null;){if(o=We,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Sc(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,We=_;break e}We=o.return}}var b=t.current;for(We=b;We!==null;){s=We;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,We=x;else e:for(s=b;We!==null;){if(a=We,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fd(9,a)}}catch(H){vn(a,a.return,H)}if(a===s){We=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,We=O;break e}We=a.return}}if(kt=i,pa(),mo&&typeof mo.onPostCommitFiberRoot=="function")try{mo.onPostCommitFiberRoot(Nd,t)}catch{}r=!0}return r}finally{Ut=n,bi.transition=e}}return!1}function e5(t,e,n){e=mu(n,e),e=lw(t,e,1),t=Ys(t,e,1),e=Nr(),t!==null&&(hh(t,1,e),Ur(t,e))}function vn(t,e,n){if(t.tag===3)e5(t,t,n);else for(;e!==null;){if(e.tag===3){e5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xs===null||!Xs.has(r))){t=mu(n,t),t=uw(e,t,1),e=Ys(e,t,1),t=Nr(),e!==null&&(hh(e,1,t),Ur(e,t));break}}e=e.return}}function jA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nr(),t.pingedLanes|=t.suspendedLanes&n,$n===t&&(er&n)===n&&(Vn===4||Vn===3&&(er&130023424)===er&&500>Sn()-Lg?$a(t,0):Ig|=n),Ur(t,e)}function Iw(t,e){e===0&&(t.mode&1?(e=Xh,Xh<<=1,!(Xh&130023424)&&(Xh=4194304)):e=1);var n=Nr();t=Xo(t,e),t!==null&&(hh(t,e,n),Ur(t,n))}function VA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Iw(t,n)}function BA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(e),Iw(t,n)}var Lw;Lw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Br.current)Vr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vr=!1,NA(t,e,n);Vr=!!(t.flags&131072)}else Vr=!1,an&&e.flags&1048576&&Dy(e,Zf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;If(t,e),t=e.pendingProps;var i=fu(e,wr.current);au(e,n),i=Sg(null,e,r,t,i,n);var o=Eg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zr(r)?(o=!0,Xf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yg(e),i.updater=Dd,e.stateNode=i,i._reactInternals=e,W1(e,r,t,n),e=Q1(null,e,r,!0,o,n)):(e.tag=0,an&&o&&hg(e),Pr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(If(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UA(r),t=Vi(r,t),i){case 0:e=K1(null,e,r,t,n);break e;case 1:e=H2(null,e,r,t,n);break e;case 11:e=U2(null,e,r,t,n);break e;case 14:e=q2(null,e,r,Vi(r.type,t),n);break e}throw Error(De(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vi(r,i),K1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vi(r,i),H2(t,e,r,i,n);case 3:e:{if(dw(e),t===null)throw Error(De(387));r=e.pendingProps,o=e.memoizedState,i=o.element,By(t,e),nd(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=mu(Error(De(423)),e),e=$2(t,e,r,n,i);break e}else if(r!==i){i=mu(Error(De(424)),e),e=$2(t,e,r,n,i);break e}else for(ei=Qs(e.stateNode.containerInfo.firstChild),ri=e,an=!0,Ui=null,n=jy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(du(),r===i){e=Jo(t,e,n);break e}Pr(t,e,r,n)}e=e.child}return e;case 5:return zy(e),t===null&&q1(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,j1(r,i)?s=null:o!==null&&j1(r,o)&&(e.flags|=32),fw(t,e),Pr(t,e,s,n),e.child;case 6:return t===null&&q1(e),null;case 13:return pw(t,e,n);case 4:return wg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pu(e,null,r,n):Pr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vi(r,i),U2(t,e,r,i,n);case 7:return Pr(t,e,e.pendingProps,n),e.child;case 8:return Pr(t,e,e.pendingProps.children,n),e.child;case 12:return Pr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Jt(ed,r._currentValue),r._currentValue=s,o!==null)if(Wi(o.value,s)){if(o.children===i.children&&!Br.current){e=Jo(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ko(-1,n&-n),l.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?l.next=l:(l.next=d.next,d.next=l),h.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),H1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(De(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),H1(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Pr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,au(e,n),i=Si(i),r=r(i),e.flags|=1,Pr(t,e,r,n),e.child;case 14:return r=e.type,i=Vi(r,e.pendingProps),i=Vi(r.type,i),q2(t,e,r,i,n);case 15:return cw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vi(r,i),If(t,e),e.tag=1,zr(r)?(t=!0,Xf(e)):t=!1,au(e,n),aw(e,r,i),W1(e,r,i,n),Q1(null,e,r,!0,t,n);case 19:return gw(t,e,n);case 22:return hw(t,e,n)}throw Error(De(156,e.tag))};function Cw(t,e){return iy(t,e)}function zA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(t,e,n,r){return new zA(t,e,n,r)}function Dg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UA(t){if(typeof t=="function")return Dg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Z0)return 11;if(t===eg)return 14}return 2}function Zs(t,e){var n=t.alternate;return n===null?(n=_i(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Dg(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Wl:return Wa(n.children,i,o,e);case J0:s=8,i|=8;break;case m1:return t=_i(12,n,e,i|2),t.elementType=m1,t.lanes=o,t;case v1:return t=_i(13,n,e,i),t.elementType=v1,t.lanes=o,t;case y1:return t=_i(19,n,e,i),t.elementType=y1,t.lanes=o,t;case zv:return Md(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vv:s=10;break e;case Bv:s=9;break e;case Z0:s=11;break e;case eg:s=14;break e;case Os:s=16,r=null;break e}throw Error(De(130,t==null?t:typeof t,""))}return e=_i(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Wa(t,e,n,r){return t=_i(7,t,r,e),t.lanes=n,t}function Md(t,e,n,r){return t=_i(22,t,r,e),t.elementType=zv,t.lanes=n,t.stateNode={isHidden:!1},t}function Yp(t,e,n){return t=_i(6,t,null,e),t.lanes=n,t}function Xp(t,e,n){return e=_i(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cp(0),this.expirationTimes=Cp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fg(t,e,n,r,i,o,s,a,l){return t=new qA(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=_i(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yg(o),t}function HA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$l,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kw(t){if(!t)return sa;t=t._reactInternals;e:{if(al(t)!==t||t.tag!==1)throw Error(De(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(t.tag===1){var n=t.type;if(zr(n))return ky(t,n,e)}return e}function Rw(t,e,n,r,i,o,s,a,l){return t=Fg(n,r,!0,t,i,o,s,a,l),t.context=kw(null),n=t.current,r=Nr(),i=Js(n),o=Ko(r,i),o.callback=e??null,Ys(n,o,i),t.current.lanes=i,hh(t,i,r),Ur(t,r),t}function jd(t,e,n,r){var i=e.current,o=Nr(),s=Js(i);return n=kw(n),e.context===null?e.context=n:e.pendingContext=n,e=Ko(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ys(i,e,s),t!==null&&($i(t,i,s,o),Pf(t,i,s)),s}function cd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Og(t,e){t5(t,e),(t=t.alternate)&&t5(t,e)}function $A(){return null}var Dw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mg(t){this._internalRoot=t}Vd.prototype.render=Mg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(De(409));jd(t,e,null,null)};Vd.prototype.unmount=Mg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nl(function(){jd(null,t,null,null)}),e[Yo]=null}};function Vd(t){this._internalRoot=t}Vd.prototype.unstable_scheduleHydration=function(t){if(t){var e=hy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<js.length&&e!==0&&e<js[n].priority;n++);js.splice(n,0,t),n===0&&dy(t)}};function jg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n5(){}function WA(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=cd(s);o.call(h)}}var s=Rw(e,r,t,0,null,!1,!1,"",n5);return t._reactRootContainer=s,t[Yo]=s.current,qc(t.nodeType===8?t.parentNode:t),nl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=cd(l);a.call(h)}}var l=Fg(t,0,!1,null,null,!1,!1,"",n5);return t._reactRootContainer=l,t[Yo]=l.current,qc(t.nodeType===8?t.parentNode:t),nl(function(){jd(e,l,n,r)}),l}function zd(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=cd(s);a.call(l)}}jd(e,s,t,i)}else s=WA(n,e,t,i,r);return cd(s)}uy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fc(e.pendingLanes);n!==0&&(rg(e,n|1),Ur(e,Sn()),!(kt&6)&&(vu=Sn()+500,pa()))}break;case 13:nl(function(){var r=Xo(t,1);if(r!==null){var i=Nr();$i(r,t,1,i)}}),Og(t,1)}};ig=function(t){if(t.tag===13){var e=Xo(t,134217728);if(e!==null){var n=Nr();$i(e,t,134217728,n)}Og(t,134217728)}};cy=function(t){if(t.tag===13){var e=Js(t),n=Xo(t,e);if(n!==null){var r=Nr();$i(n,t,e,r)}Og(t,e)}};hy=function(){return Ut};fy=function(t,e){var n=Ut;try{return Ut=t,e()}finally{Ut=n}};T1=function(t,e,n){switch(e){case"input":if(b1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cd(r);if(!i)throw Error(De(90));qv(r),b1(r,i)}}}break;case"textarea":$v(t,n);break;case"select":e=n.value,e!=null&&ru(t,!!n.multiple,e,!1)}};Jv=Cg;Zv=nl;var GA={usingClientEntryPoint:!1,Events:[dh,Yl,Cd,Yv,Xv,Cg]},sc={findFiberByHostInstance:Ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KA={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ny(t),t===null?null:t.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||$A,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{Nd=uf.inject(KA),mo=uf}catch{}}oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GA;oi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jg(e))throw Error(De(200));return HA(t,e,null,n)};oi.createRoot=function(t,e){if(!jg(t))throw Error(De(299));var n=!1,r="",i=Dw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fg(t,1,!1,null,null,n,!1,r,i),t[Yo]=e.current,qc(t.nodeType===8?t.parentNode:t),new Mg(e)};oi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(De(188)):(t=Object.keys(t).join(","),Error(De(268,t)));return t=ny(e),t=t===null?null:t.stateNode,t};oi.flushSync=function(t){return nl(t)};oi.hydrate=function(t,e,n){if(!Bd(e))throw Error(De(200));return zd(null,t,e,!0,n)};oi.hydrateRoot=function(t,e,n){if(!jg(t))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Dw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Rw(e,null,t,1,n??null,i,!1,o,s),t[Yo]=e.current,qc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vd(e)};oi.render=function(t,e,n){if(!Bd(e))throw Error(De(200));return zd(null,t,e,!1,n)};oi.unmountComponentAtNode=function(t){if(!Bd(t))throw Error(De(40));return t._reactRootContainer?(nl(function(){zd(null,null,t,!1,function(){t._reactRootContainer=null,t[Yo]=null})}),!0):!1};oi.unstable_batchedUpdates=Cg;oi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bd(n))throw Error(De(200));if(t==null||t._reactInternals===void 0)throw Error(De(38));return zd(t,e,n,!1,r)};oi.version="18.3.1-next-f1338f8080-20240426";function Fw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fw)}catch(t){console.error(t)}}Fw(),Fv.exports=oi;var QA=Fv.exports,Ow,r5=QA;Ow=r5.createRoot,r5.hydrateRoot;let YA={data:""},XA=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||YA,JA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ZA=/\/\*[^]*?\*\/|  +/g,i5=/\n+/g,Bs=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?Bs(s,o):o+"{"+Bs(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=Bs(s,e?e.replace(/([^,])+/g,a=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Bs.p?Bs.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Uo={},Mw=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Mw(t[n]);return e}return t},eS=(t,e,n,r,i)=>{let o=Mw(t),s=Uo[o]||(Uo[o]=(l=>{let h=0,d=11;for(;h<l.length;)d=101*d+l.charCodeAt(h++)>>>0;return"go"+d})(o));if(!Uo[s]){let l=o!==t?t:(h=>{let d,m,y=[{}];for(;d=JA.exec(h.replace(ZA,""));)d[4]?y.shift():d[3]?(m=d[3].replace(i5," ").trim(),y.unshift(y[0][m]=y[0][m]||{})):y[0][d[1]]=d[2].replace(i5," ").trim();return y[0]})(t);Uo[s]=Bs(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&Uo.g?Uo.g:null;return n&&(Uo.g=Uo[s]),((l,h,d,m)=>{m?h.data=h.data.replace(m,l):h.data.indexOf(l)===-1&&(h.data=d?l+h.data:h.data+l)})(Uo[s],e,r,a),s},tS=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":Bs(a,""):a===!1?"":a}return r+i+(s??"")},"");function Ud(t){let e=this||{},n=t.call?t(e.p):t;return eS(n.unshift?n.raw?tS(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,XA(e.target),e.g,e.o,e.k)}let jw,a0,l0;Ud.bind({g:1});let Zo=Ud.bind({k:1});function nS(t,e,n,r){Bs.p=e,jw=t,a0=n,l0=r}function ga(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:a0&&a0()},a),n.o=/ *go\d+/.test(l),a.className=Ud.apply(n,r)+(l?" "+l:"");let h=t;return t[0]&&(h=a.as||t,delete a.as),l0&&h[0]&&l0(a),jw(h,a)}return i}}var rS=t=>typeof t=="function",hd=(t,e)=>rS(t)?t(e):t,iS=(()=>{let t=0;return()=>(++t).toString()})(),Vw=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),oS=20,Rf=new Map,sS=1e3,o5=t=>{if(Rf.has(t))return;let e=setTimeout(()=>{Rf.delete(t),ll({type:4,toastId:t})},sS);Rf.set(t,e)},aS=t=>{let e=Rf.get(t);e&&clearTimeout(e)},u0=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,oS)};case 1:return e.toast.id&&aS(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?u0(t,{type:1,toast:n}):u0(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?o5(r):t.toasts.forEach(o=>{o5(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Df=[],Ff={toasts:[],pausedAt:void 0},ll=t=>{Ff=u0(Ff,t),Df.forEach(e=>{e(Ff)})},lS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},uS=(t={})=>{let[e,n]=St.useState(Ff);St.useEffect(()=>(Df.push(n),()=>{let i=Df.indexOf(n);i>-1&&Df.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var o,s;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||lS[i.type],style:{...t.style,...(s=t[i.type])==null?void 0:s.style,...i.style}}});return{...e,toasts:r}},cS=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||iS()}),gh=t=>(e,n)=>{let r=cS(e,t,n);return ll({type:2,toast:r}),r.id},ti=(t,e)=>gh("blank")(t,e);ti.error=gh("error");ti.success=gh("success");ti.loading=gh("loading");ti.custom=gh("custom");ti.dismiss=t=>{ll({type:3,toastId:t})};ti.remove=t=>ll({type:4,toastId:t});ti.promise=(t,e,n)=>{let r=ti.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(ti.success(hd(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{ti.error(hd(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var hS=(t,e)=>{ll({type:1,toast:{id:t,height:e}})},fS=()=>{ll({type:5,time:Date.now()})},dS=t=>{let{toasts:e,pausedAt:n}=uS(t);St.useEffect(()=>{if(n)return;let o=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(l<0){a.visible&&ti.dismiss(a.id);return}return setTimeout(()=>ti.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=St.useCallback(()=>{n&&ll({type:6,time:Date.now()})},[n]),i=St.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:h}=s||{},d=e.filter(g=>(g.position||h)===(o.position||h)&&g.height),m=d.findIndex(g=>g.id===o.id),y=d.filter((g,N)=>N<m&&g.visible).length;return d.filter(g=>g.visible).slice(...a?[y+1]:[0,y]).reduce((g,N)=>g+(N.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:hS,startPause:fS,endPause:r,calculateOffset:i}}},pS=Zo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gS=Zo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mS=Zo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vS=ga("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${mS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yS=Zo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wS=ga("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${yS} 1s linear infinite;
`,_S=Zo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bS=Zo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,AS=ga("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_S} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,SS=ga("div")`
  position: absolute;
`,ES=ga("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xS=Zo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,PS=ga("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,NS=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?St.createElement(PS,null,e):e:n==="blank"?null:St.createElement(ES,null,St.createElement(wS,{...r}),n!=="loading"&&St.createElement(SS,null,n==="error"?St.createElement(vS,{...r}):St.createElement(AS,{...r})))},TS=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,IS=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,LS="0%{opacity:0;} 100%{opacity:1;}",CS="0%{opacity:1;} 100%{opacity:0;}",kS=ga("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,RS=ga("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,DS=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Vw()?[LS,CS]:[TS(n),IS(n)];return{animation:e?`${Zo(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Zo(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},FS=St.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?DS(t.position||e||"top-center",t.visible):{opacity:0},o=St.createElement(NS,{toast:t}),s=St.createElement(RS,{...t.ariaProps},hd(t.message,t));return St.createElement(kS,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):St.createElement(St.Fragment,null,o,s))});nS(St.createElement);var OS=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=St.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return St.createElement("div",{ref:o,className:e,style:n},i)},MS=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Vw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},jS=Ud`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,cf=16,VS=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:l}=dS(n);return St.createElement("div",{style:{position:"fixed",zIndex:9999,top:cf,left:cf,right:cf,bottom:cf,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(h=>{let d=h.position||e,m=l.calculateOffset(h,{reverseOrder:t,gutter:r,defaultPosition:e}),y=MS(d,m);return St.createElement(OS,{id:h.id,key:h.id,onHeightUpdate:l.updateHeight,className:h.visible?jS:"",style:y},h.type==="custom"?hd(h.message,h):i?i(h):St.createElement(FS,{toast:h,position:d}))}))},hf=ti,s5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},zw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,d=o>>2,m=(o&3)<<4|a>>4;let y=(a&15)<<2|h>>6,g=h&63;l||(g=64,s||(y=64)),r.push(n[d],n[m],n[y],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||h==null||m==null)throw new zS;const y=o<<2|a>>4;if(r.push(y),h!==64){const g=a<<4&240|h>>2;if(r.push(g),m!==64){const N=h<<6&192|m;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(t){const e=Bw(t);return zw.encodeByteArray(e,!0)},fd=function(t){return US(t).replace(/\./g,"")},qS=function(t){try{return zw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=()=>HS().__FIREBASE_DEFAULTS__,WS=()=>{if(typeof process>"u"||typeof s5>"u")return;const t=s5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qS(t[1]);return e&&JSON.parse(e)},Vg=()=>{try{return $S()||WS()||GS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KS=t=>{var e,n;return(n=(e=Vg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QS=t=>{const e=KS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Uw=()=>{var t;return(t=Vg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fd(JSON.stringify(n)),fd(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZS(){var t;const e=(t=Vg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e6(){return!ZS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t6(){try{return typeof indexedDB=="object"}catch{return!1}}function n6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="FirebaseError";class Iu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=r6,Object.setPrototypeOf(this,Iu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qw.prototype.create)}}class qw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?i6(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Iu(i,a,r)}}function i6(t,e){return t.replace(o6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const o6=/\{\$([^}]+)}/g;function c0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(a5(o)&&a5(s)){if(!c0(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function a5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){return t&&t._delegate?t._delegate:t}class Jc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l6(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a6(t){return t===ja?void 0:t}function l6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new s6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ct||(Ct={}));const c6={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},h6=Ct.INFO,f6={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},d6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=f6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hw{constructor(e){this.name=e,this._logLevel=h6,this._logHandler=d6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...e),this._logHandler(this,Ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...e),this._logHandler(this,Ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...e),this._logHandler(this,Ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...e),this._logHandler(this,Ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...e),this._logHandler(this,Ct.ERROR,...e)}}const p6=(t,e)=>e.some(n=>t instanceof n);let l5,u5;function g6(){return l5||(l5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m6(){return u5||(u5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $w=new WeakMap,h0=new WeakMap,Ww=new WeakMap,Jp=new WeakMap,Bg=new WeakMap;function v6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ea(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&$w.set(n,t)}).catch(()=>{}),Bg.set(e,t),e}function y6(t){if(h0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});h0.set(t,e)}let f0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return h0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ww.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ea(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w6(t){f0=t(f0)}function _6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zp(this),e,...n);return Ww.set(r,e.sort?e.sort():[e]),ea(r)}:m6().includes(t)?function(...e){return t.apply(Zp(this),e),ea($w.get(this))}:function(...e){return ea(t.apply(Zp(this),e))}}function b6(t){return typeof t=="function"?_6(t):(t instanceof IDBTransaction&&y6(t),p6(t,g6())?new Proxy(t,f0):t)}function ea(t){if(t instanceof IDBRequest)return v6(t);if(Jp.has(t))return Jp.get(t);const e=b6(t);return e!==t&&(Jp.set(t,e),Bg.set(e,t)),e}const Zp=t=>Bg.get(t);function A6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ea(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ea(s.result),l.oldVersion,l.newVersion,ea(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const S6=["get","getKey","getAll","getAllKeys","count"],E6=["put","add","delete","clear"],e1=new Map;function c5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(e1.get(e))return e1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=E6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S6.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return e1.set(e,o),o}w6(t=>({...t,get:(e,n,r)=>c5(e,n)||t.get(e,n,r),has:(e,n)=>!!c5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function P6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const d0="@firebase/app",h5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Hw("@firebase/app"),N6="@firebase/app-compat",T6="@firebase/analytics-compat",I6="@firebase/analytics",L6="@firebase/app-check-compat",C6="@firebase/app-check",k6="@firebase/auth",R6="@firebase/auth-compat",D6="@firebase/database",F6="@firebase/data-connect",O6="@firebase/database-compat",M6="@firebase/functions",j6="@firebase/functions-compat",V6="@firebase/installations",B6="@firebase/installations-compat",z6="@firebase/messaging",U6="@firebase/messaging-compat",q6="@firebase/performance",H6="@firebase/performance-compat",$6="@firebase/remote-config",W6="@firebase/remote-config-compat",G6="@firebase/storage",K6="@firebase/storage-compat",Q6="@firebase/firestore",Y6="@firebase/vertexai-preview",X6="@firebase/firestore-compat",J6="firebase",Z6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="[DEFAULT]",eE={[d0]:"fire-core",[N6]:"fire-core-compat",[I6]:"fire-analytics",[T6]:"fire-analytics-compat",[C6]:"fire-app-check",[L6]:"fire-app-check-compat",[k6]:"fire-auth",[R6]:"fire-auth-compat",[D6]:"fire-rtdb",[F6]:"fire-data-connect",[O6]:"fire-rtdb-compat",[M6]:"fire-fn",[j6]:"fire-fn-compat",[V6]:"fire-iid",[B6]:"fire-iid-compat",[z6]:"fire-fcm",[U6]:"fire-fcm-compat",[q6]:"fire-perf",[H6]:"fire-perf-compat",[$6]:"fire-rc",[W6]:"fire-rc-compat",[G6]:"fire-gcs",[K6]:"fire-gcs-compat",[Q6]:"fire-fst",[X6]:"fire-fst-compat",[Y6]:"fire-vertex","fire-js":"fire-js",[J6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new Map,tE=new Map,g0=new Map;function f5(t,e){try{t.container.addComponent(e)}catch(n){es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pd(t){const e=t.name;if(g0.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;g0.set(e,t);for(const n of dd.values())f5(n,t);for(const n of tE.values())f5(n,t);return!0}function nE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new qw("app","Firebase",rE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=Z6;function Gw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:p0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ta.create("bad-app-name",{appName:String(i)});if(n||(n=Uw()),!n)throw ta.create("no-options");const o=dd.get(i);if(o){if(c0(n,o.options)&&c0(r,o.config))return o;throw ta.create("duplicate-app",{appName:i})}const s=new u6(i);for(const l of g0.values())s.addComponent(l);const a=new iE(n,r,s);return dd.set(i,a),a}function sE(t=p0){const e=dd.get(t);if(!e&&t===p0&&Uw())return Gw();if(!e)throw ta.create("no-app",{appName:t});return e}function uu(t,e,n){var r;let i=(r=eE[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(a.join(" "));return}pd(new Jc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="firebase-heartbeat-database",lE=1,Zc="firebase-heartbeat-store";let t1=null;function Kw(){return t1||(t1=A6(aE,lE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ta.create("idb-open",{originalErrorMessage:t.message})})),t1}async function uE(t){try{const n=(await Kw()).transaction(Zc),r=await n.objectStore(Zc).get(Qw(t));return await n.done,r}catch(e){if(e instanceof Iu)es.warn(e.message);else{const n=ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(n.message)}}}async function d5(t,e){try{const r=(await Kw()).transaction(Zc,"readwrite");await r.objectStore(Zc).put(e,Qw(t)),await r.done}catch(n){if(n instanceof Iu)es.warn(n.message);else{const r=ta.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(r.message)}}}function Qw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=1024,hE=30*24*60*60*1e3;class fE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=p5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=hE}),this._storage.overwrite(this._heartbeatsCache))}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=p5(),{heartbeatsToSend:r,unsentEntries:i}=dE(this._heartbeatsCache.heartbeats),o=fd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return es.warn(n),""}}}function p5(){return new Date().toISOString().substring(0,10)}function dE(t,e=cE){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),g5(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),g5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t6()?n6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function g5(t){return fd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){pd(new Jc("platform-logger",e=>new x6(e),"PRIVATE")),pd(new Jc("heartbeat",e=>new fE(e),"PRIVATE")),uu(d0,h5,t),uu(d0,h5,"esm2017"),uu("fire-js","")}gE("");var mE="firebase",vE="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uu(mE,vE,"app");var m5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ga,Yw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,A){function k(){}k.prototype=A.prototype,T.D=A.prototype,T.prototype=new k,T.prototype.constructor=T,T.C=function(D,S,E){for(var C=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)C[Y-2]=arguments[Y];return A.prototype[S].apply(D,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,A,k){k||(k=0);var D=Array(16);if(typeof A=="string")for(var S=0;16>S;++S)D[S]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(S=0;16>S;++S)D[S]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=T.g[0],k=T.g[1],S=T.g[2];var E=T.g[3],C=A+(E^k&(S^E))+D[0]+3614090360&4294967295;A=k+(C<<7&4294967295|C>>>25),C=E+(S^A&(k^S))+D[1]+3905402710&4294967295,E=A+(C<<12&4294967295|C>>>20),C=S+(k^E&(A^k))+D[2]+606105819&4294967295,S=E+(C<<17&4294967295|C>>>15),C=k+(A^S&(E^A))+D[3]+3250441966&4294967295,k=S+(C<<22&4294967295|C>>>10),C=A+(E^k&(S^E))+D[4]+4118548399&4294967295,A=k+(C<<7&4294967295|C>>>25),C=E+(S^A&(k^S))+D[5]+1200080426&4294967295,E=A+(C<<12&4294967295|C>>>20),C=S+(k^E&(A^k))+D[6]+2821735955&4294967295,S=E+(C<<17&4294967295|C>>>15),C=k+(A^S&(E^A))+D[7]+4249261313&4294967295,k=S+(C<<22&4294967295|C>>>10),C=A+(E^k&(S^E))+D[8]+1770035416&4294967295,A=k+(C<<7&4294967295|C>>>25),C=E+(S^A&(k^S))+D[9]+2336552879&4294967295,E=A+(C<<12&4294967295|C>>>20),C=S+(k^E&(A^k))+D[10]+4294925233&4294967295,S=E+(C<<17&4294967295|C>>>15),C=k+(A^S&(E^A))+D[11]+2304563134&4294967295,k=S+(C<<22&4294967295|C>>>10),C=A+(E^k&(S^E))+D[12]+1804603682&4294967295,A=k+(C<<7&4294967295|C>>>25),C=E+(S^A&(k^S))+D[13]+4254626195&4294967295,E=A+(C<<12&4294967295|C>>>20),C=S+(k^E&(A^k))+D[14]+2792965006&4294967295,S=E+(C<<17&4294967295|C>>>15),C=k+(A^S&(E^A))+D[15]+1236535329&4294967295,k=S+(C<<22&4294967295|C>>>10),C=A+(S^E&(k^S))+D[1]+4129170786&4294967295,A=k+(C<<5&4294967295|C>>>27),C=E+(k^S&(A^k))+D[6]+3225465664&4294967295,E=A+(C<<9&4294967295|C>>>23),C=S+(A^k&(E^A))+D[11]+643717713&4294967295,S=E+(C<<14&4294967295|C>>>18),C=k+(E^A&(S^E))+D[0]+3921069994&4294967295,k=S+(C<<20&4294967295|C>>>12),C=A+(S^E&(k^S))+D[5]+3593408605&4294967295,A=k+(C<<5&4294967295|C>>>27),C=E+(k^S&(A^k))+D[10]+38016083&4294967295,E=A+(C<<9&4294967295|C>>>23),C=S+(A^k&(E^A))+D[15]+3634488961&4294967295,S=E+(C<<14&4294967295|C>>>18),C=k+(E^A&(S^E))+D[4]+3889429448&4294967295,k=S+(C<<20&4294967295|C>>>12),C=A+(S^E&(k^S))+D[9]+568446438&4294967295,A=k+(C<<5&4294967295|C>>>27),C=E+(k^S&(A^k))+D[14]+3275163606&4294967295,E=A+(C<<9&4294967295|C>>>23),C=S+(A^k&(E^A))+D[3]+4107603335&4294967295,S=E+(C<<14&4294967295|C>>>18),C=k+(E^A&(S^E))+D[8]+1163531501&4294967295,k=S+(C<<20&4294967295|C>>>12),C=A+(S^E&(k^S))+D[13]+2850285829&4294967295,A=k+(C<<5&4294967295|C>>>27),C=E+(k^S&(A^k))+D[2]+4243563512&4294967295,E=A+(C<<9&4294967295|C>>>23),C=S+(A^k&(E^A))+D[7]+1735328473&4294967295,S=E+(C<<14&4294967295|C>>>18),C=k+(E^A&(S^E))+D[12]+2368359562&4294967295,k=S+(C<<20&4294967295|C>>>12),C=A+(k^S^E)+D[5]+4294588738&4294967295,A=k+(C<<4&4294967295|C>>>28),C=E+(A^k^S)+D[8]+2272392833&4294967295,E=A+(C<<11&4294967295|C>>>21),C=S+(E^A^k)+D[11]+1839030562&4294967295,S=E+(C<<16&4294967295|C>>>16),C=k+(S^E^A)+D[14]+4259657740&4294967295,k=S+(C<<23&4294967295|C>>>9),C=A+(k^S^E)+D[1]+2763975236&4294967295,A=k+(C<<4&4294967295|C>>>28),C=E+(A^k^S)+D[4]+1272893353&4294967295,E=A+(C<<11&4294967295|C>>>21),C=S+(E^A^k)+D[7]+4139469664&4294967295,S=E+(C<<16&4294967295|C>>>16),C=k+(S^E^A)+D[10]+3200236656&4294967295,k=S+(C<<23&4294967295|C>>>9),C=A+(k^S^E)+D[13]+681279174&4294967295,A=k+(C<<4&4294967295|C>>>28),C=E+(A^k^S)+D[0]+3936430074&4294967295,E=A+(C<<11&4294967295|C>>>21),C=S+(E^A^k)+D[3]+3572445317&4294967295,S=E+(C<<16&4294967295|C>>>16),C=k+(S^E^A)+D[6]+76029189&4294967295,k=S+(C<<23&4294967295|C>>>9),C=A+(k^S^E)+D[9]+3654602809&4294967295,A=k+(C<<4&4294967295|C>>>28),C=E+(A^k^S)+D[12]+3873151461&4294967295,E=A+(C<<11&4294967295|C>>>21),C=S+(E^A^k)+D[15]+530742520&4294967295,S=E+(C<<16&4294967295|C>>>16),C=k+(S^E^A)+D[2]+3299628645&4294967295,k=S+(C<<23&4294967295|C>>>9),C=A+(S^(k|~E))+D[0]+4096336452&4294967295,A=k+(C<<6&4294967295|C>>>26),C=E+(k^(A|~S))+D[7]+1126891415&4294967295,E=A+(C<<10&4294967295|C>>>22),C=S+(A^(E|~k))+D[14]+2878612391&4294967295,S=E+(C<<15&4294967295|C>>>17),C=k+(E^(S|~A))+D[5]+4237533241&4294967295,k=S+(C<<21&4294967295|C>>>11),C=A+(S^(k|~E))+D[12]+1700485571&4294967295,A=k+(C<<6&4294967295|C>>>26),C=E+(k^(A|~S))+D[3]+2399980690&4294967295,E=A+(C<<10&4294967295|C>>>22),C=S+(A^(E|~k))+D[10]+4293915773&4294967295,S=E+(C<<15&4294967295|C>>>17),C=k+(E^(S|~A))+D[1]+2240044497&4294967295,k=S+(C<<21&4294967295|C>>>11),C=A+(S^(k|~E))+D[8]+1873313359&4294967295,A=k+(C<<6&4294967295|C>>>26),C=E+(k^(A|~S))+D[15]+4264355552&4294967295,E=A+(C<<10&4294967295|C>>>22),C=S+(A^(E|~k))+D[6]+2734768916&4294967295,S=E+(C<<15&4294967295|C>>>17),C=k+(E^(S|~A))+D[13]+1309151649&4294967295,k=S+(C<<21&4294967295|C>>>11),C=A+(S^(k|~E))+D[4]+4149444226&4294967295,A=k+(C<<6&4294967295|C>>>26),C=E+(k^(A|~S))+D[11]+3174756917&4294967295,E=A+(C<<10&4294967295|C>>>22),C=S+(A^(E|~k))+D[2]+718787259&4294967295,S=E+(C<<15&4294967295|C>>>17),C=k+(E^(S|~A))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+A&4294967295,T.g[1]=T.g[1]+(S+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+S&4294967295,T.g[3]=T.g[3]+E&4294967295}r.prototype.u=function(T,A){A===void 0&&(A=T.length);for(var k=A-this.blockSize,D=this.B,S=this.h,E=0;E<A;){if(S==0)for(;E<=k;)i(this,T,E),E+=this.blockSize;if(typeof T=="string"){for(;E<A;)if(D[S++]=T.charCodeAt(E++),S==this.blockSize){i(this,D),S=0;break}}else for(;E<A;)if(D[S++]=T[E++],S==this.blockSize){i(this,D),S=0;break}}this.h=S,this.o+=A},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var A=1;A<T.length-8;++A)T[A]=0;var k=8*this.o;for(A=T.length-8;A<T.length;++A)T[A]=k&255,k/=256;for(this.u(T),T=Array(16),A=k=0;4>A;++A)for(var D=0;32>D;D+=8)T[k++]=this.g[A]>>>D&255;return T};function o(T,A){var k=a;return Object.prototype.hasOwnProperty.call(k,T)?k[T]:k[T]=A(T)}function s(T,A){this.h=A;for(var k=[],D=!0,S=T.length-1;0<=S;S--){var E=T[S]|0;D&&E==A||(k[S]=E,D=!1)}this.g=k}var a={};function l(T){return-128<=T&&128>T?o(T,function(A){return new s([A|0],0>A?-1:0)}):new s([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return F(h(-T));for(var A=[],k=1,D=0;T>=k;D++)A[D]=T/k|0,k*=4294967296;return new s(A,0)}function d(T,A){if(T.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T.charAt(0)=="-")return F(d(T.substring(1),A));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=h(Math.pow(A,8)),D=m,S=0;S<T.length;S+=8){var E=Math.min(8,T.length-S),C=parseInt(T.substring(S,S+E),A);8>E?(E=h(Math.pow(A,E)),D=D.j(E).add(h(C))):(D=D.j(k),D=D.add(h(C)))}return D}var m=l(0),y=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(L(this))return-F(this).m();for(var T=0,A=1,k=0;k<this.g.length;k++){var D=this.i(k);T+=(0<=D?D:4294967296+D)*A,A*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N(this))return"0";if(L(this))return"-"+F(this).toString(T);for(var A=h(Math.pow(T,6)),k=this,D="";;){var S=O(k,A).g;k=_(k,S.j(A));var E=((0<k.g.length?k.g[0]:k.h)>>>0).toString(T);if(k=S,N(k))return E+D;for(;6>E.length;)E="0"+E;D=E+D}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function N(T){if(T.h!=0)return!1;for(var A=0;A<T.g.length;A++)if(T.g[A]!=0)return!1;return!0}function L(T){return T.h==-1}t.l=function(T){return T=_(this,T),L(T)?-1:N(T)?0:1};function F(T){for(var A=T.g.length,k=[],D=0;D<A;D++)k[D]=~T.g[D];return new s(k,~T.h).add(y)}t.abs=function(){return L(this)?F(this):this},t.add=function(T){for(var A=Math.max(this.g.length,T.g.length),k=[],D=0,S=0;S<=A;S++){var E=D+(this.i(S)&65535)+(T.i(S)&65535),C=(E>>>16)+(this.i(S)>>>16)+(T.i(S)>>>16);D=C>>>16,E&=65535,C&=65535,k[S]=C<<16|E}return new s(k,k[k.length-1]&-2147483648?-1:0)};function _(T,A){return T.add(F(A))}t.j=function(T){if(N(this)||N(T))return m;if(L(this))return L(T)?F(this).j(F(T)):F(F(this).j(T));if(L(T))return F(this.j(F(T)));if(0>this.l(g)&&0>T.l(g))return h(this.m()*T.m());for(var A=this.g.length+T.g.length,k=[],D=0;D<2*A;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(var S=0;S<T.g.length;S++){var E=this.i(D)>>>16,C=this.i(D)&65535,Y=T.i(S)>>>16,he=T.i(S)&65535;k[2*D+2*S]+=C*he,b(k,2*D+2*S),k[2*D+2*S+1]+=E*he,b(k,2*D+2*S+1),k[2*D+2*S+1]+=C*Y,b(k,2*D+2*S+1),k[2*D+2*S+2]+=E*Y,b(k,2*D+2*S+2)}for(D=0;D<A;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=A;D<2*A;D++)k[D]=0;return new s(k,0)};function b(T,A){for(;(T[A]&65535)!=T[A];)T[A+1]+=T[A]>>>16,T[A]&=65535,A++}function x(T,A){this.g=T,this.h=A}function O(T,A){if(N(A))throw Error("division by zero");if(N(T))return new x(m,m);if(L(T))return A=O(F(T),A),new x(F(A.g),F(A.h));if(L(A))return A=O(T,F(A)),new x(F(A.g),A.h);if(30<T.g.length){if(L(T)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var k=y,D=A;0>=D.l(T);)k=H(k),D=H(D);var S=G(k,1),E=G(D,1);for(D=G(D,2),k=G(k,2);!N(D);){var C=E.add(D);0>=C.l(T)&&(S=S.add(k),E=C),D=G(D,1),k=G(k,1)}return A=_(T,S.j(A)),new x(S,A)}for(S=m;0<=T.l(A);){for(k=Math.max(1,Math.floor(T.m()/A.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),E=h(k),C=E.j(A);L(C)||0<C.l(T);)k-=D,E=h(k),C=E.j(A);N(E)&&(E=y),S=S.add(E),T=_(T,C)}return new x(S,T)}t.A=function(T){return O(this,T).h},t.and=function(T){for(var A=Math.max(this.g.length,T.g.length),k=[],D=0;D<A;D++)k[D]=this.i(D)&T.i(D);return new s(k,this.h&T.h)},t.or=function(T){for(var A=Math.max(this.g.length,T.g.length),k=[],D=0;D<A;D++)k[D]=this.i(D)|T.i(D);return new s(k,this.h|T.h)},t.xor=function(T){for(var A=Math.max(this.g.length,T.g.length),k=[],D=0;D<A;D++)k[D]=this.i(D)^T.i(D);return new s(k,this.h^T.h)};function H(T){for(var A=T.g.length+1,k=[],D=0;D<A;D++)k[D]=T.i(D)<<1|T.i(D-1)>>>31;return new s(k,T.h)}function G(T,A){var k=A>>5;A%=32;for(var D=T.g.length-k,S=[],E=0;E<D;E++)S[E]=0<A?T.i(E+k)>>>A|T.i(E+k+1)<<32-A:T.i(E+k);return new s(S,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Yw=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=d,Ga=s}).apply(typeof m5<"u"?m5:typeof self<"u"?self:typeof window<"u"?window:{});var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xw,pc,Jw,Of,m0,Zw,e_,t_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,w,I){return c==Array.prototype||c==Object.prototype||(c[w]=I.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ff=="object"&&ff];for(var w=0;w<c.length;++w){var I=c[w];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(c,w){if(w)e:{var I=r;c=c.split(".");for(var z=0;z<c.length-1;z++){var ue=c[z];if(!(ue in I))break e;I=I[ue]}c=c[c.length-1],z=I[c],w=w(z),w!=z&&w!=null&&e(I,c,{configurable:!0,writable:!0,value:w})}}function o(c,w){c instanceof String&&(c+="");var I=0,z=!1,ue={next:function(){if(!z&&I<c.length){var ye=I++;return{value:w(ye,c[ye]),done:!1}}return z=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}i("Array.prototype.values",function(c){return c||function(){return o(this,function(w,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(c){var w=typeof c;return w=w!="object"?w:c?Array.isArray(c)?"array":w:"null",w=="array"||w=="object"&&typeof c.length=="number"}function h(c){var w=typeof c;return w=="object"&&c!=null||w=="function"}function d(c,w,I){return c.call.apply(c.bind,arguments)}function m(c,w,I){if(!c)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,z),c.apply(w,ue)}}return function(){return c.apply(w,arguments)}}function y(c,w,I){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,y.apply(null,arguments)}function g(c,w){var I=Array.prototype.slice.call(arguments,1);return function(){var z=I.slice();return z.push.apply(z,arguments),c.apply(this,z)}}function N(c,w){function I(){}I.prototype=w.prototype,c.aa=w.prototype,c.prototype=new I,c.prototype.constructor=c,c.Qb=function(z,ue,ye){for(var Ie=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)Ie[dt-2]=arguments[dt];return w.prototype[ue].apply(z,Ie)}}function L(c){const w=c.length;if(0<w){const I=Array(w);for(let z=0;z<w;z++)I[z]=c[z];return I}return[]}function F(c,w){for(let I=1;I<arguments.length;I++){const z=arguments[I];if(l(z)){const ue=c.length||0,ye=z.length||0;c.length=ue+ye;for(let Ie=0;Ie<ye;Ie++)c[ue+Ie]=z[Ie]}else c.push(z)}}class _{constructor(w,I){this.i=w,this.j=I,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function b(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function O(c){return O[" "](c),c}O[" "]=function(){};var H=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function G(c,w,I){for(const z in c)w.call(I,c[z],z,c)}function T(c,w){for(const I in c)w.call(void 0,c[I],I,c)}function A(c){const w={};for(const I in c)w[I]=c[I];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,w){let I,z;for(let ue=1;ue<arguments.length;ue++){z=arguments[ue];for(I in z)c[I]=z[I];for(let ye=0;ye<k.length;ye++)I=k[ye],Object.prototype.hasOwnProperty.call(z,I)&&(c[I]=z[I])}}function S(c){var w=1;c=c.split(":");const I=[];for(;0<w&&c.length;)I.push(c.shift()),w--;return c.length&&I.push(c.join(":")),I}function E(c){a.setTimeout(()=>{throw c},0)}function C(){var c=K;let w=null;return c.g&&(w=c.g,c.g=c.g.next,c.g||(c.h=null),w.next=null),w}class Y{constructor(){this.h=this.g=null}add(w,I){const z=he.get();z.set(w,I),this.h?this.h.next=z:this.g=z,this.h=z}}var he=new _(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(w,I){this.h=w,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let J,W=!1,K=new Y,ie=()=>{const c=a.Promise.resolve(void 0);J=()=>{c.then(pe)}};var pe=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(I){E(I)}var w=he;w.j(c),100>w.h&&(w.h++,c.next=w.g,w.g=c)}W=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(c,w){this.type=c,this.g=this.target=w,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,w=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const I=()=>{};a.addEventListener("test",I,w),a.removeEventListener("test",I,w)}catch{}return c}();function te(c,w){if(q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var I=this.type=c.type,z=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=w,w=c.relatedTarget){if(H){e:{try{O(w.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(w=null)}}else I=="mouseover"?w=c.fromElement:I=="mouseout"&&(w=c.toElement);this.relatedTarget=w,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ne[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&te.aa.h.call(this)}}N(te,q);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),ge=0;function we(c,w,I,z,ue){this.listener=c,this.proxy=null,this.src=w,this.type=I,this.capture=!!z,this.ha=ue,this.key=++ge,this.da=this.fa=!1}function Ce(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c){this.src=c,this.g={},this.h=0}Le.prototype.add=function(c,w,I,z,ue){var ye=c.toString();c=this.g[ye],c||(c=this.g[ye]=[],this.h++);var Ie=Me(c,w,z,ue);return-1<Ie?(w=c[Ie],I||(w.fa=!1)):(w=new we(w,this.src,ye,!!z,ue),w.fa=I,c.push(w)),w};function Oe(c,w){var I=w.type;if(I in c.g){var z=c.g[I],ue=Array.prototype.indexOf.call(z,w,void 0),ye;(ye=0<=ue)&&Array.prototype.splice.call(z,ue,1),ye&&(Ce(w),c.g[I].length==0&&(delete c.g[I],c.h--))}}function Me(c,w,I,z){for(var ue=0;ue<c.length;++ue){var ye=c[ue];if(!ye.da&&ye.listener==w&&ye.capture==!!I&&ye.ha==z)return ue}return-1}var tt="closure_lm_"+(1e6*Math.random()|0),Ae={};function re(c,w,I,z,ue){if(Array.isArray(w)){for(var ye=0;ye<w.length;ye++)re(c,w[ye],I,z,ue);return null}return I=ft(I),c&&c[de]?c.K(w,I,h(z)?!!z.capture:!!z,ue):ht(c,w,I,!1,z,ue)}function ht(c,w,I,z,ue,ye){if(!w)throw Error("Invalid event type");var Ie=h(ue)?!!ue.capture:!!ue,dt=Je(c);if(dt||(c[tt]=dt=new Le(c)),I=dt.add(w,I,z,Ie,ye),I.proxy)return I;if(z=Ye(),I.proxy=z,z.src=c,z.listener=I,c.addEventListener)Q||(ue=Ie),ue===void 0&&(ue=!1),c.addEventListener(w.toString(),z,ue);else if(c.attachEvent)c.attachEvent(Ue(w.toString()),z);else if(c.addListener&&c.removeListener)c.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Ye(){function c(I){return w.call(c.src,c.listener,I)}const w=Be;return c}function Re(c,w,I,z,ue){if(Array.isArray(w))for(var ye=0;ye<w.length;ye++)Re(c,w[ye],I,z,ue);else z=h(z)?!!z.capture:!!z,I=ft(I),c&&c[de]?(c=c.i,w=String(w).toString(),w in c.g&&(ye=c.g[w],I=Me(ye,I,z,ue),-1<I&&(Ce(ye[I]),Array.prototype.splice.call(ye,I,1),ye.length==0&&(delete c.g[w],c.h--)))):c&&(c=Je(c))&&(w=c.g[w.toString()],c=-1,w&&(c=Me(w,I,z,ue)),(I=-1<c?w[c]:null)&&Fe(I))}function Fe(c){if(typeof c!="number"&&c&&!c.da){var w=c.src;if(w&&w[de])Oe(w.i,c);else{var I=c.type,z=c.proxy;w.removeEventListener?w.removeEventListener(I,z,c.capture):w.detachEvent?w.detachEvent(Ue(I),z):w.addListener&&w.removeListener&&w.removeListener(z),(I=Je(w))?(Oe(I,c),I.h==0&&(I.src=null,w[tt]=null)):Ce(c)}}}function Ue(c){return c in Ae?Ae[c]:Ae[c]="on"+c}function Be(c,w){if(c.da)c=!0;else{w=new te(w,this);var I=c.listener,z=c.ha||c.src;c.fa&&Fe(c),c=I.call(z,w)}return c}function Je(c){return c=c[tt],c instanceof Le?c:null}var lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ft(c){return typeof c=="function"?c:(c[lt]||(c[lt]=function(w){return c.handleEvent(w)}),c[lt])}function Ze(){R.call(this),this.i=new Le(this),this.M=this,this.F=null}N(Ze,R),Ze.prototype[de]=!0,Ze.prototype.removeEventListener=function(c,w,I,z){Re(this,c,w,I,z)};function st(c,w){var I,z=c.F;if(z)for(I=[];z;z=z.F)I.push(z);if(c=c.M,z=w.type||w,typeof w=="string")w=new q(w,c);else if(w instanceof q)w.target=w.target||c;else{var ue=w;w=new q(z,c),D(w,ue)}if(ue=!0,I)for(var ye=I.length-1;0<=ye;ye--){var Ie=w.g=I[ye];ue=Tt(Ie,z,!0,w)&&ue}if(Ie=w.g=c,ue=Tt(Ie,z,!0,w)&&ue,ue=Tt(Ie,z,!1,w)&&ue,I)for(ye=0;ye<I.length;ye++)Ie=w.g=I[ye],ue=Tt(Ie,z,!1,w)&&ue}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var c=this.i,w;for(w in c.g){for(var I=c.g[w],z=0;z<I.length;z++)Ce(I[z]);delete c.g[w],c.h--}}this.F=null},Ze.prototype.K=function(c,w,I,z){return this.i.add(String(c),w,!1,I,z)},Ze.prototype.L=function(c,w,I,z){return this.i.add(String(c),w,!0,I,z)};function Tt(c,w,I,z){if(w=c.i.g[String(w)],!w)return!0;w=w.concat();for(var ue=!0,ye=0;ye<w.length;++ye){var Ie=w[ye];if(Ie&&!Ie.da&&Ie.capture==I){var dt=Ie.listener,bt=Ie.ha||Ie.src;Ie.fa&&Oe(c.i,Ie),ue=dt.call(bt,z)!==!1&&ue}}return ue&&!z.defaultPrevented}function ot(c,w,I){if(typeof c=="function")I&&(c=y(c,I));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(c,w||0)}function wt(c){c.g=ot(()=>{c.g=null,c.i&&(c.i=!1,wt(c))},c.l);const w=c.h;c.h=null,c.m.apply(null,w)}class qe extends R{constructor(w,I){super(),this.m=w,this.l=I,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:wt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(c){R.call(this),this.h=c,this.g={}}N(fn,R);var xt=[];function Lr(c){G(c.g,function(w,I){this.g.hasOwnProperty(I)&&Fe(w)},c),c.g={}}fn.prototype.N=function(){fn.aa.N.call(this),Lr(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dt=a.JSON.stringify,Kt=a.JSON.parse,ai=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Pt(){}Pt.prototype.h=null;function Yi(c){return c.h||(c.h=c.i())}function Zt(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hr(){q.call(this,"d")}N(Hr,q);function Qt(){q.call(this,"c")}N(Qt,q);var nt={},It=null;function li(){return It=It||new Ze}nt.La="serverreachability";function Nn(c){q.call(this,nt.La,c)}N(Nn,q);function ir(c){const w=li();st(w,new Nn(w))}nt.STAT_EVENT="statevent";function $r(c,w){q.call(this,nt.STAT_EVENT,c),this.stat=w}N($r,q);function $e(c){const w=li();st(w,new $r(w,c))}nt.Ma="timingevent";function Cr(c,w){q.call(this,nt.Ma,c),this.size=w}N(Cr,q);function or(c,w){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},w)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function yn(c,w,I,z,ue,ye){c.info(function(){if(c.g)if(ye)for(var Ie="",dt=ye.split("&"),bt=0;bt<dt.length;bt++){var pt=dt[bt].split("=");if(1<pt.length){var Mt=pt[0];pt=pt[1];var $t=Mt.split("_");Ie=2<=$t.length&&$t[1]=="type"?Ie+(Mt+"="+pt+"&"):Ie+(Mt+"=redacted&")}}else Ie=null;else Ie=ye;return"XMLHTTP REQ ("+z+") [attempt "+ue+"]: "+w+`
`+I+`
`+Ie})}function dn(c,w,I,z,ue,ye,Ie){c.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ue+"]: "+w+`
`+I+`
`+ye+" "+Ie})}function In(c,w,I,z){c.info(function(){return"XMLHTTP TEXT ("+w+"): "+xi(c,I)+(z?" "+z:"")})}function is(c,w){c.info(function(){return"TIMEOUT: "+w})}Tn.prototype.info=function(){};function xi(c,w){if(!c.g)return w;if(!w)return null;try{var I=JSON.parse(w);if(I){for(c=0;c<I.length;c++)if(Array.isArray(I[c])){var z=I[c];if(!(2>z.length)){var ue=z[1];if(Array.isArray(ue)&&!(1>ue.length)){var ye=ue[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var Ie=1;Ie<ue.length;Ie++)ue[Ie]=""}}}}return Dt(I)}catch{return w}}var sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_r;function br(){}N(br,Pt),br.prototype.g=function(){return new XMLHttpRequest},br.prototype.i=function(){return{}},_r=new br;function wn(c,w,I,z){this.j=c,this.i=w,this.l=I,this.R=z||1,this.U=new fn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wr}function Wr(){this.i=null,this.g="",this.h=!1}var Xi={},Ji={};function Zi(c,w,I){c.L=1,c.v=Io(Ar(w)),c.m=I,c.P=!0,Eo(c,null)}function Eo(c,w){c.F=Date.now(),os(c),c.A=Ar(c.v);var I=c.A,z=c.R;Array.isArray(z)||(z=[String(z)]),ut(I.i,"t",z),c.C=0,I=c.j.J,c.h=new Wr,c.g=M(c.j,I?w:null,!c.m),0<c.O&&(c.M=new qe(y(c.Y,c,c.g),c.O)),w=c.U,I=c.g,z=c.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(xt[0]=ue.toString()),ue=xt);for(var ye=0;ye<ue.length;ye++){var Ie=re(I,ue[ye],z||w.handleEvent,!1,w.h||w);if(!Ie)break;w.g[Ie.key]=Ie}w=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,w)):(c.u="GET",c.g.ea(c.A,c.u,null,w)),ir(),yn(c.i,c.u,c.A,c.l,c.R,c.m)}wn.prototype.ca=function(c){c=c.target;const w=this.M;w&&Fn(c)==3?w.j():this.Y(c)},wn.prototype.Y=function(c){try{if(c==this.g)e:{const $t=Fn(this.g);var w=this.g.Ba();const Ri=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Al(this.g)))){this.J||$t!=4||w==7||(w==8||0>=Ri?ir(3):ir(2)),eo(this);var I=this.g.Z();this.X=I;t:if(xo(this)){var z=Al(this.g);c="";var ue=z.length,ye=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),to(this);var Ie="";break t}this.h.i=new a.TextDecoder}for(w=0;w<ue;w++)this.h.h=!0,c+=this.h.i.decode(z[w],{stream:!(ye&&w==ue-1)});z.length=0,this.h.g+=c,this.C=0,Ie=this.h.g}else Ie=this.g.oa();if(this.o=I==200,dn(this.i,this.u,this.A,this.l,this.R,$t,I),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,bt=this.g;if((dt=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(dt)){var pt=dt;break t}}pt=null}if(I=pt)In(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Po(this,I);else{this.o=!1,this.s=3,$e(12),Pi(this),to(this);break e}}if(this.P){I=!0;let Kn;for(;!this.J&&this.C<Ie.length;)if(Kn=dl(this,Ie),Kn==Ji){$t==4&&(this.s=4,$e(14),I=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==Xi){this.s=4,$e(15),In(this.i,this.l,Ie,"[Invalid Chunk]"),I=!1;break}else In(this.i,this.l,Kn,null),Po(this,Kn);if(xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||Ie.length!=0||this.h.h||(this.s=1,$e(16),I=!1),this.o=this.o&&I,!I)In(this.i,this.l,Ie,"[Invalid Chunked Response]"),Pi(this),to(this);else if(0<Ie.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+Ie.length),ws(Mt),Mt.M=!0,$e(11))}}else In(this.i,this.l,Ie,null),Po(this,Ie);$t==4&&Pi(this),this.o&&!this.J&&($t==4?so(this.j,this):(this.o=!1,os(this)))}else io(this.g),I==400&&0<Ie.indexOf("Unknown SID")?(this.s=3,$e(12)):(this.s=0,$e(13)),Pi(this),to(this)}}}catch{}finally{}};function xo(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function dl(c,w){var I=c.C,z=w.indexOf(`
`,I);return z==-1?Ji:(I=Number(w.substring(I,z)),isNaN(I)?Xi:(z+=1,z+I>w.length?Ji:(w=w.slice(z,z+I),c.C=z+I,w)))}wn.prototype.cancel=function(){this.J=!0,Pi(this)};function os(c){c.S=Date.now()+c.I,pl(c,c.I)}function pl(c,w){if(c.B!=null)throw Error("WatchDog timer not null");c.B=or(y(c.ba,c),w)}function eo(c){c.B&&(a.clearTimeout(c.B),c.B=null)}wn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(is(this.i,this.A),this.L!=2&&(ir(),$e(17)),Pi(this),this.s=2,to(this)):pl(this,this.S-c)};function to(c){c.j.G==0||c.J||so(c.j,c)}function Pi(c){eo(c);var w=c.M;w&&typeof w.ma=="function"&&w.ma(),c.M=null,Lr(c.U),c.g&&(w=c.g,c.g=null,w.abort(),w.ma())}function Po(c,w){try{var I=c.j;if(I.G!=0&&(I.g==c||va(I.h,c))){if(!c.K&&va(I.h,c)&&I.G==3){try{var z=I.Da.g.parse(w)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ue=z;if(ue[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<c.F)ki(I),gs(I);else break e;Do(I),$e(18)}}else I.za=ue[1],0<I.za-I.T&&37500>ue[2]&&I.F&&I.v==0&&!I.C&&(I.C=or(y(I.Za,I),6e3));if(1>=No(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else ar(I,11)}else if((c.K||I.g==c)&&ki(I),!b(w))for(ue=I.Da.g.parse(w),w=0;w<ue.length;w++){let pt=ue[w];if(I.T=pt[0],pt=pt[1],I.G==2)if(pt[0]=="c"){I.K=pt[1],I.ia=pt[2];const Mt=pt[3];Mt!=null&&(I.la=Mt,I.j.info("VER="+I.la));const $t=pt[4];$t!=null&&(I.Aa=$t,I.j.info("SVER="+I.Aa));const Ri=pt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(z=1.5*Ri,I.L=z,I.j.info("backChannelRequestTimeoutMs_="+z)),z=I;const Kn=c.g;if(Kn){const ao=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ao){var ye=z.h;ye.g||ao.indexOf("spdy")==-1&&ao.indexOf("quic")==-1&&ao.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(en(ye,ye.h),ye.h=null))}if(z.D){const lo=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(z.ya=lo,jt(z.I,z.D,lo))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-c.F,I.j.info("Handshake RTT: "+I.R+"ms")),z=I;var Ie=c;if(z.qa=p(z,z.J?z.ia:null,z.W),Ie.K){ya(z.h,Ie);var dt=Ie,bt=z.L;bt&&(dt.I=bt),dt.B&&(eo(dt),os(dt)),z.g=Ie}else ys(z);0<I.i.length&&ms(I)}else pt[0]!="stop"&&pt[0]!="close"||ar(I,7);else I.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?ar(I,7):Ci(I):pt[0]!="noop"&&I.l&&I.l.ta(pt),I.v=0)}}ir(4)}catch{}}var Fu=class{constructor(c,w){this.g=c,this.map=w}};function ma(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function No(c){return c.h?1:c.g?c.g.size:0}function va(c,w){return c.h?c.h==w:c.g?c.g.has(w):!1}function en(c,w){c.g?c.g.add(w):c.h=w}function ya(c,w){c.h&&c.h==w?c.h=null:c.g&&c.g.has(w)&&c.g.delete(w)}ma.prototype.cancel=function(){if(this.i=wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wa(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let w=c.i;for(const I of c.g.values())w=w.concat(I.D);return w}return L(c.i)}function ml(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var w=[],I=c.length,z=0;z<I;z++)w.push(c[z]);return w}w=[],I=0;for(z in c)w[I++]=c[z];return w}function _a(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var w=[];c=c.length;for(var I=0;I<c;I++)w.push(I);return w}w=[],I=0;for(const z in c)w[I++]=z;return w}}}function vl(c,w){if(c.forEach&&typeof c.forEach=="function")c.forEach(w,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,w,void 0);else for(var I=_a(c),z=ml(c),ue=z.length,ye=0;ye<ue;ye++)w.call(void 0,z[ye],I&&I[ye],c)}var Rr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ss(c,w){if(c){c=c.split("&");for(var I=0;I<c.length;I++){var z=c[I].indexOf("="),ue=null;if(0<=z){var ye=c[I].substring(0,z);ue=c[I].substring(z+1)}else ye=c[I];w(ye,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function pn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pn){this.h=c.h,To(this,c.j),this.o=c.o,this.g=c.g,as(this,c.s),this.l=c.l;var w=c.i,I=new no;I.i=w.i,w.g&&(I.g=new Map(w.g),I.h=w.h),ba(this,I),this.m=c.m}else c&&(w=String(c).match(Rr))?(this.h=!1,To(this,w[1]||"",!0),this.o=Lo(w[2]||""),this.g=Lo(w[3]||"",!0),as(this,w[4]),this.l=Lo(w[5]||"",!0),ba(this,w[6]||"",!0),this.m=Lo(w[7]||"")):(this.h=!1,this.i=new no(null,this.h))}pn.prototype.toString=function(){var c=[],w=this.j;w&&c.push(Ni(w,yl,!0),":");var I=this.g;return(I||w=="file")&&(c.push("//"),(w=this.o)&&c.push(Ni(w,yl,!0),"@"),c.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&c.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&c.push("/"),c.push(Ni(I,I.charAt(0)=="/"?Ti:Mu,!0))),(I=this.i.toString())&&c.push("?",I),(I=this.m)&&c.push("#",Ni(I,us)),c.join("")};function Ar(c){return new pn(c)}function To(c,w,I){c.j=I?Lo(w,!0):w,c.j&&(c.j=c.j.replace(/:$/,""))}function as(c,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);c.s=w}else c.s=null}function ba(c,w,I){w instanceof no?(c.i=w,ju(c.i,c.h)):(I||(w=Ni(w,ls)),c.i=new no(w,c.h))}function jt(c,w,I){c.i.set(w,I)}function Io(c){return jt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Lo(c,w){return c?w?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ni(c,w,I){return typeof c=="string"?(c=encodeURI(c).replace(w,Ou),I&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ou(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yl=/[#\/\?@]/g,Mu=/[#\?:]/g,Ti=/[#\?]/g,ls=/[#\?@]/g,us=/#/g;function no(c,w){this.h=this.g=null,this.i=c||null,this.j=!!w}function tn(c){c.g||(c.g=new Map,c.h=0,c.i&&ss(c.i,function(w,I){c.add(decodeURIComponent(w.replace(/\+/g," ")),I)}))}t=no.prototype,t.add=function(c,w){tn(this),this.i=null,c=ro(this,c);var I=this.g.get(c);return I||this.g.set(c,I=[]),I.push(w),this.h+=1,this};function wl(c,w){tn(c),w=ro(c,w),c.g.has(w)&&(c.i=null,c.h-=c.g.get(w).length,c.g.delete(w))}function Aa(c,w){return tn(c),w=ro(c,w),c.g.has(w)}t.forEach=function(c,w){tn(this),this.g.forEach(function(I,z){I.forEach(function(ue){c.call(w,ue,z,this)},this)},this)},t.na=function(){tn(this);const c=Array.from(this.g.values()),w=Array.from(this.g.keys()),I=[];for(let z=0;z<w.length;z++){const ue=c[z];for(let ye=0;ye<ue.length;ye++)I.push(w[z])}return I},t.V=function(c){tn(this);let w=[];if(typeof c=="string")Aa(this,c)&&(w=w.concat(this.g.get(ro(this,c))));else{c=Array.from(this.g.values());for(let I=0;I<c.length;I++)w=w.concat(c[I])}return w},t.set=function(c,w){return tn(this),this.i=null,c=ro(this,c),Aa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[w]),this.h+=1,this},t.get=function(c,w){return c?(c=this.V(c),0<c.length?String(c[0]):w):w};function ut(c,w,I){wl(c,w),0<I.length&&(c.i=null,c.g.set(ro(c,w),L(I)),c.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],w=Array.from(this.g.keys());for(var I=0;I<w.length;I++){var z=w[I];const ye=encodeURIComponent(String(z)),Ie=this.V(z);for(z=0;z<Ie.length;z++){var ue=ye;Ie[z]!==""&&(ue+="="+encodeURIComponent(String(Ie[z]))),c.push(ue)}}return this.i=c.join("&")};function ro(c,w){return w=String(w),c.j&&(w=w.toLowerCase()),w}function ju(c,w){w&&!c.j&&(tn(c),c.i=null,c.g.forEach(function(I,z){var ue=z.toLowerCase();z!=ue&&(wl(this,z),ut(this,ue,I))},c)),c.j=w}function ui(c,w){const I=new Tn;if(a.Image){const z=new Image;z.onload=g(Gr,I,"TestLoadImage: loaded",!0,w,z),z.onerror=g(Gr,I,"TestLoadImage: error",!1,w,z),z.onabort=g(Gr,I,"TestLoadImage: abort",!1,w,z),z.ontimeout=g(Gr,I,"TestLoadImage: timeout",!1,w,z),a.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=c}else w(!1)}function _l(c,w){const I=new Tn,z=new AbortController,ue=setTimeout(()=>{z.abort(),Gr(I,"TestPingServer: timeout",!1,w)},1e4);fetch(c,{signal:z.signal}).then(ye=>{clearTimeout(ue),ye.ok?Gr(I,"TestPingServer: ok",!0,w):Gr(I,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ue),Gr(I,"TestPingServer: error",!1,w)})}function Gr(c,w,I,z,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),z(I)}catch{}}function cs(){this.g=new ai}function Sa(c,w,I){const z=I||"";try{vl(c,function(ue,ye){let Ie=ue;h(ue)&&(Ie=Dt(ue)),w.push(z+ye+"="+encodeURIComponent(Ie))})}catch(ue){throw w.push(z+"type="+encodeURIComponent("_badmap")),ue}}function hs(c){this.l=c.Ub||null,this.j=c.eb||!1}N(hs,Pt),hs.prototype.g=function(){return new fs(this.l,this.j)},hs.prototype.i=function(c){return function(){return c}}({});function fs(c,w){Ze.call(this),this.D=c,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(fs,Ze),t=fs.prototype,t.open=function(c,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=w,this.readyState=1,Kr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(w.body=c),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var w=c.value?c.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!c.done}))&&(this.response=this.responseText+=w)}c.done?Ii(this):Kr(this),this.readyState==3&&bl(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ii(this))},t.Qa=function(c){this.g&&(this.response=c,Ii(this))},t.ga=function(){this.g&&Ii(this)};function Ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Kr(c)}t.setRequestHeader=function(c,w){this.u.append(c,w)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],w=this.h.entries();for(var I=w.next();!I.done;)I=I.value,c.push(I[0]+": "+I[1]),I=w.next();return c.join(`\r
`)};function Kr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Li(c){let w="";return G(c,function(I,z){w+=z,w+=":",w+=I,w+=`\r
`}),w}function Ea(c,w,I){e:{for(z in I){var z=!1;break e}z=!0}z||(I=Li(I),typeof c=="string"?I!=null&&encodeURIComponent(String(I)):jt(c,w,I))}function Ot(c){Ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ot,Ze);var xa=/^https?$/i,ds=["POST","PUT"];t=Ot.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,w,I,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);w=w?w.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_r.g(),this.v=this.o?Yi(this.o):Yi(_r),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(w,String(c),!0),this.B=!1}catch(ye){Pa(this,ye);return}if(c=I||"",I=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ue in z)I.set(ue,z[ue]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ye of z.keys())I.set(ye,z.get(ye));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(I.keys()).find(ye=>ye.toLowerCase()=="content-type"),ue=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ds,w,void 0))||z||ue||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,Ie]of I)this.g.setRequestHeader(ye,Ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qr(this),this.u=!0,this.g.send(c),this.u=!1}catch(ye){Pa(this,ye)}};function Pa(c,w){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=w,c.m=5,Na(c),Co(c)}function Na(c){c.A||(c.A=!0,st(c,"complete"),st(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,st(this,"complete"),st(this,"abort"),Co(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Co(this,!0)),Ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},t.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)ot(c.Ea,0,c);else if(st(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const Ie=c.Z();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var I;if(!(I=w)){var z;if(z=Ie===0){var ue=String(c.D).match(Rr)[1]||null;!ue&&a.self&&a.self.location&&(ue=a.self.location.protocol.slice(0,-1)),z=!xa.test(ue?ue.toLowerCase():"")}I=z}if(I)st(c,"complete"),st(c,"success");else{c.m=6;try{var ye=2<Fn(c)?c.g.statusText:""}catch{ye=""}c.l=ye+" ["+c.Z()+"]",Na(c)}}finally{Co(c)}}}}function Co(c,w){if(c.g){Qr(c);const I=c.g,z=c.v[0]?()=>{}:null;c.g=null,c.v=null,w||st(c,"ready");try{I.onreadystatechange=z}catch{}}}function Qr(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var w=this.g.responseText;return c&&w.indexOf(c)==0&&(w=w.substring(c.length)),Kt(w)}};function Al(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function io(c){const w={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<c.length;z++){if(b(c[z]))continue;var I=S(c[z]);const ue=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ye=w[ue]||[];w[ue]=ye,ye.push(I)}T(w,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gn(c,w,I){return I&&I.internalChannelParams&&I.internalChannelParams[c]||w}function ps(c){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gn("baseRetryDelayMs",5e3,c),this.cb=Gn("retryDelaySeedMs",1e4,c),this.Wa=Gn("forwardChannelMaxRetries",2,c),this.wa=Gn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ma(c&&c.concurrentRequestLimit),this.Da=new cs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ps.prototype,t.la=8,t.G=1,t.connect=function(c,w,I,z){$e(0),this.W=c,this.H=w||{},I&&z!==void 0&&(this.H.OSID=I,this.H.OAID=z),this.F=this.X,this.I=p(this,null,this.W),ms(this)};function Ci(c){if(ko(c),c.G==3){var w=c.U++,I=Ar(c.I);if(jt(I,"SID",c.K),jt(I,"RID",w),jt(I,"TYPE","terminate"),oo(c,I),w=new wn(c,c.j,w),w.L=2,w.v=Io(Ar(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!I&&a.Image&&(new Image().src=w.v,I=!0),I||(w.g=M(w.j,null),w.g.ea(w.v)),w.F=Date.now(),os(w)}bs(c)}function gs(c){c.g&&(ws(c),c.g.cancel(),c.g=null)}function ko(c){gs(c),c.u&&(a.clearTimeout(c.u),c.u=null),ki(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ms(c){if(!gl(c.h)&&!c.s){c.s=!0;var w=c.Ga;J||ie(),W||(J(),W=!0),K.add(w,c),c.B=0}}function Ia(c,w){return No(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=w.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=or(y(c.Ga,c,w),_s(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ue=new wn(this,this.j,c);let ye=this.o;if(this.S&&(ye?(ye=A(ye),D(ye,this.S)):ye=this.S),this.m!==null||this.O||(ue.H=ye,ye=null),this.P)e:{for(var w=0,I=0;I<this.i.length;I++){t:{var z=this.i[I];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(w+=z,4096<w){w=I;break e}if(w===4096||I===this.i.length-1){w=I+1;break e}}w=1e3}else w=1e3;w=Ro(this,ue,w),I=Ar(this.I),jt(I,"RID",c),jt(I,"CVER",22),this.D&&jt(I,"X-HTTP-Session-Id",this.D),oo(this,I),ye&&(this.O?w="headers="+encodeURIComponent(String(Li(ye)))+"&"+w:this.m&&Ea(I,this.m,ye)),en(this.h,ue),this.Ua&&jt(I,"TYPE","init"),this.P?(jt(I,"$req",w),jt(I,"SID","null"),ue.T=!0,Zi(ue,I,null)):Zi(ue,I,w),this.G=2}}else this.G==3&&(c?vs(this,c):this.i.length==0||gl(this.h)||vs(this))};function vs(c,w){var I;w?I=w.l:I=c.U++;const z=Ar(c.I);jt(z,"SID",c.K),jt(z,"RID",I),jt(z,"AID",c.T),oo(c,z),c.m&&c.o&&Ea(z,c.m,c.o),I=new wn(c,c.j,I,c.B+1),c.m===null&&(I.H=c.o),w&&(c.i=w.D.concat(c.i)),w=Ro(c,I,1e3),I.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),en(c.h,I),Zi(I,z,w)}function oo(c,w){c.H&&G(c.H,function(I,z){jt(w,z,I)}),c.l&&vl({},function(I,z){jt(w,z,I)})}function Ro(c,w,I){I=Math.min(c.i.length,I);var z=c.l?y(c.l.Na,c.l,c):null;e:{var ue=c.i;let ye=-1;for(;;){const Ie=["count="+I];ye==-1?0<I?(ye=ue[0].g,Ie.push("ofs="+ye)):ye=0:Ie.push("ofs="+ye);let dt=!0;for(let bt=0;bt<I;bt++){let pt=ue[bt].g;const Mt=ue[bt].map;if(pt-=ye,0>pt)ye=Math.max(0,ue[bt].g-100),dt=!1;else try{Sa(Mt,Ie,"req"+pt+"_")}catch{z&&z(Mt)}}if(dt){z=Ie.join("&");break e}}}return c=c.i.splice(0,I),w.D=c,z}function ys(c){if(!c.g&&!c.u){c.Y=1;var w=c.Fa;J||ie(),W||(J(),W=!0),K.add(w,c),c.v=0}}function Do(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=or(y(c.Fa,c),_s(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Sl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=or(y(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$e(10),gs(this),Sl(this))};function ws(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Sl(c){c.g=new wn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var w=Ar(c.qa);jt(w,"RID","rpc"),jt(w,"SID",c.K),jt(w,"AID",c.T),jt(w,"CI",c.F?"0":"1"),!c.F&&c.ja&&jt(w,"TO",c.ja),jt(w,"TYPE","xmlhttp"),oo(c,w),c.m&&c.o&&Ea(w,c.m,c.o),c.L&&(c.g.I=c.L);var I=c.g;c=c.ia,I.L=1,I.v=Io(Ar(w)),I.m=null,I.P=!0,Eo(I,c)}t.Za=function(){this.C!=null&&(this.C=null,gs(this),Do(this),$e(19))};function ki(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function so(c,w){var I=null;if(c.g==w){ki(c),ws(c),c.g=null;var z=2}else if(va(c.h,w))I=w.D,ya(c.h,w),z=1;else return;if(c.G!=0){if(w.o)if(z==1){I=w.m?w.m.length:0,w=Date.now()-w.F;var ue=c.B;z=li(),st(z,new Cr(z,I)),ms(c)}else ys(c);else if(ue=w.s,ue==3||ue==0&&0<w.X||!(z==1&&Ia(c,w)||z==2&&Do(c)))switch(I&&0<I.length&&(w=c.h,w.i=w.i.concat(I)),ue){case 1:ar(c,5);break;case 4:ar(c,10);break;case 3:ar(c,6);break;default:ar(c,2)}}}function _s(c,w){let I=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(I*=2),I*w}function ar(c,w){if(c.j.info("Error code "+w),w==2){var I=y(c.fb,c),z=c.Xa;const ue=!z;z=new pn(z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||To(z,"https"),Io(z),ue?ui(z.toString(),I):_l(z.toString(),I)}else $e(2);c.G=0,c.l&&c.l.sa(w),bs(c),ko(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function bs(c){if(c.G=0,c.ka=[],c.l){const w=wa(c.h);(w.length!=0||c.i.length!=0)&&(F(c.ka,w),F(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function p(c,w,I){var z=I instanceof pn?Ar(I):new pn(I);if(z.g!="")w&&(z.g=w+"."+z.g),as(z,z.s);else{var ue=a.location;z=ue.protocol,w=w?w+"."+ue.hostname:ue.hostname,ue=+ue.port;var ye=new pn(null);z&&To(ye,z),w&&(ye.g=w),ue&&as(ye,ue),I&&(ye.l=I),z=ye}return I=c.D,w=c.ya,I&&w&&jt(z,I,w),jt(z,"VER",c.la),oo(c,z),z}function M(c,w,I){if(w&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=c.Ca&&!c.pa?new Ot(new hs({eb:I})):new Ot(c.pa),w.Ha(c.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ee(){}t=ee.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function oe(){}oe.prototype.g=function(c,w){return new ce(c,w)};function ce(c,w){Ze.call(this),this.g=new ps(w),this.l=c,this.h=w&&w.messageUrlParams||null,c=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(c?c["X-WebChannel-Content-Type"]=w.messageContentType:c={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(c?c["X-WebChannel-Client-Profile"]=w.va:c={"X-WebChannel-Client-Profile":w.va}),this.g.S=c,(c=w&&w.Sb)&&!b(c)&&(this.g.m=c),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!b(w)&&(this.g.D=w,c=this.h,c!==null&&w in c&&(c=this.h,w in c&&delete c[w])),this.j=new Ve(this)}N(ce,Ze),ce.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ce.prototype.close=function(){Ci(this.g)},ce.prototype.o=function(c){var w=this.g;if(typeof c=="string"){var I={};I.__data__=c,c=I}else this.u&&(I={},I.__data__=Dt(c),c=I);w.i.push(new Fu(w.Ya++,c)),w.G==3&&ms(w)},ce.prototype.N=function(){this.g.l=null,delete this.j,Ci(this.g),delete this.g,ce.aa.N.call(this)};function be(c){Hr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var w=c.__sm__;if(w){e:{for(const I in w){c=I;break e}c=void 0}(this.i=c)&&(c=this.i,w=w!==null&&c in w?w[c]:void 0),this.data=w}else this.data=c}N(be,Hr);function Te(){Qt.call(this),this.status=1}N(Te,Qt);function Ve(c){this.g=c}N(Ve,ee),Ve.prototype.ua=function(){st(this.g,"a")},Ve.prototype.ta=function(c){st(this.g,new be(c))},Ve.prototype.sa=function(c){st(this.g,new Te)},Ve.prototype.ra=function(){st(this.g,"b")},oe.prototype.createWebChannel=oe.prototype.g,ce.prototype.send=ce.prototype.o,ce.prototype.open=ce.prototype.m,ce.prototype.close=ce.prototype.close,t_=function(){return new oe},e_=function(){return li()},Zw=nt,m0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,Of=sr,kr.COMPLETE="complete",Jw=kr,Zt.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,pc=Zt,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,Xw=Ot}).apply(typeof ff<"u"?ff:typeof self<"u"?self:typeof window<"u"?window:{});const v5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new Hw("@firebase/firestore");function ac(){return rl.logLevel}function Xe(t,...e){if(rl.logLevel<=Ct.DEBUG){const n=e.map(zg);rl.debug(`Firestore (${Lu}): ${t}`,...n)}}function ts(t,...e){if(rl.logLevel<=Ct.ERROR){const n=e.map(zg);rl.error(`Firestore (${Lu}): ${t}`,...n)}}function wu(t,...e){if(rl.logLevel<=Ct.WARN){const n=e.map(zg);rl.warn(`Firestore (${Lu}): ${t}`,...n)}}function zg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t="Unexpected state"){const e=`FIRESTORE (${Lu}) INTERNAL ASSERTION FAILED: `+t;throw ts(e),new Error(e)}function qt(t,e){t||ct()}function vt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Iu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gr.UNAUTHENTICATED))}shutdown(){}}class wE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _E{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new na;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new na,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new na)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string"),new n_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new gr(e)}}class bE{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class AE{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new bE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){qt(this.o===void 0);const r=o=>{o.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Xe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qt(typeof n.token=="string"),this.R=n.token,new SE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=xE(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Rt(t,e){return t<e?-1:t>e?1:0}function _u(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ke(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bn.fromMillis(Date.now())}static fromDate(e){return Bn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mt(e)}static min(){return new mt(new Bn(0,0))}static max(){return new mt(new Bn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r){n===void 0?n=0:n>e.length&&ct(),r===void 0?r=e.length-n:r>e.length-n&&ct(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return eh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof eh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rn extends eh{construct(e,n,r){return new rn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rn(n)}static emptyPath(){return new rn([])}}const PE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends eh{construct(e,n,r){return new Zn(e,n,r)}static isValidIdentifier(e){return PE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ke(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ke(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ke(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ke(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(n)}static emptyPath(){return new Zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.path=e}static fromPath(e){return new et(rn.fromString(e))}static fromName(e){return new et(rn.fromString(e).popFirst(5))}static empty(){return new et(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new rn(e.slice()))}}function NE(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=mt.fromTimestamp(r===1e9?new Bn(n+1,0):new Bn(n,r));return new aa(i,et.empty(),e)}function TE(t){return new aa(t.readTime,t.key,-1)}class aa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new aa(mt.min(),et.empty(),-1)}static max(){return new aa(mt.max(),et.empty(),-1)}}function IE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=et.comparator(t.documentKey,e.documentKey),n!==0?n:Rt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(t){if(t.code!==Pe.FAILED_PRECONDITION||t.message!==LE)throw t;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ke((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ke?n:ke.resolve(n)}catch(n){return ke.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.reject(n)}static resolve(e){return new ke((n,r)=>{n(e)})}static reject(e){return new ke((n,r)=>{r(e)})}static waitFor(e){return new ke((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ke.resolve(!1);for(const r of e)n=n.next(i=>i?ke.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ke((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const h=l;n(e[h]).next(d=>{s[h]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new ke((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function kE(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ug.oe=-1;function qd(t){return t==null}function gd(t){return t===0&&1/t==-1/0}function RE(t){return typeof t=="number"&&Number.isInteger(t)&&!gd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function i_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.comparator=e,this.root=n||Jn.EMPTY}insert(e,n){return new hn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new df(this.root,e,this.comparator,!1)}getReverseIterator(){return new df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new df(this.root,e,this.comparator,!0)}}class df{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Jn.RED,this.left=i??Jn.EMPTY,this.right=o??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Jn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Jn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w5(this.data.getIterator())}getIteratorFrom(e){return new w5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tr(this.comparator);return n.data=e,n}}class w5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new qi([])}unionWith(e){let n=new tr(Zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _u(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new o_("Invalid base64 string: "+o):o}}(e);return new rr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new rr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const DE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(t){if(qt(!!t),typeof t=="string"){let e=0;const n=DE.exec(t);if(qt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:An(t.seconds),nanos:An(t.nanos)}}function An(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function il(t){return typeof t=="string"?rr.fromBase64String(t):rr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hg(t){const e=t.mapValue.fields.__previous_value__;return qg(e)?Hg(e):e}function th(t){const e=la(t.mapValue.fields.__local_write_time__.timestampValue);return new Bn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n,r,i,o,s,a,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}}class nh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ol(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qg(t)?4:ME(t)?9007199254740991:OE(t)?10:11:ct()}function Ao(t,e){if(t===e)return!0;const n=ol(t);if(n!==ol(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return th(t).isEqual(th(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=la(i.timestampValue),a=la(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return il(i.bytesValue).isEqual(il(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return An(i.geoPointValue.latitude)===An(o.geoPointValue.latitude)&&An(i.geoPointValue.longitude)===An(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return An(i.integerValue)===An(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=An(i.doubleValue),a=An(o.doubleValue);return s===a?gd(s)===gd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return _u(t.arrayValue.values||[],e.arrayValue.values||[],Ao);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(y5(s)!==y5(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Ao(s[l],a[l])))return!1;return!0}(t,e);default:return ct()}}function rh(t,e){return(t.values||[]).find(n=>Ao(n,e))!==void 0}function bu(t,e){if(t===e)return 0;const n=ol(t),r=ol(e);if(n!==r)return Rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=An(o.integerValue||o.doubleValue),l=An(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return _5(t.timestampValue,e.timestampValue);case 4:return _5(th(t),th(e));case 5:return Rt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=il(o),l=il(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let h=0;h<a.length&&h<l.length;h++){const d=Rt(a[h],l[h]);if(d!==0)return d}return Rt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Rt(An(o.latitude),An(s.latitude));return a!==0?a:Rt(An(o.longitude),An(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return b5(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,h,d;const m=o.fields||{},y=s.fields||{},g=(a=m.value)===null||a===void 0?void 0:a.arrayValue,N=(l=y.value)===null||l===void 0?void 0:l.arrayValue,L=Rt(((h=g==null?void 0:g.values)===null||h===void 0?void 0:h.length)||0,((d=N==null?void 0:N.values)===null||d===void 0?void 0:d.length)||0);return L!==0?L:b5(g,N)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===pf.mapValue&&s===pf.mapValue)return 0;if(o===pf.mapValue)return 1;if(s===pf.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),h=s.fields||{},d=Object.keys(h);l.sort(),d.sort();for(let m=0;m<l.length&&m<d.length;++m){const y=Rt(l[m],d[m]);if(y!==0)return y;const g=bu(a[l[m]],h[d[m]]);if(g!==0)return g}return Rt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ct()}}function _5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Rt(t,e);const n=la(t),r=la(e),i=Rt(n.seconds,r.seconds);return i!==0?i:Rt(n.nanos,r.nanos)}function b5(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=bu(n[i],r[i]);if(o)return o}return Rt(n.length,r.length)}function Au(t){return v0(t)}function v0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=la(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return il(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return et.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=v0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${v0(n.fields[s])}`;return i+"}"}(t.mapValue):ct()}function A5(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function y0(t){return!!t&&"integerValue"in t}function $g(t){return!!t&&"arrayValue"in t}function S5(t){return!!t&&"nullValue"in t}function E5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mf(t){return!!t&&"mapValue"in t}function OE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ME(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(n)}setAll(e){let n=Zn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Pc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Mf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ao(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cu(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wi(Pc(this.value))}}function s_(t){const e=[];return Cu(t.fields,(n,r)=>{const i=new Zn([n]);if(Mf(r)){const o=s_(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new vr(e,0,mt.min(),mt.min(),mt.min(),wi.empty(),0)}static newFoundDocument(e,n,r,i){return new vr(e,1,n,mt.min(),r,i,0)}static newNoDocument(e,n){return new vr(e,2,n,mt.min(),mt.min(),wi.empty(),0)}static newUnknownDocument(e,n){return new vr(e,3,n,mt.min(),mt.min(),wi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.position=e,this.inclusive=n}}function x5(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=et.comparator(et.fromName(s.referenceValue),n.key):r=bu(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function P5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ao(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n="asc"){this.field=e,this.dir=n}}function jE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{}class Dn extends a_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BE(e,n,r):n==="array-contains"?new qE(e,r):n==="in"?new HE(e,r):n==="not-in"?new $E(e,r):n==="array-contains-any"?new WE(e,r):new Dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zE(e,r):new UE(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bu(n,this.value)):n!==null&&ol(this.value)===ol(n)&&this.matchesComparison(bu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends a_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Gi(e,n)}matches(e){return l_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function l_(t){return t.op==="and"}function u_(t){return VE(t)&&l_(t)}function VE(t){for(const e of t.filters)if(e instanceof Gi)return!1;return!0}function w0(t){if(t instanceof Dn)return t.field.canonicalString()+t.op.toString()+Au(t.value);if(u_(t))return t.filters.map(e=>w0(e)).join(",");{const e=t.filters.map(n=>w0(n)).join(",");return`${t.op}(${e})`}}function c_(t,e){return t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.field.isEqual(i.field)&&Ao(r.value,i.value)}(t,e):t instanceof Gi?function(r,i){return i instanceof Gi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&c_(s,i.filters[a]),!0):!1}(t,e):void ct()}function h_(t){return t instanceof Dn?function(n){return`${n.field.canonicalString()} ${n.op} ${Au(n.value)}`}(t):t instanceof Gi?function(n){return n.op.toString()+" {"+n.getFilters().map(h_).join(" ,")+"}"}(t):"Filter"}class BE extends Dn{constructor(e,n,r){super(e,n,r),this.key=et.fromName(r.referenceValue)}matches(e){const n=et.comparator(e.key,this.key);return this.matchesComparison(n)}}class zE extends Dn{constructor(e,n){super(e,"in",n),this.keys=f_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UE extends Dn{constructor(e,n){super(e,"not-in",n),this.keys=f_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>et.fromName(r.referenceValue))}class qE extends Dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $g(n)&&rh(n.arrayValue,this.value)}}class HE extends Dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rh(this.value.arrayValue,n)}}class $E extends Dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rh(this.value.arrayValue,n)}}class WE extends Dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function N5(t,e=null,n=[],r=[],i=null,o=null,s=null){return new GE(t,e,n,r,i,o,s)}function Wg(t){const e=vt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>w0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),qd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Au(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Au(r)).join(",")),e.ue=n}return e.ue}function Gg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jE(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!c_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P5(t.startAt,e.startAt)&&P5(t.endAt,e.endAt)}function _0(t){return et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function KE(t,e,n,r,i,o,s,a){return new ku(t,e,n,r,i,o,s,a)}function d_(t){return new ku(t)}function T5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p_(t){return t.collectionGroup!==null}function Nc(t){const e=vt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new tr(Zn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ih(o,r))}),n.has(Zn.keyField().canonicalString())||e.ce.push(new ih(Zn.keyField(),r))}return e.ce}function yo(t){const e=vt(t);return e.le||(e.le=QE(e,Nc(t))),e.le}function QE(t,e){if(t.limitType==="F")return N5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ih(i.field,o)});const n=t.endAt?new md(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new md(t.startAt.position,t.startAt.inclusive):null;return N5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function b0(t,e){const n=t.filters.concat([e]);return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function A0(t,e,n){return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hd(t,e){return Gg(yo(t),yo(e))&&t.limitType===e.limitType}function g_(t){return`${Wg(yo(t))}|lt:${t.limitType}`}function Bl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>h_(i)).join(", ")}]`),qd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Au(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Au(i)).join(",")),`Target(${r})`}(yo(t))}; limitType=${t.limitType})`}function $d(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):et.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Nc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const h=x5(s,a,l);return s.inclusive?h<=0:h<0}(r.startAt,Nc(r),i)||r.endAt&&!function(s,a,l){const h=x5(s,a,l);return s.inclusive?h>=0:h>0}(r.endAt,Nc(r),i))}(t,e)}function YE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function m_(t){return(e,n)=>{let r=!1;for(const i of Nc(t)){const o=XE(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function XE(t,e,n){const r=t.field.isKeyField()?et.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),h=a.data.field(o);return l!==null&&h!==null?bu(l,h):ct()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cu(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return i_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new hn(et.comparator);function ns(){return JE}const v_=new hn(et.comparator);function gc(...t){let e=v_;for(const n of t)e=e.insert(n.key,n);return e}function y_(t){let e=v_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qa(){return Tc()}function w_(){return Tc()}function Tc(){return new Ru(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZE=new hn(et.comparator),ex=new tr(et.comparator);function Et(...t){let e=ex;for(const n of t)e=e.add(n);return e}const tx=new tr(Rt);function nx(){return tx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(e)?"-0":e}}function __(t){return{integerValue:""+t}}function rx(t,e){return RE(e)?__(e):Kg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this._=void 0}}function ix(t,e,n){return t instanceof vd?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&qg(o)&&(o=Hg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof oh?A_(t,e):t instanceof sh?S_(t,e):function(i,o){const s=b_(i,o),a=I5(s)+I5(i.Pe);return y0(s)&&y0(i.Pe)?__(a):Kg(i.serializer,a)}(t,e)}function ox(t,e,n){return t instanceof oh?A_(t,e):t instanceof sh?S_(t,e):n}function b_(t,e){return t instanceof yd?function(r){return y0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class vd extends Wd{}class oh extends Wd{constructor(e){super(),this.elements=e}}function A_(t,e){const n=E_(e);for(const r of t.elements)n.some(i=>Ao(i,r))||n.push(r);return{arrayValue:{values:n}}}class sh extends Wd{constructor(e){super(),this.elements=e}}function S_(t,e){let n=E_(e);for(const r of t.elements)n=n.filter(i=>!Ao(i,r));return{arrayValue:{values:n}}}class yd extends Wd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function I5(t){return An(t.integerValue||t.doubleValue)}function E_(t){return $g(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oh&&i instanceof oh||r instanceof sh&&i instanceof sh?_u(r.elements,i.elements,Ao):r instanceof yd&&i instanceof yd?Ao(r.Pe,i.Pe):r instanceof vd&&i instanceof vd}(t.transform,e.transform)}class ax{constructor(e,n){this.version=e,this.transformResults=n}}class wo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wo}static exists(e){return new wo(void 0,e)}static updateTime(e){return new wo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gd{}function x_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qg(t.key,wo.none()):new yh(t.key,t.data,wo.none());{const n=t.data,r=wi.empty();let i=new tr(Zn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ul(t.key,r,new qi(i.toArray()),wo.none())}}function lx(t,e,n){t instanceof yh?function(i,o,s){const a=i.value.clone(),l=C5(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ul?function(i,o,s){if(!jf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=C5(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(P_(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,r){return t instanceof yh?function(o,s,a,l){if(!jf(o.precondition,s))return a;const h=o.value.clone(),d=k5(o.fieldTransforms,l,s);return h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ul?function(o,s,a,l){if(!jf(o.precondition,s))return a;const h=k5(o.fieldTransforms,l,s),d=s.data;return d.setAll(P_(o)),d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,s,a){return jf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function ux(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=b_(r.transform,i||null);o!=null&&(n===null&&(n=wi.empty()),n.set(r.field,o))}return n||null}function L5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_u(r,i,(o,s)=>sx(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yh extends Gd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ul extends Gd{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function P_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function C5(t,e,n){const r=new Map;qt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,ox(s,a,n[i]))}return r}function k5(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,ix(o,s,e))}return r}class Qg extends Gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cx extends Gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&lx(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=w_();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=x_(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(mt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Et())}isEqual(e){return this.batchId===e.batchId&&_u(this.mutations,e.mutations,(n,r)=>L5(n,r))&&_u(this.baseMutations,e.baseMutations,(n,r)=>L5(n,r))}}class Yg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qt(e.mutations.length===r.length);let i=function(){return ZE}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Yg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn,Nt;function px(t){switch(t){default:return ct();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function N_(t){if(t===void 0)return ts("GRPC error has no .code"),Pe.UNKNOWN;switch(t){case kn.OK:return Pe.OK;case kn.CANCELLED:return Pe.CANCELLED;case kn.UNKNOWN:return Pe.UNKNOWN;case kn.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case kn.INTERNAL:return Pe.INTERNAL;case kn.UNAVAILABLE:return Pe.UNAVAILABLE;case kn.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case kn.NOT_FOUND:return Pe.NOT_FOUND;case kn.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case kn.ABORTED:return Pe.ABORTED;case kn.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case kn.DATA_LOSS:return Pe.DATA_LOSS;default:return ct()}}(Nt=kn||(kn={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new Ga([4294967295,4294967295],0);function R5(t){const e=gx().encode(t),n=new Yw;return n.update(e),new Uint8Array(n.digest())}function D5(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ga([n,r],0),new Ga([i,o],0)]}class Xg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(r<0)throw new mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ga.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ga.fromNumber(r)));return i.compare(mx)===1&&(i=new Ga([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=R5(e),[r,i]=D5(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Xg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=R5(e),[r,i]=D5(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kd(mt.min(),i,new hn(Rt),ns(),Et())}}class wh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wh(r,n,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class T_{constructor(e,n){this.targetId=e,this.me=n}}class I_{constructor(e,n,r=rr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class F5{constructor(){this.fe=0,this.ge=M5(),this.pe=rr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Et(),n=Et(),r=Et();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ct()}}),new wh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=M5()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vx{constructor(e){this.Le=e,this.Be=new Map,this.ke=ns(),this.qe=O5(),this.Qe=new hn(Rt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ct()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(_0(o))if(r===0){const s=new et(o.path);this.Ue(n,s,vr.newNoDocument(s,mt.min()))}else qt(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=il(r).toUint8Array()}catch(l){if(l instanceof o_)return wu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Xg(s,i,o)}catch(l){return wu(l instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&_0(a.target)){const l=new et(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,vr.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Et();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const h=this.Je(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Kd(e,n,this.Qe,this.ke,r);return this.ke=ns(),this.qe=O5(),this.Qe=new hn(Rt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new F5,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tr(Rt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Xe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new F5),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function O5(){return new hn(et.comparator)}function M5(){return new hn(et.comparator)}const yx={asc:"ASCENDING",desc:"DESCENDING"},wx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_x={and:"AND",or:"OR"};class bx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function S0(t,e){return t.useProto3Json||qd(e)?e:{value:e}}function wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ax(t,e){return wd(t,e.toTimestamp())}function _o(t){return qt(!!t),mt.fromTimestamp(function(n){const r=la(n);return new Bn(r.seconds,r.nanos)}(t))}function Jg(t,e){return E0(t,e).canonicalString()}function E0(t,e){const n=function(i){return new rn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function C_(t){const e=rn.fromString(t);return qt(O_(e)),e}function x0(t,e){return Jg(t.databaseId,e.path)}function n1(t,e){const n=C_(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new et(R_(n))}function k_(t,e){return Jg(t.databaseId,e)}function Sx(t){const e=C_(t);return e.length===4?rn.emptyPath():R_(e)}function P0(t){return new rn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function R_(t){return qt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function j5(t,e,n){return{name:x0(t,e),fields:n.value.mapValue.fields}}function Ex(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ct()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,d){return h.useProto3Json?(qt(d===void 0||typeof d=="string"),rr.fromBase64String(d||"")):(qt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),rr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(h){const d=h.code===void 0?Pe.UNKNOWN:N_(h.code);return new Ke(d,h.message||"")}(s);n=new I_(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=n1(t,r.document.name),o=_o(r.document.updateTime),s=r.document.createTime?_o(r.document.createTime):mt.min(),a=new wi({mapValue:{fields:r.document.fields}}),l=vr.newFoundDocument(i,o,s,a),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Vf(h,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=n1(t,r.document),o=r.readTime?_o(r.readTime):mt.min(),s=vr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Vf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=n1(t,r.document),o=r.removedTargetIds||[];n=new Vf([],o,i,null)}else{if(!("filter"in e))return ct();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new dx(i,o),a=r.targetId;n=new T_(a,s)}}return n}function xx(t,e){let n;if(e instanceof yh)n={update:j5(t,e.key,e.value)};else if(e instanceof Qg)n={delete:x0(t,e.key)};else if(e instanceof ul)n={update:j5(t,e.key,e.data),updateMask:Dx(e.fieldMask)};else{if(!(e instanceof cx))return ct();n={verify:x0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof vd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof oh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof sh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yd)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ct()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Ax(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ct()}(t,e.precondition)),n}function Px(t,e){return t&&t.length>0?(qt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?_o(i.updateTime):_o(o);return s.isEqual(mt.min())&&(s=_o(o)),new ax(s,i.transformResults||[])}(n,e))):[]}function Nx(t,e){return{documents:[k_(t,e.path)]}}function Tx(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=k_(t,i);const o=function(h){if(h.length!==0)return F_(Gi.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(h){if(h.length!==0)return h.map(d=>function(y){return{field:zl(y.field),direction:Cx(y.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=S0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function Ix(t){let e=Sx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(m){const y=D_(m);return y instanceof Gi&&u_(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(y=>function(N){return new ih(Ul(N.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(m){let y;return y=typeof m=="object"?m.value:m,qd(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(m){const y=!!m.before,g=m.values||[];return new md(g,y)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const y=!m.before,g=m.values||[];return new md(g,y)}(n.endAt)),KE(e,i,s,o,a,"F",l,h)}function Lx(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ul(n.unaryFilter.field);return Dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ul(n.unaryFilter.field);return Dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ul(n.unaryFilter.field);return Dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ul(n.unaryFilter.field);return Dn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(t):t.fieldFilter!==void 0?function(n){return Dn.create(Ul(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gi.create(n.compositeFilter.filters.map(r=>D_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ct()}}(n.compositeFilter.op))}(t):ct()}function Cx(t){return yx[t]}function kx(t){return wx[t]}function Rx(t){return _x[t]}function zl(t){return{fieldPath:t.canonicalString()}}function Ul(t){return Zn.fromServerFormat(t.fieldPath)}function F_(t){return t instanceof Dn?function(n){if(n.op==="=="){if(E5(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NAN"}};if(S5(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E5(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NOT_NAN"}};if(S5(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(n.field),op:kx(n.op),value:n.value}}}(t):t instanceof Gi?function(n){const r=n.getFilters().map(i=>F_(i));return r.length===1?r[0]:{compositeFilter:{op:Rx(n.op),filters:r}}}(t):ct()}function Dx(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function O_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r,i,o=mt.min(),s=mt.min(),a=rr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.ct=e}}function Ox(t){const e=Ix({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?A0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.un=new jx}addToCollectionParentIndex(e,n){return this.un.add(n),ke.resolve()}getCollectionParents(e,n){return ke.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ke.resolve()}deleteFieldIndex(e,n){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,n){return ke.resolve()}getDocumentsMatchingTarget(e,n){return ke.resolve(null)}getIndexType(e,n){return ke.resolve(0)}getFieldIndexes(e,n){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,n){return ke.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return ke.resolve(aa.min())}updateCollectionGroup(e,n,r){return ke.resolve()}updateIndexEntries(e,n){return ke.resolve()}}class jx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tr(rn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tr(rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Su(0)}static kn(){return new Su(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.changes=new Ru(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ic(r.mutation,i,qi.empty(),Bn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Et()){const i=qa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=gc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=qa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Et()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ns();const s=Tc(),a=function(){return Tc()}();return n.forEach((l,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof ul)?o=o.insert(h.key,h):d!==void 0?(s.set(h.key,d.mutation.getFieldMask()),Ic(d.mutation,h,d.mutation.getFieldMask(),Bn.now())):s.set(h.key,qi.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((h,d)=>s.set(h,d)),n.forEach((h,d)=>{var m;return a.set(h,new Bx(d,(m=s.get(h))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tc();let i=new hn((s,a)=>s-a),o=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let d=r.get(l)||qi.empty();d=a.applyToLocalView(h,d),r.set(l,d);const m=(i.get(a.batchId)||Et()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,d=l.value,m=w_();d.forEach(y=>{if(!o.has(y)){const g=x_(n.get(y),r.get(y));g!==null&&m.set(y,g),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,m))}return ke.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return et.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ke.resolve(qa());let a=-1,l=o;return s.next(h=>ke.forEach(h,(d,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(d)?ke.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{l=l.insert(d,y)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,l,h,Et())).next(d=>({batchId:a,changes:y_(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new et(n)).next(r=>{let i=gc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=gc();return this.indexManager.getCollectionParents(e,o).next(a=>ke.forEach(a,l=>{const h=function(m,y){return new ku(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(d=>{d.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,h)=>{const d=h.getKey();s.get(d)===null&&(s=s.insert(d,vr.newInvalidDocument(d)))});let a=gc();return s.forEach((l,h)=>{const d=o.get(l);d!==void 0&&Ic(d.mutation,h,qi.empty(),Bn.now()),$d(n,h)&&(a=a.insert(l,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ke.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_o(i.createTime)}}(n)),ke.resolve()}getNamedQuery(e,n){return ke.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Ox(i.bundledQuery),readTime:_o(i.readTime)}}(n)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.overlays=new hn(et.comparator),this.Ir=new Map}getOverlay(e,n){return ke.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qa();return ke.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ke.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ke.resolve()}getOverlaysForCollection(e,n,r){const i=qa(),o=n.length+1,s=new et(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ke.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new hn((h,d)=>h-d);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=o.get(h.largestBatchId);d===null&&(d=qa(),o=o.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const a=qa(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,d)=>a.set(h,d)),!(a.size()>=i)););return ke.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new fx(n,r));let o=this.Ir.get(n);o===void 0&&(o=Et(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(e){return ke.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.Tr=new tr(qn.Er),this.dr=new tr(qn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new qn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new qn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new et(new rn([])),r=new qn(n,e),i=new qn(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new et(new rn([])),r=new qn(n,e),i=new qn(n,e+1);let o=Et();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new qn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return et.comparator(e.key,n.key)||Rt(e.wr,n.wr)}static Ar(e,n){return Rt(e.wr,n.wr)||et.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tr(qn.Er)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new hx(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new qn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ke.resolve(s)}lookupMutationBatch(e,n){return ke.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ke.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qn(n,0),i=new qn(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),ke.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tr(Rt);return n.forEach(i=>{const o=new qn(i,0),s=new qn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),ke.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;et.isDocumentKey(o)||(o=o.child(""));const s=new qn(new et(o),0);let a=new tr(Rt);return this.br.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.wr)),!0)},s),ke.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ke.forEach(n.mutations,i=>{const o=new qn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new qn(n,0),i=this.br.firstAfterOrEqual(r);return ke.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.Mr=e,this.docs=function(){return new hn(et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ke.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(n))}getEntries(e,n){let r=ns();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vr.newInvalidDocument(i))}),ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ns();const s=n.path,a=new et(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:d}}=l.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||IE(TE(d),r)<=0||(i.has(d.key)||$d(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ke.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ct()}Or(e,n){return ke.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Gx(this)}getSize(e){return ke.resolve(this.size)}}class Gx extends Vx{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ke.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.persistence=e,this.Nr=new Ru(n=>Wg(n),Gg),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zg,this.targetCount=0,this.kr=Su.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ke.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Su(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ke.resolve()}updateTargetData(e,n){return this.Kn(n),ke.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ke.waitFor(o).next(()=>i)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ke.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ke.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ke.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ke.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ke.resolve(r)}containsKey(e,n){return ke.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Ug(0),this.Kr=!1,this.Kr=!0,this.$r=new Hx,this.referenceDelegate=e(this),this.Ur=new Kx(this),this.indexManager=new Mx,this.remoteDocumentCache=function(i){return new Wx(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Fx(n),this.Gr=new Ux(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new $x(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Xe("MemoryPersistence","Starting transaction:",e);const i=new Yx(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ke.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Yx extends CE{constructor(e){super(),this.currentSequenceNumber=e}}class em{constructor(e){this.persistence=e,this.Jr=new Zg,this.Yr=null}static Zr(e){return new em(e)}get Xr(){if(this.Yr)return this.Yr;throw ct()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ke.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ke.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.Xr,r=>{const i=et.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,mt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ke.or([()=>ke.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Et(),i=Et();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new tm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return e6()?8:kE(JS())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Xx;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ac()<=Ct.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",Bl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ke.resolve()):(ac()<=Ct.DEBUG&&Xe("QueryEngine","Query:",Bl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ac()<=Ct.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",Bl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yo(n))):ke.resolve())}Yi(e,n){if(T5(n))return ke.resolve(null);let r=yo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=A0(n,null,"F"),r=yo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Et(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.ts(n,a);return this.ns(n,h,s,l.readTime)?this.Yi(e,A0(n,null,"F")):this.rs(e,h,n,l)}))})))}Zi(e,n,r,i){return T5(n)||i.isEqual(mt.min())?ke.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?ke.resolve(null):(ac()<=Ct.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bl(n)),this.rs(e,s,n,NE(i,-1)).next(a=>a))})}ts(e,n){let r=new tr(m_(e));return n.forEach((i,o)=>{$d(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ac()<=Ct.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",Bl(n)),this.Ji.getDocumentsMatchingQuery(e,n,aa.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new hn(Rt),this._s=new Ru(o=>Wg(o),Gg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zx(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function eP(t,e,n,r){return new Zx(t,e,n,r)}async function M_(t,e){const n=vt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Et();for(const h of i){s.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}for(const h of o){a.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(h=>({hs:h,removedBatchIds:s,addedBatchIds:a}))})})}function tP(t,e){const n=vt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,h,d){const m=h.batch,y=m.keys();let g=ke.resolve();return y.forEach(N=>{g=g.next(()=>d.getEntry(l,N)).next(L=>{const F=h.docVersions.get(N);qt(F!==null),L.version.compareTo(F)<0&&(m.applyToRemoteDocument(L,h),L.isValidDocument()&&(L.setReadTime(h.commitVersion),d.addEntry(L)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Et();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(l=l.add(a.batch.mutations[h].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function j_(t){const e=vt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function nP(t,e){const n=vt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,m)=>{const y=i.get(m);if(!y)return;a.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,m)));let g=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(rr.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(m,g),function(L,F,_){return L.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(y,g,d)&&a.push(n.Ur.updateTargetData(o,g))});let l=ns(),h=Et();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(rP(o,s,e.documentUpdates).next(d=>{l=d.Ps,h=d.Is})),!r.isEqual(mt.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(m=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return ke.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,h)).next(()=>l)}).then(o=>(n.os=i,o))}function rP(t,e,n){let r=Et(),i=Et();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ns();return n.forEach((a,l)=>{const h=o.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(mt.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function iP(t,e){const n=vt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oP(t,e){const n=vt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ke.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Hs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function N0(t,e,n){const r=vt(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!vh(s))throw s;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function V5(t,e,n){const r=vt(t);let i=mt.min(),o=Et();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,h,d){const m=vt(l),y=m._s.get(d);return y!==void 0?ke.resolve(m.os.get(y)):m.Ur.getTargetData(h,d)}(r,s,yo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:mt.min(),n?o:Et())).next(a=>(sP(r,YE(e),a),{documents:a,Ts:o})))}function sP(t,e,n){let r=t.us.get(e)||mt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class B5{constructor(){this.activeTargetIds=nx()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aP{constructor(){this.so=new B5,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new B5,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf=null;function r1(){return gf===null?gf=function(){return 268435456+Math.round(2147483648*Math.random())}():gf++,"0x"+gf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="WebChannelConnection";class hP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=r1(),l=this.xo(n,r.toUriEncodedString());Xe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,o,s),this.No(n,l,h,i).then(d=>(Xe("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw wu("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=uP[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=r1();return new Promise((s,a)=>{const l=new Xw;l.setWithCredentials(!0),l.listenOnce(Jw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Of.NO_ERROR:const d=l.getResponseJson();Xe(cr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Of.TIMEOUT:Xe(cr,`RPC '${e}' ${o} timed out`),a(new Ke(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const m=l.getStatus();if(Xe(cr,`RPC '${e}' ${o} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const g=y==null?void 0:y.error;if(g&&g.status&&g.message){const N=function(F){const _=F.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(_)>=0?_:Pe.UNKNOWN}(g.status);a(new Ke(N,g.message))}else a(new Ke(Pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ke(Pe.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Xe(cr,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);Xe(cr,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=r1(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=t_(),a=e_(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");Xe(cr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const m=s.createWebChannel(d,l);let y=!1,g=!1;const N=new cP({Io:F=>{g?Xe(cr,`Not sending because RPC '${e}' stream ${i} is closed:`,F):(y||(Xe(cr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),Xe(cr,`RPC '${e}' stream ${i} sending:`,F),m.send(F))},To:()=>m.close()}),L=(F,_,b)=>{F.listen(_,x=>{try{b(x)}catch(O){setTimeout(()=>{throw O},0)}})};return L(m,pc.EventType.OPEN,()=>{g||(Xe(cr,`RPC '${e}' stream ${i} transport opened.`),N.yo())}),L(m,pc.EventType.CLOSE,()=>{g||(g=!0,Xe(cr,`RPC '${e}' stream ${i} transport closed`),N.So())}),L(m,pc.EventType.ERROR,F=>{g||(g=!0,wu(cr,`RPC '${e}' stream ${i} transport errored:`,F),N.So(new Ke(Pe.UNAVAILABLE,"The operation could not be completed")))}),L(m,pc.EventType.MESSAGE,F=>{var _;if(!g){const b=F.data[0];qt(!!b);const x=b,O=x.error||((_=x[0])===null||_===void 0?void 0:_.error);if(O){Xe(cr,`RPC '${e}' stream ${i} received error:`,O);const H=O.status;let G=function(k){const D=kn[k];if(D!==void 0)return N_(D)}(H),T=O.message;G===void 0&&(G=Pe.INTERNAL,T="Unknown error status: "+H+" with message "+O.message),g=!0,N.So(new Ke(G,T)),m.close()}else Xe(cr,`RPC '${e}' stream ${i} received:`,b),N.bo(b)}}),L(a,Zw.STAT_EVENT,F=>{F.stat===m0.PROXY?Xe(cr,`RPC '${e}' stream ${i} detected buffering proxy`):F.stat===m0.NOPROXY&&Xe(cr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}}function i1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){return new bx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new V_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Pe.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ke(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fP extends B_{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Ex(this.serializer,e),r=function(o){if(!("targetChange"in o))return mt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?mt.min():s.readTime?_o(s.readTime):mt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=P0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=_0(l)?{documents:Nx(o,l)}:{query:Tx(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=L_(o,s.resumeToken);const h=S0(o,s.expectedCount);h!==null&&(a.expectedCount=h)}else if(s.snapshotVersion.compareTo(mt.min())>0){a.readTime=wd(o,s.snapshotVersion.toTimestamp());const h=S0(o,s.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,e);const r=Lx(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=P0(this.serializer),n.removeTarget=e,this.a_(n)}}class dP extends B_{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Px(e.writeResults,e.commitTime),r=_o(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=P0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xx(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ke(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,E0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(Pe.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,E0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(Pe.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class gP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ts(n),this.D_=!1):Xe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{cl(this)&&(Xe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const h=vt(l);h.L_.add(4),await _h(h),h.q_.set("Unknown"),h.L_.delete(4),await Yd(h)}(this))})}),this.q_=new gP(r,i)}}async function Yd(t){if(cl(t))for(const e of t.B_)await e(!0)}async function _h(t){for(const e of t.B_)await e(!1)}function z_(t,e){const n=vt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),om(n)?im(n):Du(n).r_()&&rm(n,e))}function nm(t,e){const n=vt(t),r=Du(n);n.N_.delete(e),r.r_()&&U_(n,e),n.N_.size===0&&(r.r_()?r.o_():cl(n)&&n.q_.set("Unknown"))}function rm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Du(t).A_(e)}function U_(t,e){t.Q_.xe(e),Du(t).R_(e)}function im(t){t.Q_=new vx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Du(t).start(),t.q_.v_()}function om(t){return cl(t)&&!Du(t).n_()&&t.N_.size>0}function cl(t){return vt(t).L_.size===0}function q_(t){t.Q_=void 0}async function vP(t){t.q_.set("Online")}async function yP(t){t.N_.forEach((e,n)=>{rm(t,e)})}async function wP(t,e){q_(t),om(t)?(t.q_.M_(e),im(t)):t.q_.set("Unknown")}async function _P(t,e,n){if(t.q_.set("Online"),e instanceof I_&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _d(t,r)}else if(e instanceof Vf?t.Q_.Ke(e):e instanceof T_?t.Q_.He(e):t.Q_.We(e),!n.isEqual(mt.min()))try{const r=await j_(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.N_.get(h);d&&o.N_.set(h,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,h)=>{const d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(rr.EMPTY_BYTE_STRING,d.snapshotVersion)),U_(o,l);const m=new Hs(d.target,l,h,d.sequenceNumber);rm(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),await _d(t,r)}}async function _d(t,e,n){if(!vh(e))throw e;t.L_.add(1),await _h(t),t.q_.set("Offline"),n||(n=()=>j_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Xe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Yd(t)})}function H_(t,e){return e().catch(n=>_d(t,n,e))}async function Xd(t){const e=vt(t),n=ua(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;bP(e);)try{const i=await iP(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,AP(e,i)}catch(i){await _d(e,i)}$_(e)&&W_(e)}function bP(t){return cl(t)&&t.O_.length<10}function AP(t,e){t.O_.push(e);const n=ua(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $_(t){return cl(t)&&!ua(t).n_()&&t.O_.length>0}function W_(t){ua(t).start()}async function SP(t){ua(t).p_()}async function EP(t){const e=ua(t);for(const n of t.O_)e.m_(n.mutations)}async function xP(t,e,n){const r=t.O_.shift(),i=Yg.from(r,e,n);await H_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xd(t)}async function PP(t,e){e&&ua(t).V_&&await async function(r,i){if(function(s){return px(s)&&s!==Pe.ABORTED}(i.code)){const o=r.O_.shift();ua(r).s_(),await H_(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Xd(r)}}(t,e),$_(t)&&W_(t)}async function U5(t,e){const n=vt(t);n.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=cl(n);n.L_.add(3),await _h(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Yd(n)}async function NP(t,e){const n=vt(t);e?(n.L_.delete(2),await Yd(n)):e||(n.L_.add(2),await _h(n),n.q_.set("Unknown"))}function Du(t){return t.K_||(t.K_=function(n,r,i){const o=vt(n);return o.w_(),new fP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:vP.bind(null,t),Ro:yP.bind(null,t),mo:wP.bind(null,t),d_:_P.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),om(t)?im(t):t.q_.set("Unknown")):(await t.K_.stop(),q_(t))})),t.K_}function ua(t){return t.U_||(t.U_=function(n,r,i){const o=vt(n);return o.w_(),new dP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:SP.bind(null,t),mo:PP.bind(null,t),f_:EP.bind(null,t),g_:xP.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Xd(t)):(await t.U_.stop(),t.O_.length>0&&(Xe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new sm(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function am(t,e){if(ts("AsyncQueue",`${e}: ${t}`),vh(t))return new Ke(Pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||et.comparator(n.key,r.key):(n,r)=>et.comparator(n.key,r.key),this.keyedMap=gc(),this.sortedSet=new hn(this.comparator)}static emptySet(e){return new cu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(){this.W_=new hn(et.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ct():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Eu{constructor(e,n,r,i,o,s,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Eu(e,n,cu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class IP{constructor(){this.queries=H5(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=vt(n),o=i.queries;i.queries=H5(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ke(Pe.ABORTED,"Firestore shutting down"))}}function H5(){return new Ru(t=>g_(t),Hd)}async function LP(t,e){const n=vt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new TP,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=am(s,`Initialization of query '${Bl(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&lm(n)}async function CP(t,e){const n=vt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kP(t,e){const n=vt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&lm(n)}function RP(t,e,n){const r=vt(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function lm(t){t.Y_.forEach(e=>{e.next()})}var T0,$5;($5=T0||(T0={})).ea="default",$5.Cache="cache";class DP{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==T0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.key=e}}class K_{constructor(e){this.key=e}}class FP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Et(),this.mutatedKeys=Et(),this.Aa=m_(e),this.Ra=new cu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new q5,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const y=i.get(d),g=$d(this.query,m)?m:null,N=!!y&&this.mutatedKeys.has(y.key),L=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let F=!1;y&&g?y.data.isEqual(g.data)?N!==L&&(r.track({type:3,doc:g}),F=!0):this.ga(y,g)||(r.track({type:2,doc:g}),F=!0,(l&&this.Aa(g,l)>0||h&&this.Aa(g,h)<0)&&(a=!0)):!y&&g?(r.track({type:0,doc:g}),F=!0):y&&!g&&(r.track({type:1,doc:y}),F=!0,(l||h)&&(a=!0)),F&&(g?(s=s.add(g),o=L?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,m)=>function(g,N){const L=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return L(g)-L(N)}(d.type,m.type)||this.Aa(d.doc,m.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,h=l!==this.Ea;return this.Ea=l,s.length!==0||h?{snapshot:new Eu(this.query,e.Ra,o,s,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new q5,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Et(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new K_(r))}),this.da.forEach(r=>{e.has(r)||n.push(new G_(r))}),n}ba(e){this.Ta=e.Ts,this.da=Et();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Eu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class OP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MP{constructor(e){this.key=e,this.va=!1}}class jP{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ru(a=>g_(a),Hd),this.Ma=new Map,this.xa=new Set,this.Oa=new hn(et.comparator),this.Na=new Map,this.La=new Zg,this.Ba={},this.ka=new Map,this.qa=Su.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function VP(t,e,n=!0){const r=e4(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await Q_(r,e,n,!0),i}async function BP(t,e){const n=e4(t);await Q_(n,e,!0,!1)}async function Q_(t,e,n,r){const i=await oP(t.localStore,yo(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await zP(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&z_(t.remoteStore,i),a}async function zP(t,e,n,r,i){t.Ka=(m,y,g)=>async function(L,F,_,b){let x=F.view.ma(_);x.ns&&(x=await V5(L.localStore,F.query,!1).then(({documents:T})=>F.view.ma(T,x)));const O=b&&b.targetChanges.get(F.targetId),H=b&&b.targetMismatches.get(F.targetId)!=null,G=F.view.applyChanges(x,L.isPrimaryClient,O,H);return G5(L,F.targetId,G.wa),G.snapshot}(t,m,y,g);const o=await V5(t.localStore,e,!0),s=new FP(e,o.Ts),a=s.ma(o.documents),l=wh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=s.applyChanges(a,t.isPrimaryClient,l);G5(t,n,h.wa);const d=new OP(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function UP(t,e,n){const r=vt(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Hd(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await N0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nm(r.remoteStore,i.targetId),I0(r,i.targetId)}).catch(mh)):(I0(r,i.targetId),await N0(r.localStore,i.targetId,!0))}async function qP(t,e){const n=vt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nm(n.remoteStore,r.targetId))}async function HP(t,e,n){const r=XP(t);try{const i=await function(s,a){const l=vt(s),h=Bn.now(),d=a.reduce((g,N)=>g.add(N.key),Et());let m,y;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let N=ns(),L=Et();return l.cs.getEntries(g,d).next(F=>{N=F,N.forEach((_,b)=>{b.isValidDocument()||(L=L.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,N)).next(F=>{m=F;const _=[];for(const b of a){const x=ux(b,m.get(b.key).overlayedDocument);x!=null&&_.push(new ul(b.key,x,s_(x.value.mapValue),wo.exists(!0)))}return l.mutationQueue.addMutationBatch(g,h,_,a)}).next(F=>{y=F;const _=F.applyToLocalDocumentSet(m,L);return l.documentOverlayCache.saveOverlays(g,F.batchId,_)})}).then(()=>({batchId:y.batchId,changes:y_(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let h=s.Ba[s.currentUser.toKey()];h||(h=new hn(Rt)),h=h.insert(a,l),s.Ba[s.currentUser.toKey()]=h}(r,i.batchId,n),await bh(r,i.changes),await Xd(r.remoteStore)}catch(i){const o=am(i,"Failed to persist write");n.reject(o)}}async function Y_(t,e){const n=vt(t);try{const r=await nP(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(qt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?qt(s.va):i.removedDocuments.size>0&&(qt(s.va),s.va=!1))}),await bh(n,r,e)}catch(r){await mh(r)}}function W5(t,e,n){const r=vt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=vt(s);l.onlineState=a;let h=!1;l.queries.forEach((d,m)=>{for(const y of m.j_)y.Z_(a)&&(h=!0)}),h&&lm(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $P(t,e,n){const r=vt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new hn(et.comparator);s=s.insert(o,vr.newNoDocument(o,mt.min()));const a=Et().add(o),l=new Kd(mt.min(),new Map,new hn(Rt),s,a);await Y_(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),um(r)}else await N0(r.localStore,e,!1).then(()=>I0(r,e,n)).catch(mh)}async function WP(t,e){const n=vt(t),r=e.batch.batchId;try{const i=await tP(n.localStore,e);J_(n,r,null),X_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bh(n,i)}catch(i){await mh(i)}}async function GP(t,e,n){const r=vt(t);try{const i=await function(s,a){const l=vt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return l.mutationQueue.lookupMutationBatch(h,a).next(m=>(qt(m!==null),d=m.keys(),l.mutationQueue.removeMutationBatch(h,m))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>l.localDocuments.getDocuments(h,d))})}(r.localStore,e);J_(r,e,n),X_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bh(r,i)}catch(i){await mh(i)}}function X_(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function J_(t,e,n){const r=vt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function I0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Z_(t,r)})}function Z_(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(nm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),um(t))}function G5(t,e,n){for(const r of n)r instanceof G_?(t.La.addReference(r.key,e),KP(t,r)):r instanceof K_?(Xe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Z_(t,r.key)):ct()}function KP(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Xe("SyncEngine","New document in limbo: "+n),t.xa.add(r),um(t))}function um(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new et(rn.fromString(e)),r=t.qa.next();t.Na.set(r,new MP(n)),t.Oa=t.Oa.insert(n,r),z_(t.remoteStore,new Hs(yo(d_(n.path)),r,"TargetPurposeLimboResolution",Ug.oe))}}async function bh(t,e,n){const r=vt(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(h){i.push(h);const m=tm.Wi(l.targetId,h);o.push(m)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,h){const d=vt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ke.forEach(h,y=>ke.forEach(y.$i,g=>d.persistence.referenceDelegate.addReference(m,y.targetId,g)).next(()=>ke.forEach(y.Ui,g=>d.persistence.referenceDelegate.removeReference(m,y.targetId,g)))))}catch(m){if(!vh(m))throw m;Xe("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const g=d.os.get(y),N=g.snapshotVersion,L=g.withLastLimboFreeSnapshotVersion(N);d.os=d.os.insert(y,L)}}}(r.localStore,o))}async function QP(t,e){const n=vt(t);if(!n.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const r=await M_(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ke(Pe.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bh(n,r.hs)}}function YP(t,e){const n=vt(t),r=n.Na.get(e);if(r&&r.va)return Et().add(r.key);{let i=Et();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function e4(t){const e=vt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$P.bind(null,e),e.Ca.d_=kP.bind(null,e.eventManager),e.Ca.$a=RP.bind(null,e.eventManager),e}function XP(t){const e=vt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GP.bind(null,e),e}class bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return eP(this.persistence,new Jx,e.initialUser,this.serializer)}Ga(e){return new Qx(em.Zr,this.serializer)}Wa(e){return new aP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bd.provider={build:()=>new bd};class L0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W5(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QP.bind(null,this.syncEngine),await NP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IP}()}createDatastore(e){const n=Qd(e.databaseInfo.databaseId),r=function(o){return new hP(o)}(e.databaseInfo);return function(o,s,a,l){return new pP(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new mP(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>W5(this.syncEngine,n,0),function(){return z5.D()?new z5:new lP}())}createSyncEngine(e,n){return function(i,o,s,a,l,h,d){const m=new jP(i,o,s,a,l,h);return d&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=vt(i);Xe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await _h(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}L0.provider={build:()=>new L0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gr.UNAUTHENTICATED,this.clientId=r_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Xe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Xe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=am(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function o1(t,e){t.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await M_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function K5(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eN(t);Xe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>U5(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>U5(e.remoteStore,i)),t._onlineComponents=e}async function eN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await o1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Pe.FAILED_PRECONDITION||i.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;wu("Error using user provided cache. Falling back to memory cache: "+n),await o1(t,new bd)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),await o1(t,new bd);return t._offlineComponents}async function t4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),await K5(t,t._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),await K5(t,new L0))),t._onlineComponents}function tN(t){return t4(t).then(e=>e.syncEngine)}async function nN(t){const e=await t4(t),n=e.eventManager;return n.onListen=VP.bind(null,e.syncEngine),n.onUnlisten=UP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qP.bind(null,e.syncEngine),n}function rN(t,e,n={}){const r=new na;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,h){const d=new JP({next:y=>{d.Za(),s.enqueueAndForget(()=>CP(o,m)),y.fromCache&&l.source==="server"?h.reject(new Ke(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new DP(a,d,{includeMetadataChanges:!0,_a:!0});return LP(o,m)}(await nN(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t,e,n){if(!n)throw new Ke(Pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iN(t,e,n,r){if(e===!0&&r===!0)throw new Ke(Pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Y5(t){if(!et.isDocumentKey(t))throw new Ke(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function X5(t){if(et.isDocumentKey(t))throw new Ke(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ct()}function ah(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jd(t);throw new Ke(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ke(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ke(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ke(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ke(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J5({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J5(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yE;switch(r.type){case"firstParty":return new AE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Q5.get(n);r&&(Xe("ComponentProvider","Removing Datastore"),Q5.delete(n),r.terminate())}(this),Promise.resolve()}}function oN(t,e,n,r={}){var i;const o=(t=ah(t,Zd))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&wu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=gr.MOCK_USER;else{a=XS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ke(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new gr(h)}t._authCredentials=new wE(new n_(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hl(this.firestore,e,this._query)}}class Ai{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ai(this.firestore,e,this._key)}}class ra extends hl{constructor(e,n,r){super(e,n,d_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ai(this.firestore,null,new et(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function Ad(t,e,...n){if(t=yu(t),r4("collection","path",e),t instanceof Zd){const r=rn.fromString(e,...n);return X5(r),new ra(t,null,r)}{if(!(t instanceof Ai||t instanceof ra))throw new Ke(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rn.fromString(e,...n));return X5(r),new ra(t.firestore,null,r)}}function sN(t,e,...n){if(t=yu(t),arguments.length===1&&(e=r_.newId()),r4("doc","path",e),t instanceof Zd){const r=rn.fromString(e,...n);return Y5(r),new Ai(t,null,new et(r))}{if(!(t instanceof Ai||t instanceof ra))throw new Ke(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rn.fromString(e,...n));return Y5(r),new Ai(t.firestore,t instanceof ra?t.converter:null,new et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new V_(this,"async_queue_retry"),this.Vu=()=>{const r=i1();r&&Xe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=i1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=i1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new na;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!vh(e))throw e;Xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ts("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=sm.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ct()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ep extends Zd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Z5,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z5(e),this._firestoreClient=void 0,await e}}}function aN(t,e){const n=typeof t=="object"?t:sE(),r=typeof t=="string"?t:"(default)",i=nE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=QS("firestore");o&&oN(i,...o)}return i}function i4(t){if(t._terminated)throw new Ke(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lN(t),t._firestoreClient}function lN(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,h,d){return new FE(a,l,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,n4(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ZP(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xu(rr.fromBase64String(e))}catch(n){throw new Ke(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xu(rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=/^__.*__$/;class cN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ul(e,this.data,this.fieldMask,n,this.fieldTransforms):new yh(e,this.data,n,this.fieldTransforms)}}function s4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class dm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Sd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(s4(this.Cu)&&uN.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class hN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qd(e)}Qu(e,n,r,i=!1){return new dm({Cu:e,methodName:n,qu:r,path:Zn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a4(t){const e=t._freezeSettings(),n=Qd(t._databaseId);return new hN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fN(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);c4("Data must be an object, but it was:",s,r);const a=l4(r,s);let l,h;if(o.merge)l=new qi(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const m of o.mergeFields){const y=pN(e,m,n);if(!s.contains(y))throw new Ke(Pe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);mN(d,y)||d.push(y)}l=new qi(d),h=s.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,h=s.fieldTransforms;return new cN(new wi(a),l,h)}function dN(t,e,n,r=!1){return pm(n,t.Qu(r?4:3,e))}function pm(t,e){if(u4(t=yu(t)))return c4("Unsupported field value:",e,t),l4(t,e);if(t instanceof o4)return function(r,i){if(!s4(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=pm(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=yu(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Bn.fromDate(r);return{timestampValue:wd(i.serializer,o)}}if(r instanceof Bn){const o=new Bn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wd(i.serializer,o)}}if(r instanceof hm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xu)return{bytesValue:L_(i.serializer,r._byteString)};if(r instanceof Ai){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Jg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fm)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Kg(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Jd(r)}`)}(t,e)}function l4(t,e){const n={};return i_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cu(t,(r,i)=>{const o=pm(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function u4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bn||t instanceof hm||t instanceof xu||t instanceof Ai||t instanceof o4||t instanceof fm)}function c4(t,e,n){if(!u4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Jd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function pN(t,e,n){if((e=yu(e))instanceof cm)return e._internalPath;if(typeof e=="string")return h4(t,e);throw Sd("Field path arguments must be of type string or ",t,!1,void 0,n)}const gN=new RegExp("[~\\*/\\[\\]]");function h4(t,e,n){if(e.search(gN)>=0)throw Sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cm(...e.split("."))._internalPath}catch{throw Sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ke(Pe.INVALID_ARGUMENT,a+t+l)}function mN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ai(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vN extends f4{data(){return super.data()}}function tp(t,e){return typeof e=="string"?h4(t,e):e instanceof cm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gm{}class d4 extends gm{}function C0(t,e,...n){let r=[];e instanceof gm&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof mm).length,a=o.filter(l=>l instanceof np).length;if(s>1||s>0&&a>0)throw new Ke(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class np extends d4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new np(e,n,r)}_apply(e){const n=this._parse(e);return p4(e._query,n),new hl(e.firestore,e.converter,b0(e._query,n))}_parse(e){const n=a4(e.firestore);return function(o,s,a,l,h,d,m){let y;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ke(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){tv(m,d);const g=[];for(const N of m)g.push(ev(l,o,N));y={arrayValue:{values:g}}}else y=ev(l,o,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||tv(m,d),y=dN(a,s,m,d==="in"||d==="not-in");return Dn.create(h,d,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wN(t,e,n){const r=e,i=tp("where",t);return np._create(i,r,n)}class mm extends gm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)p4(s,l),s=b0(s,l)}(e._query,n),new hl(e.firestore,e.converter,b0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vm extends d4{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vm(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new Ke(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ke(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ih(o,s)}(e._query,this._field,this._direction);return new hl(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new ku(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function _N(t,e="asc"){const n=e,r=tp("orderBy",t);return vm._create(r,n)}function ev(t,e,n){if(typeof(n=yu(n))=="string"){if(n==="")throw new Ke(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p_(e)&&n.indexOf("/")!==-1)throw new Ke(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rn.fromString(n));if(!et.isDocumentKey(r))throw new Ke(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return A5(t,new et(r))}if(n instanceof Ai)return A5(t,n._key);throw new Ke(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(n)}.`)}function tv(t,e){if(!Array.isArray(t)||t.length===0)throw new Ke(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p4(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ke(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bN{convertValue(e,n="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return An(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ct()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cu(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>An(s.doubleValue));return new fm(o)}convertGeoPoint(e){return new hm(An(e.latitude),An(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(th(e));default:return null}}convertTimestamp(e){const n=la(e);return new Bn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rn.fromString(e);qt(O_(r));const i=new nh(r.get(1),r.get(3)),o=new et(r.popFirst(5));return i.isEqual(n)||ts(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SN extends f4{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bf extends SN{data(e={}){return super.data(e)}}class EN{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bf(this._firestore,this._userDataWriter,r.key,r,new mf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Bf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Bf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return a.type!==0&&(h=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:xN(a.type),doc:l,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}class PN extends bN{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ai(this.firestore,null,n)}}function k0(t){t=ah(t,hl);const e=ah(t.firestore,ep),n=i4(e),r=new PN(e);return yN(t._query),rN(n,t._query).then(i=>new EN(e,r,t,i))}function NN(t){return g4(ah(t.firestore,ep),[new Qg(t._key,wo.none())])}function TN(t,e){const n=ah(t.firestore,ep),r=sN(t),i=AN(t.converter,e);return g4(n,[fN(a4(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wo.exists(!1))]).then(()=>r)}function g4(t,e){return function(r,i){const o=new na;return r.asyncQueue.enqueueAndForget(async()=>HP(await tN(r),i,o)),o.promise}(i4(t),e)}(function(e,n=!0){(function(i){Lu=i})(oE),pd(new Jc("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ep(new _E(r.getProvider("auth-internal")),new EE(r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ke(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nh(h.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),uu(v5,"4.7.3",e),uu(v5,"4.7.3","esm2017")})();const IN={apiKey:"AIzaSyC9hyt4o8JxDlUJyTTgQYPVyXpv_AZBHRI",authDomain:"oracao-24h-e96b9.firebaseapp.com",projectId:"oracao-24h-e96b9",storageBucket:"oracao-24h-e96b9.firebasestorage.app",messagingSenderId:"923223368470",appId:"1:923223368470:web:c07af7dc5b84ea5dc1e637"},LN=Gw(IN),Ed=aN(LN);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),rp=(t,e)=>{const n=St.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...h},d)=>St.createElement("svg",{ref:d,...CN,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${kN(t)}`,a].join(" "),...h},[...e.map(([m,y])=>St.createElement(m,y)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=rp("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=rp("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=rp("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=rp("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function nv({schedules:t}){return Qe.jsx("div",{className:"w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:Qe.jsx("div",{className:"overflow-x-auto",children:Qe.jsxs("table",{className:"w-full",children:[Qe.jsx("thead",{children:Qe.jsxs("tr",{className:"bg-red-600 text-white",children:[Qe.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Nome"}),Qe.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Horário"})]})}),Qe.jsxs("tbody",{className:"divide-y divide-gray-200",children:[t.map(e=>Qe.jsxs("tr",{className:"hover:bg-gray-50",children:[Qe.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.name}),Qe.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900 flex items-center gap-2",children:[Qe.jsx(m4,{className:"w-4 h-4 text-red-600"}),e.time]})]},e.id)),t.length===0&&Qe.jsx("tr",{children:Qe.jsx("td",{colSpan:2,className:"px-6 py-4 text-sm text-gray-500 text-center",children:"Nenhum horário agendado"})})]})]})})})}function ON({onScheduleAdded:t,onCancel:e}){const[n,r]=St.useState(""),[i,o]=St.useState(""),[s,a]=St.useState(!1),l=()=>{const d=[];for(let m=0;m<24;m++)for(let y=0;y<60;y+=15){const g=String(m).padStart(2,"0"),N=String(y).padStart(2,"0"),L=String((y+15)%60).padStart(2,"0"),F=y+15>=60?String(m+1).padStart(2,"0"):g;d.push(`${g}:${N} - ${F}:${L}`)}return d},h=async d=>{if(d.preventDefault(),!n.trim()||!i){hf.error("Por favor, preencha todos os campos");return}a(!0);try{const m=C0(Ad(Ed,"schedules"),wN("time","==",i));if(!(await k0(m)).empty){hf.error("Este horário já está reservado"),a(!1);return}await TN(Ad(Ed,"schedules"),{name:n,time:i,created_at:new Date().toISOString()}),hf.success("Horário agendado com sucesso!"),t()}catch(m){hf.error("Erro ao agendar horário"),console.error("Error:",m)}finally{a(!1)}};return Qe.jsxs("div",{className:"w-full max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg",children:[Qe.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Escolha seu Horário"}),Qe.jsxs("form",{onSubmit:h,className:"space-y-6",children:[Qe.jsxs("div",{children:[Qe.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[Qe.jsx(FN,{className:"w-4 h-4"}),"Nome"]}),Qe.jsx("input",{type:"text",value:n,onChange:d=>r(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500",required:!0})]}),Qe.jsxs("div",{children:[Qe.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[Qe.jsx(m4,{className:"w-4 h-4"}),"Horário"]}),Qe.jsxs("select",{value:i,onChange:d=>o(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500",required:!0,children:[Qe.jsx("option",{value:"",children:"Selecione um horário"}),l().map(d=>Qe.jsx("option",{value:d,children:d},d))]})]}),Qe.jsxs("div",{className:"flex gap-4",children:[Qe.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Voltar"}),Qe.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:s?"Agendando...":"Agendar"})]})]})]})}function MN({className:t="w-8 h-8 text-red-600"}){return Qe.jsx("svg",{viewBox:"0 0 120 40",className:t,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",children:Qe.jsx("path",{d:"M20,20 Q35,10 50,20 T80,20 T110,20",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round"})})}const jN="modulepreload",VN=function(t){return"/"+t},rv={},R0=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=VN(l),l in rv)return;rv[l]=!0;const h=l.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":jN,h||(m.as="script"),m.crossOrigin="",m.href=l,a&&m.setAttribute("nonce",a),document.head.appendChild(m),h)return new Promise((y,g)=>{m.addEventListener("load",y),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function zt(t){"@babel/helpers - typeof";return zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(t)}var yr=Uint8Array,ni=Uint16Array,ym=Int32Array,ip=new yr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),op=new yr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),D0=new yr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v4=function(t,e){for(var n=new ni(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new ym(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},y4=v4(ip,2),w4=y4.b,F0=y4.r;w4[28]=258,F0[258]=28;var _4=v4(op,0),BN=_4.b,iv=_4.r,O0=new ni(32768);for(var on=0;on<32768;++on){var Ds=(on&43690)>>1|(on&21845)<<1;Ds=(Ds&52428)>>2|(Ds&13107)<<2,Ds=(Ds&61680)>>4|(Ds&3855)<<4,O0[on]=((Ds&65280)>>8|(Ds&255)<<8)>>1}var bo=function(t,e,n){for(var r=t.length,i=0,o=new ni(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new ni(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new ni(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var h=i<<4|t[i],d=e-t[i],m=s[t[i]-1]++<<d,y=m|(1<<d)-1;m<=y;++m)a[O0[m]>>l]=h}else for(a=new ni(r),i=0;i<r;++i)t[i]&&(a[i]=O0[s[t[i]-1]++]>>15-t[i]);return a},ca=new yr(288);for(var on=0;on<144;++on)ca[on]=8;for(var on=144;on<256;++on)ca[on]=9;for(var on=256;on<280;++on)ca[on]=7;for(var on=280;on<288;++on)ca[on]=8;var lh=new yr(32);for(var on=0;on<32;++on)lh[on]=5;var zN=bo(ca,9,0),UN=bo(ca,9,1),qN=bo(lh,5,0),HN=bo(lh,5,1),s1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Mi=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},a1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},wm=function(t){return(t+7)/8|0},b4=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new yr(t.subarray(e,n))},$N=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Bi=function(t,e,n){var r=new Error(e||$N[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Bi),!n)throw r;return r},WN=function(t,e,n,r){var i=t.length,o=0;if(!i||e.f&&!e.l)return n||new yr(0);var s=!n,a=s||e.i!=2,l=e.i;s&&(n=new yr(i*3));var h=function(Le){var Oe=n.length;if(Le>Oe){var Me=new yr(Math.max(Oe*2,Le));Me.set(n),n=Me}},d=e.f||0,m=e.p||0,y=e.b||0,g=e.l,N=e.d,L=e.m,F=e.n,_=i*8;do{if(!g){d=Mi(t,m,1);var b=Mi(t,m+1,3);if(m+=3,b)if(b==1)g=UN,N=HN,L=9,F=5;else if(b==2){var G=Mi(t,m,31)+257,T=Mi(t,m+10,15)+4,A=G+Mi(t,m+5,31)+1;m+=14;for(var k=new yr(A),D=new yr(19),S=0;S<T;++S)D[D0[S]]=Mi(t,m+S*3,7);m+=T*3;for(var E=s1(D),C=(1<<E)-1,Y=bo(D,E,1),S=0;S<A;){var he=Y[Mi(t,m,C)];m+=he&15;var x=he>>4;if(x<16)k[S++]=x;else{var Z=0,J=0;for(x==16?(J=3+Mi(t,m,3),m+=2,Z=k[S-1]):x==17?(J=3+Mi(t,m,7),m+=3):x==18&&(J=11+Mi(t,m,127),m+=7);J--;)k[S++]=Z}}var W=k.subarray(0,G),K=k.subarray(G);L=s1(W),F=s1(K),g=bo(W,L,1),N=bo(K,F,1)}else Bi(1);else{var x=wm(m)+4,O=t[x-4]|t[x-3]<<8,H=x+O;if(H>i){l&&Bi(0);break}a&&h(y+O),n.set(t.subarray(x,H),y),e.b=y+=O,e.p=m=H*8,e.f=d;continue}if(m>_){l&&Bi(0);break}}a&&h(y+131072);for(var ie=(1<<L)-1,pe=(1<<F)-1,R=m;;R=m){var Z=g[a1(t,m)&ie],q=Z>>4;if(m+=Z&15,m>_){l&&Bi(0);break}if(Z||Bi(2),q<256)n[y++]=q;else if(q==256){R=m,g=null;break}else{var Q=q-254;if(q>264){var S=q-257,te=ip[S];Q=Mi(t,m,(1<<te)-1)+w4[S],m+=te}var ne=N[a1(t,m)&pe],de=ne>>4;ne||Bi(3),m+=ne&15;var K=BN[de];if(de>3){var te=op[de];K+=a1(t,m)&(1<<te)-1,m+=te}if(m>_){l&&Bi(0);break}a&&h(y+131072);var ge=y+Q;if(y<K){var we=o-K,Ce=Math.min(K,ge);for(we+y<0&&Bi(3);y<Ce;++y)n[y]=r[we+y]}for(;y<ge;++y)n[y]=n[y-K]}}e.l=g,e.p=R,e.b=y,e.f=d,g&&(d=1,e.m=L,e.d=N,e.n=F)}while(!d);return y!=n.length&&s?b4(n,0,y):n.subarray(0,y)},qo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},lc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},l1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:S4,l:0};if(i==1){var s=new yr(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(H,G){return H.f-G.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],h=0,d=1,m=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=n[n[h].f<n[m].f?h++:m++],l=n[h!=d&&n[h].f<n[m].f?h++:m++],n[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var y=o[0].s,r=1;r<i;++r)o[r].s>y&&(y=o[r].s);var g=new ni(y+1),N=M0(n[d-1],g,0);if(N>e){var r=0,L=0,F=N-e,_=1<<F;for(o.sort(function(G,T){return g[T.s]-g[G.s]||G.f-T.f});r<i;++r){var b=o[r].s;if(g[b]>e)L+=_-(1<<N-g[b]),g[b]=e;else break}for(L>>=F;L>0;){var x=o[r].s;g[x]<e?L-=1<<e-g[x]++-1:++r}for(;r>=0&&L;--r){var O=o[r].s;g[O]==e&&(--g[O],++L)}N=e}return{t:new yr(g),l:N}},M0=function(t,e,n){return t.s==-1?Math.max(M0(t.l,e,n+1),M0(t.r,e,n+1)):e[t.s]=n},ov=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ni(++e),r=0,i=t[0],o=1,s=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},uc=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},A4=function(t,e,n){var r=n.length,i=wm(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},sv=function(t,e,n,r,i,o,s,a,l,h,d){qo(e,d++,n),++i[256];for(var m=l1(i,15),y=m.t,g=m.l,N=l1(o,15),L=N.t,F=N.l,_=ov(y),b=_.c,x=_.n,O=ov(L),H=O.c,G=O.n,T=new ni(19),A=0;A<b.length;++A)++T[b[A]&31];for(var A=0;A<H.length;++A)++T[H[A]&31];for(var k=l1(T,7),D=k.t,S=k.l,E=19;E>4&&!D[D0[E-1]];--E);var C=h+5<<3,Y=uc(i,ca)+uc(o,lh)+s,he=uc(i,y)+uc(o,L)+s+14+3*E+uc(T,D)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&C<=Y&&C<=he)return A4(e,d,t.subarray(l,l+h));var Z,J,W,K;if(qo(e,d,1+(he<Y)),d+=2,he<Y){Z=bo(y,g,0),J=y,W=bo(L,F,0),K=L;var ie=bo(D,S,0);qo(e,d,x-257),qo(e,d+5,G-1),qo(e,d+10,E-4),d+=14;for(var A=0;A<E;++A)qo(e,d+3*A,D[D0[A]]);d+=3*E;for(var pe=[b,H],R=0;R<2;++R)for(var q=pe[R],A=0;A<q.length;++A){var Q=q[A]&31;qo(e,d,ie[Q]),d+=D[Q],Q>15&&(qo(e,d,q[A]>>5&127),d+=q[A]>>12)}}else Z=zN,J=ca,W=qN,K=lh;for(var A=0;A<a;++A){var te=r[A];if(te>255){var Q=te>>18&31;lc(e,d,Z[Q+257]),d+=J[Q+257],Q>7&&(qo(e,d,te>>23&31),d+=ip[Q]);var ne=te&31;lc(e,d,W[ne]),d+=K[ne],ne>3&&(lc(e,d,te>>5&8191),d+=op[ne])}else lc(e,d,Z[te]),d+=J[te]}return lc(e,d,Z[256]),d+J[256]},GN=new ym([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),S4=new yr(0),KN=function(t,e,n,r,i,o){var s=o.z||t.length,a=new yr(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),h=o.l,d=(o.r||0)&7;if(e){d&&(l[0]=o.r>>3);for(var m=GN[e-1],y=m>>13,g=m&8191,N=(1<<n)-1,L=o.p||new ni(32768),F=o.h||new ni(N+1),_=Math.ceil(n/3),b=2*_,x=function(tt){return(t[tt]^t[tt+1]<<_^t[tt+2]<<b)&N},O=new ym(25e3),H=new ni(288),G=new ni(32),T=0,A=0,k=o.i||0,D=0,S=o.w||0,E=0;k+2<s;++k){var C=x(k),Y=k&32767,he=F[C];if(L[Y]=he,F[C]=Y,S<=k){var Z=s-k;if((T>7e3||D>24576)&&(Z>423||!h)){d=sv(t,l,0,O,H,G,A,D,E,k-E,d),D=T=A=0,E=k;for(var J=0;J<286;++J)H[J]=0;for(var J=0;J<30;++J)G[J]=0}var W=2,K=0,ie=g,pe=Y-he&32767;if(Z>2&&C==x(k-pe))for(var R=Math.min(y,Z)-1,q=Math.min(32767,k),Q=Math.min(258,Z);pe<=q&&--ie&&Y!=he;){if(t[k+W]==t[k+W-pe]){for(var te=0;te<Q&&t[k+te]==t[k+te-pe];++te);if(te>W){if(W=te,K=pe,te>R)break;for(var ne=Math.min(pe,te-2),de=0,J=0;J<ne;++J){var ge=k-pe+J&32767,we=L[ge],Ce=ge-we&32767;Ce>de&&(de=Ce,he=ge)}}}Y=he,he=L[Y],pe+=Y-he&32767}if(K){O[D++]=268435456|F0[W]<<18|iv[K];var Le=F0[W]&31,Oe=iv[K]&31;A+=ip[Le]+op[Oe],++H[257+Le],++G[Oe],S=k+W,++T}else O[D++]=t[k],++H[t[k]]}}for(k=Math.max(k,S);k<s;++k)O[D++]=t[k],++H[t[k]];d=sv(t,l,h,O,H,G,A,D,E,k-E,d),h||(o.r=d&7|l[d/8|0]<<3,d-=7,o.h=F,o.p=L,o.i=k,o.w=S)}else{for(var k=o.w||0;k<s+h;k+=65535){var Me=k+65535;Me>=s&&(l[d/8|0]=h,Me=s),d=A4(l,d+1,t.subarray(k,Me))}o.i=s}return b4(a,0,r+wm(d)+i)},E4=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},QN=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new yr(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return KN(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},x4=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},YN=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=E4();i.p(e.dictionary),x4(t,2,i.d())}},XN=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Bi(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Bi(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function j0(t,e){e||(e={});var n=E4();n.p(t);var r=QN(t,e,e.dictionary?6:2,4);return YN(r,e),x4(r,r.length-4,n.d()),r}function JN(t,e){return WN(t.subarray(XN(t,e),-4),{i:2},e,e)}var ZN=typeof TextDecoder<"u"&&new TextDecoder,eT=0;try{ZN.decode(S4,{stream:!0}),eT=1}catch{}var at=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function u1(){at.console&&typeof at.console.log=="function"&&at.console.log.apply(at.console,arguments)}var Gt={log:u1,warn:function(t){at.console&&(typeof at.console.warn=="function"?at.console.warn.apply(at.console,arguments):u1.call(null,arguments))},error:function(t){at.console&&(typeof at.console.error=="function"?at.console.error.apply(at.console,arguments):u1(t))}};function c1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Va(r.response,e,n)},r.onerror=function(){Gt.error("could not download file")},r.send()}function av(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function vf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Lc,V0,Va=at.saveAs||((typeof window>"u"?"undefined":zt(window))!=="object"||window!==at?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=at.URL||at.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?av(i.href)?c1(t,e,n):vf(i,i.target="_blank"):vf(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){vf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(av(t))c1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){vf(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:zt(o)!=="object"&&(Gt.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return c1(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(at.HTMLElement)||at.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":zt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(t)}else{var l=at.URL||at.webkitURL,h=l.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){l.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function P4(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),h.length==1&&(h="0"+h),"#"+a+l+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function h1(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=hr(n,r,i,o,e[0],7,-680876936),o=hr(o,n,r,i,e[1],12,-389564586),i=hr(i,o,n,r,e[2],17,606105819),r=hr(r,i,o,n,e[3],22,-1044525330),n=hr(n,r,i,o,e[4],7,-176418897),o=hr(o,n,r,i,e[5],12,1200080426),i=hr(i,o,n,r,e[6],17,-1473231341),r=hr(r,i,o,n,e[7],22,-45705983),n=hr(n,r,i,o,e[8],7,1770035416),o=hr(o,n,r,i,e[9],12,-1958414417),i=hr(i,o,n,r,e[10],17,-42063),r=hr(r,i,o,n,e[11],22,-1990404162),n=hr(n,r,i,o,e[12],7,1804603682),o=hr(o,n,r,i,e[13],12,-40341101),i=hr(i,o,n,r,e[14],17,-1502002290),n=fr(n,r=hr(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=fr(o,n,r,i,e[6],9,-1069501632),i=fr(i,o,n,r,e[11],14,643717713),r=fr(r,i,o,n,e[0],20,-373897302),n=fr(n,r,i,o,e[5],5,-701558691),o=fr(o,n,r,i,e[10],9,38016083),i=fr(i,o,n,r,e[15],14,-660478335),r=fr(r,i,o,n,e[4],20,-405537848),n=fr(n,r,i,o,e[9],5,568446438),o=fr(o,n,r,i,e[14],9,-1019803690),i=fr(i,o,n,r,e[3],14,-187363961),r=fr(r,i,o,n,e[8],20,1163531501),n=fr(n,r,i,o,e[13],5,-1444681467),o=fr(o,n,r,i,e[2],9,-51403784),i=fr(i,o,n,r,e[7],14,1735328473),n=dr(n,r=fr(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=dr(o,n,r,i,e[8],11,-2022574463),i=dr(i,o,n,r,e[11],16,1839030562),r=dr(r,i,o,n,e[14],23,-35309556),n=dr(n,r,i,o,e[1],4,-1530992060),o=dr(o,n,r,i,e[4],11,1272893353),i=dr(i,o,n,r,e[7],16,-155497632),r=dr(r,i,o,n,e[10],23,-1094730640),n=dr(n,r,i,o,e[13],4,681279174),o=dr(o,n,r,i,e[0],11,-358537222),i=dr(i,o,n,r,e[3],16,-722521979),r=dr(r,i,o,n,e[6],23,76029189),n=dr(n,r,i,o,e[9],4,-640364487),o=dr(o,n,r,i,e[12],11,-421815835),i=dr(i,o,n,r,e[15],16,530742520),n=pr(n,r=dr(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=pr(o,n,r,i,e[7],10,1126891415),i=pr(i,o,n,r,e[14],15,-1416354905),r=pr(r,i,o,n,e[5],21,-57434055),n=pr(n,r,i,o,e[12],6,1700485571),o=pr(o,n,r,i,e[3],10,-1894986606),i=pr(i,o,n,r,e[10],15,-1051523),r=pr(r,i,o,n,e[1],21,-2054922799),n=pr(n,r,i,o,e[8],6,1873313359),o=pr(o,n,r,i,e[15],10,-30611744),i=pr(i,o,n,r,e[6],15,-1560198380),r=pr(r,i,o,n,e[13],21,1309151649),n=pr(n,r,i,o,e[4],6,-145523070),o=pr(o,n,r,i,e[11],10,-1120210379),i=pr(i,o,n,r,e[2],15,718787259),r=pr(r,i,o,n,e[9],21,-343485551),t[0]=$s(n,t[0]),t[1]=$s(r,t[1]),t[2]=$s(i,t[2]),t[3]=$s(o,t[3])}function sp(t,e,n,r,i,o){return e=$s($s(e,t),$s(r,o)),$s(e<<i|e>>>32-i,n)}function hr(t,e,n,r,i,o,s){return sp(e&n|~e&r,t,e,i,o,s)}function fr(t,e,n,r,i,o,s){return sp(e&r|n&~r,t,e,i,o,s)}function dr(t,e,n,r,i,o,s){return sp(e^n^r,t,e,i,o,s)}function pr(t,e,n,r,i,o,s){return sp(n^(e|~r),t,e,i,o,s)}function N4(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)h1(r,tT(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(h1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,h1(r,i),r}function tT(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Lc=at.atob.bind(at),V0=at.btoa.bind(at);var lv="0123456789abcdef".split("");function nT(t){for(var e="",n=0;n<4;n++)e+=lv[t>>8*n+4&15]+lv[t>>8*n&15];return e}function rT(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function B0(t){return N4(t).map(rT).join("")}var iT=function(t){for(var e=0;e<t.length;e++)t[e]=nT(t[e]);return t.join("")}(N4("hello"))!="5d41402abc4b2a76b9719d911017c592";function $s(t,e){if(iT){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function z0(t,e){var n,r,i,o;if(t!==n){for(var s=(i=t,o=1+(256/t.length>>0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var h=0;for(l=0;l<256;l++){var d=a[l];h=(h+d+s.charCodeAt(l))%256,a[l]=a[h],a[h]=d}n=t,r=a}else a=r;var m=e.length,y=0,g=0,N="";for(l=0;l<m;l++)g=(g+(d=a[y=(y+1)%256]))%256,a[y]=a[g],a[g]=d,s=a[(a[y]+a[g])%256],N+=String.fromCharCode(e.charCodeAt(l)^s);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var uv={print:4,modify:8,copy:16,"annot-forms":32};function ql(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(uv.perm!==void 0)throw new Error("Invalid permission: "+a);i+=uv[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=B0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=z0(this.encryptionKey,this.padding)}function Hl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function cv(t){if(zt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){at.console&&Gt.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function uh(t){if(!(this instanceof uh))return new uh(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function T4(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function zs(t,e,n,r,i){if(!(this instanceof zs))return new zs(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,T4.call(this,r,i)}function Ha(t,e,n,r,i){if(!(this instanceof Ha))return new Ha(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,T4.call(this,r,i)}function it(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,h="S",d=null;zt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),h=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=cv;var N="1.3",L=g.__private__.getPdfVersion=function(){return N};g.__private__.setPdfVersion=function(p){N=p};var F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return F};var _=g.__private__.getPageFormat=function(p){return F[p]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},x=b.COMPAT;function O(){this.saveGraphicsState(),re(new $e(qe,0,0,-qe,0,ar()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),h="n",x=b.ADVANCED}function H(){this.restoreGraphicsState(),h="S",x=b.COMPAT}var G=g.__private__.combineFontStyleAndFontWeight=function(p,M){if(p=="bold"&&M=="normal"||p=="bold"&&M==400||p=="normal"&&M=="italic"||p=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(p=M==400||M==="normal"?p==="italic"?"italic":"normal":M!=700&&M!=="bold"||p!=="normal"?(M==700?"bold":M)+""+p:"bold"),p};g.advancedAPI=function(p){var M=x===b.COMPAT;return M&&O.call(this),typeof p!="function"||(p(this),M&&H.call(this)),this},g.compatAPI=function(p){var M=x===b.ADVANCED;return M&&H.call(this),typeof p!="function"||(p(this),M&&O.call(this)),this},g.isAdvancedAPI=function(){return x===b.ADVANCED};var T,A=function(p){if(x!==b.ADVANCED)throw new Error(p+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=g.roundToPrecision=g.__private__.roundToPrecision=function(p,M){var ee=e||M;if(isNaN(p)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return p.toFixed(ee).replace(/0+$/,"")};T=g.hpf=g.__private__.hpf=typeof l=="number"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return k(p,l)}:l==="smart"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return k(p,p>-1&&p<1?16:5)}:function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return k(p,16)};var D=g.f2=g.__private__.f2=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f2");return k(p,2)},S=g.__private__.f3=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f3");return k(p,3)},E=g.scale=g.__private__.scale=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.scale");return x===b.COMPAT?p*qe:x===b.ADVANCED?p:void 0},C=function(p){return x===b.COMPAT?ar()-p:x===b.ADVANCED?p:void 0},Y=function(p){return E(C(p))};g.__private__.setPrecision=g.setPrecision=function(p){typeof parseInt(p,10)=="number"&&(e=parseInt(p,10))};var he,Z="00000000000000000000000000000000",J=g.__private__.getFileId=function(){return Z},W=g.__private__.setFileId=function(p){return Z=p!==void 0&&/^[a-fA-F0-9]{32}$/.test(p)?p.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(tn=new ql(d.userPermissions,d.userPassword,d.ownerPassword,Z)),Z};g.setFileId=function(p){return W(p),this},g.getFileId=function(){return J()};var K=g.__private__.convertDateToPDFDate=function(p){var M=p.getTimezoneOffset(),ee=M<0?"+":"-",oe=Math.floor(Math.abs(M/60)),ce=Math.abs(M%60),be=[ee,Q(oe),"'",Q(ce),"'"].join("");return["D:",p.getFullYear(),Q(p.getMonth()+1),Q(p.getDate()),Q(p.getHours()),Q(p.getMinutes()),Q(p.getSeconds()),be].join("")},ie=g.__private__.convertPDFDateToDate=function(p){var M=parseInt(p.substr(2,4),10),ee=parseInt(p.substr(6,2),10)-1,oe=parseInt(p.substr(8,2),10),ce=parseInt(p.substr(10,2),10),be=parseInt(p.substr(12,2),10),Te=parseInt(p.substr(14,2),10);return new Date(M,ee,oe,ce,be,Te,0)},pe=g.__private__.setCreationDate=function(p){var M;if(p===void 0&&(p=new Date),p instanceof Date)M=K(p);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(p))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=p}return he=M},R=g.__private__.getCreationDate=function(p){var M=he;return p==="jsDate"&&(M=ie(he)),M};g.setCreationDate=function(p){return pe(p),this},g.getCreationDate=function(p){return R(p)};var q,Q=g.__private__.padd2=function(p){return("0"+parseInt(p)).slice(-2)},te=g.__private__.padd2Hex=function(p){return("00"+(p=p.toString())).substr(p.length)},ne=0,de=[],ge=[],we=0,Ce=[],Le=[],Oe=!1,Me=ge,tt=function(){ne=0,we=0,ge=[],de=[],Ce=[],xi=dn(),sr=dn()};g.__private__.setCustomOutputDestination=function(p){Oe=!0,Me=p};var Ae=function(p){Oe||(Me=p)};g.__private__.resetCustomOutputDestination=function(){Oe=!1,Me=ge};var re=g.__private__.out=function(p){return p=p.toString(),we+=p.length+1,Me.push(p),Me},ht=g.__private__.write=function(p){return re(arguments.length===1?p.toString():Array.prototype.join.call(arguments," "))},Ye=g.__private__.getArrayBuffer=function(p){for(var M=p.length,ee=new ArrayBuffer(M),oe=new Uint8Array(ee);M--;)oe[M]=p.charCodeAt(M);return ee},Re=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Re};var Fe=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(p){return Fe=x===b.ADVANCED?p/qe:p,this};var Ue,Be=g.__private__.getFontSize=g.getFontSize=function(){return x===b.COMPAT?Fe:Fe*qe},Je=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(p){return Je=p,this},g.__private__.getR2L=g.getR2L=function(){return Je};var lt,ft=g.__private__.setZoomMode=function(p){var M=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(p))Ue=p;else if(isNaN(p)){if(M.indexOf(p)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+p+'" is not recognized.');Ue=p}else Ue=parseInt(p,10)};g.__private__.getZoomMode=function(){return Ue};var Ze,st=g.__private__.setPageMode=function(p){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(p)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');lt=p};g.__private__.getPageMode=function(){return lt};var Tt=g.__private__.setLayoutMode=function(p){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(p)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+p+'" is not recognized.');Ze=p};g.__private__.getLayoutMode=function(){return Ze},g.__private__.setDisplayMode=g.setDisplayMode=function(p,M,ee){return ft(p),Tt(M),st(ee),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(p){if(Object.keys(ot).indexOf(p)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[p]},g.__private__.getDocumentProperties=function(){return ot},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(p){for(var M in ot)ot.hasOwnProperty(M)&&p[M]&&(ot[M]=p[M]);return this},g.__private__.setDocumentProperty=function(p,M){if(Object.keys(ot).indexOf(p)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[p]=M};var wt,qe,fn,xt,Lr,Dt={},Kt={},ai=[],Pt={},Yi={},Zt={},Wn={},Hr=null,Qt=0,nt=[],It=new cv(g),li=t.hotfixes||[],Nn={},ir={},$r=[],$e=function p(M,ee,oe,ce,be,Te){if(!(this instanceof p))return new p(M,ee,oe,ce,be,Te);isNaN(M)&&(M=1),isNaN(ee)&&(ee=0),isNaN(oe)&&(oe=0),isNaN(ce)&&(ce=1),isNaN(be)&&(be=0),isNaN(Te)&&(Te=0),this._matrix=[M,ee,oe,ce,be,Te]};Object.defineProperty($e.prototype,"sx",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty($e.prototype,"shy",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty($e.prototype,"shx",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty($e.prototype,"sy",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty($e.prototype,"tx",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty($e.prototype,"ty",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty($e.prototype,"a",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty($e.prototype,"b",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty($e.prototype,"c",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty($e.prototype,"d",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty($e.prototype,"e",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty($e.prototype,"f",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty($e.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($e.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($e.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($e.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$e.prototype.join=function(p){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(p)},$e.prototype.multiply=function(p){var M=p.sx*this.sx+p.shy*this.shx,ee=p.sx*this.shy+p.shy*this.sy,oe=p.shx*this.sx+p.sy*this.shx,ce=p.shx*this.shy+p.sy*this.sy,be=p.tx*this.sx+p.ty*this.shx+this.tx,Te=p.tx*this.shy+p.ty*this.sy+this.ty;return new $e(M,ee,oe,ce,be,Te)},$e.prototype.decompose=function(){var p=this.sx,M=this.shy,ee=this.shx,oe=this.sy,ce=this.tx,be=this.ty,Te=Math.sqrt(p*p+M*M),Ve=(p/=Te)*ee+(M/=Te)*oe;ee-=p*Ve,oe-=M*Ve;var c=Math.sqrt(ee*ee+oe*oe);return Ve/=c,p*(oe/=c)<M*(ee/=c)&&(p=-p,M=-M,Ve=-Ve,Te=-Te),{scale:new $e(Te,0,0,c,0,0),translate:new $e(1,0,0,1,ce,be),rotate:new $e(p,M,-M,p,0,0),skew:new $e(1,0,Ve,1,0,0)}},$e.prototype.toString=function(p){return this.join(" ")},$e.prototype.inversed=function(){var p=this.sx,M=this.shy,ee=this.shx,oe=this.sy,ce=this.tx,be=this.ty,Te=1/(p*oe-M*ee),Ve=oe*Te,c=-M*Te,w=-ee*Te,I=p*Te;return new $e(Ve,c,w,I,-Ve*ce-w*be,-c*ce-I*be)},$e.prototype.applyToPoint=function(p){var M=p.x*this.sx+p.y*this.shx+this.tx,ee=p.x*this.shy+p.y*this.sy+this.ty;return new Ro(M,ee)},$e.prototype.applyToRectangle=function(p){var M=this.applyToPoint(p),ee=this.applyToPoint(new Ro(p.x+p.w,p.y+p.h));return new ys(M.x,M.y,ee.x-M.x,ee.y-M.y)},$e.prototype.clone=function(){var p=this.sx,M=this.shy,ee=this.shx,oe=this.sy,ce=this.tx,be=this.ty;return new $e(p,M,ee,oe,ce,be)},g.Matrix=$e;var Cr=g.matrixMult=function(p,M){return M.multiply(p)},or=new $e(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=or;var Tn=function(p,M){if(!Yi[p]){var ee=(M instanceof zs?"Sh":"P")+(Object.keys(Pt).length+1).toString(10);M.id=ee,Yi[p]=ee,Pt[ee]=M,It.publish("addPattern",M)}};g.ShadingPattern=zs,g.TilingPattern=Ha,g.addShadingPattern=function(p,M){return A("addShadingPattern()"),Tn(p,M),this},g.beginTilingPattern=function(p){A("beginTilingPattern()"),ws(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix)},g.endTilingPattern=function(p,M){A("endTilingPattern()"),M.stream=Le[q].join(`
`),Tn(p,M),It.publish("endTilingPattern",M),$r.pop().restore()};var yn=g.__private__.newObject=function(){var p=dn();return In(p,!0),p},dn=g.__private__.newObjectDeferred=function(){return ne++,de[ne]=function(){return we},ne},In=function(p,M){return M=typeof M=="boolean"&&M,de[p]=we,M&&re(p+" 0 obj"),p},is=g.__private__.newAdditionalObject=function(){var p={objId:dn(),content:""};return Ce.push(p),p},xi=dn(),sr=dn(),kr=g.__private__.decodeColorString=function(p){var M=p.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length===5&&(M[4]==="k"||M[4]==="K")&&(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var ee=parseFloat(M[0]);M=[ee,ee,ee,"r"]}for(var oe="#",ce=0;ce<3;ce++)oe+=("0"+Math.floor(255*parseFloat(M[ce])).toString(16)).slice(-2);return oe},_r=g.__private__.encodeColorString=function(p){var M;typeof p=="string"&&(p={ch1:p});var ee=p.ch1,oe=p.ch2,ce=p.ch3,be=p.ch4,Te=p.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var Ve=new P4(ee);if(Ve.ok)ee=Ve.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var c=parseInt(ee.substr(1),16);ee=c>>16&255,oe=c>>8&255,ce=255&c}if(oe===void 0||be===void 0&&ee===oe&&oe===ce)if(typeof ee=="string")M=ee+" "+Te[0];else switch(p.precision){case 2:M=D(ee/255)+" "+Te[0];break;case 3:default:M=S(ee/255)+" "+Te[0]}else if(be===void 0||zt(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return M=["1.","1.","1.",Te[1]].join(" ");if(typeof ee=="string")M=[ee,oe,ce,Te[1]].join(" ");else switch(p.precision){case 2:M=[D(ee/255),D(oe/255),D(ce/255),Te[1]].join(" ");break;default:case 3:M=[S(ee/255),S(oe/255),S(ce/255),Te[1]].join(" ")}}else if(typeof ee=="string")M=[ee,oe,ce,be,Te[2]].join(" ");else switch(p.precision){case 2:M=[D(ee),D(oe),D(ce),D(be),Te[2]].join(" ");break;case 3:default:M=[S(ee),S(oe),S(ce),S(be),Te[2]].join(" ")}return M},br=g.__private__.getFilters=function(){return s},wn=g.__private__.putStream=function(p){var M=(p=p||{}).data||"",ee=p.filters||br(),oe=p.alreadyAppliedFilters||[],ce=p.addLength1||!1,be=M.length,Te=p.objectId,Ve=function(dt){return dt};if(d!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ve=tn.encryptor(Te,0));var c={};ee===!0&&(ee=["FlateEncode"]);var w=p.additionalKeyValues||[],I=(c=it.API.processDataByFilters!==void 0?it.API.processDataByFilters(M,ee):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(c.data.length!==0&&(w.push({key:"Length",value:c.data.length}),ce===!0&&w.push({key:"Length1",value:be})),I.length!=0)if(I.split("/").length-1==1)w.push({key:"Filter",value:I});else{w.push({key:"Filter",value:"["+I+"]"});for(var z=0;z<w.length;z+=1)if(w[z].key==="DecodeParms"){for(var ue=[],ye=0;ye<c.reverseChain.split("/").length-1;ye+=1)ue.push("null");ue.push(w[z].value),w[z].value="["+ue.join(" ")+"]"}}re("<<");for(var Ie=0;Ie<w.length;Ie++)re("/"+w[Ie].key+" "+w[Ie].value);re(">>"),c.data.length!==0&&(re("stream"),re(Ve(c.data)),re("endstream"))},Wr=g.__private__.putPage=function(p){var M=p.number,ee=p.data,oe=p.objId,ce=p.contentsObjId;In(oe,!0),re("<</Type /Page"),re("/Parent "+p.rootDictionaryObjId+" 0 R"),re("/Resources "+p.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(T(p.mediaBox.bottomLeftX))+" "+parseFloat(T(p.mediaBox.bottomLeftY))+" "+T(p.mediaBox.topRightX)+" "+T(p.mediaBox.topRightY)+"]"),p.cropBox!==null&&re("/CropBox ["+T(p.cropBox.bottomLeftX)+" "+T(p.cropBox.bottomLeftY)+" "+T(p.cropBox.topRightX)+" "+T(p.cropBox.topRightY)+"]"),p.bleedBox!==null&&re("/BleedBox ["+T(p.bleedBox.bottomLeftX)+" "+T(p.bleedBox.bottomLeftY)+" "+T(p.bleedBox.topRightX)+" "+T(p.bleedBox.topRightY)+"]"),p.trimBox!==null&&re("/TrimBox ["+T(p.trimBox.bottomLeftX)+" "+T(p.trimBox.bottomLeftY)+" "+T(p.trimBox.topRightX)+" "+T(p.trimBox.topRightY)+"]"),p.artBox!==null&&re("/ArtBox ["+T(p.artBox.bottomLeftX)+" "+T(p.artBox.bottomLeftY)+" "+T(p.artBox.topRightX)+" "+T(p.artBox.topRightY)+"]"),typeof p.userUnit=="number"&&p.userUnit!==1&&re("/UserUnit "+p.userUnit),It.publish("putPage",{objId:oe,pageContext:nt[M],pageNumber:M,page:ee}),re("/Contents "+ce+" 0 R"),re(">>"),re("endobj");var be=ee.join(`
`);return x===b.ADVANCED&&(be+=`
Q`),In(ce,!0),wn({data:be,filters:br(),objectId:ce}),re("endobj"),oe},Xi=g.__private__.putPages=function(){var p,M,ee=[];for(p=1;p<=Qt;p++)nt[p].objId=dn(),nt[p].contentsObjId=dn();for(p=1;p<=Qt;p++)ee.push(Wr({number:p,data:Le[p],objId:nt[p].objId,contentsObjId:nt[p].contentsObjId,mediaBox:nt[p].mediaBox,cropBox:nt[p].cropBox,bleedBox:nt[p].bleedBox,trimBox:nt[p].trimBox,artBox:nt[p].artBox,userUnit:nt[p].userUnit,rootDictionaryObjId:xi,resourceDictionaryObjId:sr}));In(xi,!0),re("<</Type /Pages");var oe="/Kids [";for(M=0;M<Qt;M++)oe+=ee[M]+" 0 R ";re(oe+"]"),re("/Count "+Qt),re(">>"),re("endobj"),It.publish("postPutPages")},Ji=function(p){It.publish("putFont",{font:p,out:re,newObject:yn,putStream:wn}),p.isAlreadyPutted!==!0&&(p.objectNumber=yn(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Hl(p.postScriptName)),re("/Subtype /Type1"),typeof p.encoding=="string"&&re("/Encoding /"+p.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Zi=function(){for(var p in Dt)Dt.hasOwnProperty(p)&&(m===!1||m===!0&&y.hasOwnProperty(p))&&Ji(Dt[p])},Eo=function(p){p.objectNumber=yn();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[T(p.x),T(p.y),T(p.x+p.width),T(p.y+p.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});var ee=p.pages[1].join(`
`);wn({data:ee,additionalKeyValues:M,objectId:p.objectNumber}),re("endobj")},xo=function(){for(var p in Nn)Nn.hasOwnProperty(p)&&Eo(Nn[p])},dl=function(p,M){var ee,oe=[],ce=1/(M-1);for(ee=0;ee<1;ee+=ce)oe.push(ee);if(oe.push(1),p[0].offset!=0){var be={offset:0,color:p[0].color};p.unshift(be)}if(p[p.length-1].offset!=1){var Te={offset:1,color:p[p.length-1].color};p.push(Te)}for(var Ve="",c=0,w=0;w<oe.length;w++){for(ee=oe[w];ee>p[c+1].offset;)c++;var I=p[c].offset,z=(ee-I)/(p[c+1].offset-I),ue=p[c].color,ye=p[c+1].color;Ve+=te(Math.round((1-z)*ue[0]+z*ye[0]).toString(16))+te(Math.round((1-z)*ue[1]+z*ye[1]).toString(16))+te(Math.round((1-z)*ue[2]+z*ye[2]).toString(16))}return Ve.trim()},os=function(p,M){M||(M=21);var ee=yn(),oe=dl(p.colors,M),ce=[];ce.push({key:"FunctionType",value:"0"}),ce.push({key:"Domain",value:"[0.0 1.0]"}),ce.push({key:"Size",value:"["+M+"]"}),ce.push({key:"BitsPerSample",value:"8"}),ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wn({data:oe,additionalKeyValues:ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),re("endobj"),p.objectNumber=yn(),re("<< /ShadingType "+p.type),re("/ColorSpace /DeviceRGB");var be="/Coords ["+T(parseFloat(p.coords[0]))+" "+T(parseFloat(p.coords[1]))+" ";p.type===2?be+=T(parseFloat(p.coords[2]))+" "+T(parseFloat(p.coords[3])):be+=T(parseFloat(p.coords[2]))+" "+T(parseFloat(p.coords[3]))+" "+T(parseFloat(p.coords[4]))+" "+T(parseFloat(p.coords[5])),re(be+="]"),p.matrix&&re("/Matrix ["+p.matrix.toString()+"]"),re("/Function "+ee+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},pl=function(p,M){var ee=dn(),oe=yn();M.push({resourcesOid:ee,objectOid:oe}),p.objectNumber=oe;var ce=[];ce.push({key:"Type",value:"/Pattern"}),ce.push({key:"PatternType",value:"1"}),ce.push({key:"PaintType",value:"1"}),ce.push({key:"TilingType",value:"1"}),ce.push({key:"BBox",value:"["+p.boundingBox.map(T).join(" ")+"]"}),ce.push({key:"XStep",value:T(p.xStep)}),ce.push({key:"YStep",value:T(p.yStep)}),ce.push({key:"Resources",value:ee+" 0 R"}),p.matrix&&ce.push({key:"Matrix",value:"["+p.matrix.toString()+"]"}),wn({data:p.stream,additionalKeyValues:ce,objectId:p.objectNumber}),re("endobj")},eo=function(p){var M;for(M in Pt)Pt.hasOwnProperty(M)&&(Pt[M]instanceof zs?os(Pt[M]):Pt[M]instanceof Ha&&pl(Pt[M],p))},to=function(p){for(var M in p.objectNumber=yn(),re("<<"),p)switch(M){case"opacity":re("/ca "+D(p[M]));break;case"stroke-opacity":re("/CA "+D(p[M]))}re(">>"),re("endobj")},Pi=function(){var p;for(p in Zt)Zt.hasOwnProperty(p)&&to(Zt[p])},Po=function(){for(var p in re("/XObject <<"),Nn)Nn.hasOwnProperty(p)&&Nn[p].objectNumber>=0&&re("/"+p+" "+Nn[p].objectNumber+" 0 R");It.publish("putXobjectDict"),re(">>")},Fu=function(){tn.oid=yn(),re("<<"),re("/Filter /Standard"),re("/V "+tn.v),re("/R "+tn.r),re("/U <"+tn.toHexString(tn.U)+">"),re("/O <"+tn.toHexString(tn.O)+">"),re("/P "+tn.P),re(">>"),re("endobj")},ma=function(){for(var p in re("/Font <<"),Dt)Dt.hasOwnProperty(p)&&(m===!1||m===!0&&y.hasOwnProperty(p))&&re("/"+p+" "+Dt[p].objectNumber+" 0 R");re(">>")},gl=function(){if(Object.keys(Pt).length>0){for(var p in re("/Shading <<"),Pt)Pt.hasOwnProperty(p)&&Pt[p]instanceof zs&&Pt[p].objectNumber>=0&&re("/"+p+" "+Pt[p].objectNumber+" 0 R");It.publish("putShadingPatternDict"),re(">>")}},No=function(p){if(Object.keys(Pt).length>0){for(var M in re("/Pattern <<"),Pt)Pt.hasOwnProperty(M)&&Pt[M]instanceof g.TilingPattern&&Pt[M].objectNumber>=0&&Pt[M].objectNumber<p&&re("/"+M+" "+Pt[M].objectNumber+" 0 R");It.publish("putTilingPatternDict"),re(">>")}},va=function(){if(Object.keys(Zt).length>0){var p;for(p in re("/ExtGState <<"),Zt)Zt.hasOwnProperty(p)&&Zt[p].objectNumber>=0&&re("/"+p+" "+Zt[p].objectNumber+" 0 R");It.publish("putGStateDict"),re(">>")}},en=function(p){In(p.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ma(),gl(),No(p.objectOid),va(),Po(),re(">>"),re("endobj")},ya=function(){var p=[];Zi(),Pi(),xo(),eo(p),It.publish("putResources"),p.forEach(en),en({resourcesOid:sr,objectOid:Number.MAX_SAFE_INTEGER}),It.publish("postPutResources")},wa=function(){It.publish("putAdditionalObjects");for(var p=0;p<Ce.length;p++){var M=Ce[p];In(M.objId,!0),re(M.content),re("endobj")}It.publish("postPutAdditionalObjects")},ml=function(p){Kt[p.fontName]=Kt[p.fontName]||{},Kt[p.fontName][p.fontStyle]=p.id},_a=function(p,M,ee,oe,ce){var be={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:p,fontName:M,fontStyle:ee,encoding:oe,isStandardFont:ce||!1,metadata:{}};return It.publish("addFont",{font:be,instance:this}),Dt[be.id]=be,ml(be),be.id},vl=function(p){for(var M=0,ee=Re.length;M<ee;M++){var oe=_a.call(this,p[M][0],p[M][1],p[M][2],Re[M][3],!0);m===!1&&(y[oe]=!0);var ce=p[M][0].split("-");ml({id:oe,fontName:ce[0],fontStyle:ce[1]||""})}It.publish("addFonts",{fonts:Dt,dictionary:Kt})},Rr=function(p){return p.foo=function(){try{return p.apply(this,arguments)}catch(oe){var M=oe.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var ee="Error in function "+M.split(`
`)[0].split("<")[0]+": "+oe.message;if(!at.console)throw new Error(ee);at.console.error(ee,oe),at.alert&&alert(ee)}},p.foo.bar=p,p.foo},ss=function(p,M){var ee,oe,ce,be,Te,Ve,c,w,I;if(ce=(M=M||{}).sourceEncoding||"Unicode",Te=M.outputEncoding,(M.autoencode||Te)&&Dt[wt].metadata&&Dt[wt].metadata[ce]&&Dt[wt].metadata[ce].encoding&&(be=Dt[wt].metadata[ce].encoding,!Te&&Dt[wt].encoding&&(Te=Dt[wt].encoding),!Te&&be.codePages&&(Te=be.codePages[0]),typeof Te=="string"&&(Te=be[Te]),Te)){for(c=!1,Ve=[],ee=0,oe=p.length;ee<oe;ee++)(w=Te[p.charCodeAt(ee)])?Ve.push(String.fromCharCode(w)):Ve.push(p[ee]),Ve[ee].charCodeAt(0)>>8&&(c=!0);p=Ve.join("")}for(ee=p.length;c===void 0&&ee!==0;)p.charCodeAt(ee-1)>>8&&(c=!0),ee--;if(!c)return p;for(Ve=M.noBOM?[]:[254,255],ee=0,oe=p.length;ee<oe;ee++){if((I=(w=p.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+p+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ve.push(I),Ve.push(w-(I<<8))}return String.fromCharCode.apply(void 0,Ve)},pn=g.__private__.pdfEscape=g.pdfEscape=function(p,M){return ss(p,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ar=g.__private__.beginPage=function(p){Le[++Qt]=[],nt[Qt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(p[0]),topRightY:Number(p[1])}},ba(Qt),Ae(Le[q])},To=function(p,M){var ee,oe,ce;switch(n=M||n,typeof p=="string"&&(ee=_(p.toLowerCase()),Array.isArray(ee)&&(oe=ee[0],ce=ee[1])),Array.isArray(p)&&(oe=p[0]*qe,ce=p[1]*qe),isNaN(oe)&&(oe=i[0],ce=i[1]),(oe>14400||ce>14400)&&(Gt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),ce=Math.min(14400,ce)),i=[oe,ce],n.substr(0,1)){case"l":ce>oe&&(i=[ce,oe]);break;case"p":oe>ce&&(i=[ce,oe])}Ar(i),Pa(xa),re(Gn),Ia!==0&&re(Ia+" J"),vs!==0&&re(vs+" j"),It.publish("addPage",{pageNumber:Qt})},as=function(p){p>0&&p<=Qt&&(Le.splice(p,1),nt.splice(p,1),Qt--,q>Qt&&(q=Qt),this.setPage(q))},ba=function(p){p>0&&p<=Qt&&(q=p)},jt=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Le.length-1},Io=function(p,M,ee){var oe,ce=void 0;return ee=ee||{},p=p!==void 0?p:Dt[wt].fontName,M=M!==void 0?M:Dt[wt].fontStyle,oe=p.toLowerCase(),Kt[oe]!==void 0&&Kt[oe][M]!==void 0?ce=Kt[oe][M]:Kt[p]!==void 0&&Kt[p][M]!==void 0?ce=Kt[p][M]:ee.disableWarning===!1&&Gt.warn("Unable to look up font label for font '"+p+"', '"+M+"'. Refer to getFontList() for available fonts."),ce||ee.noFallback||(ce=Kt.times[M])==null&&(ce=Kt.times.normal),ce},Lo=g.__private__.putInfo=function(){var p=yn(),M=function(oe){return oe};for(var ee in d!==null&&(M=tn.encryptor(p,0)),re("<<"),re("/Producer ("+pn(M("jsPDF "+it.version))+")"),ot)ot.hasOwnProperty(ee)&&ot[ee]&&re("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+pn(M(ot[ee]))+")");re("/CreationDate ("+pn(M(he))+")"),re(">>"),re("endobj")},Ni=g.__private__.putCatalog=function(p){var M=(p=p||{}).rootDictionaryObjId||xi;switch(yn(),re("<<"),re("/Type /Catalog"),re("/Pages "+M+" 0 R"),Ue||(Ue="fullwidth"),Ue){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+Ue;ee.substr(ee.length-1)==="%"&&(Ue=parseInt(Ue)/100),typeof Ue=="number"&&re("/OpenAction [3 0 R /XYZ null null "+D(Ue)+"]")}switch(Ze||(Ze="continuous"),Ze){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}lt&&re("/PageMode /"+lt),It.publish("putCatalog"),re(">>"),re("endobj")},Ou=g.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(ne+1)),re("/Root "+ne+" 0 R"),re("/Info "+(ne-1)+" 0 R"),d!==null&&re("/Encrypt "+tn.oid+" 0 R"),re("/ID [ <"+Z+"> <"+Z+"> ]"),re(">>")},yl=g.__private__.putHeader=function(){re("%PDF-"+N),re("%ºß¬à")},Mu=g.__private__.putXRef=function(){var p="0000000000";re("xref"),re("0 "+(ne+1)),re("0000000000 65535 f ");for(var M=1;M<=ne;M++)typeof de[M]=="function"?re((p+de[M]()).slice(-10)+" 00000 n "):de[M]!==void 0?re((p+de[M]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Ti=g.__private__.buildDocument=function(){tt(),Ae(ge),It.publish("buildDocument"),yl(),Xi(),wa(),ya(),d!==null&&Fu(),Lo(),Ni();var p=we;return Mu(),Ou(),re("startxref"),re(""+p),re("%%EOF"),Ae(Le[q]),ge.join(`
`)},ls=g.__private__.getBlob=function(p){return new Blob([Ye(p)],{type:"application/pdf"})},us=g.output=g.__private__.output=Rr(function(p,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",p){case void 0:return Ti();case"save":g.save(M.filename);break;case"arraybuffer":return Ye(Ti());case"blob":return ls(Ti());case"bloburi":case"bloburl":if(at.URL!==void 0&&typeof at.URL.createObjectURL=="function")return at.URL&&at.URL.createObjectURL(ls(Ti()))||void 0;Gt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",oe=Ti();try{ee=V0(oe)}catch{ee=V0(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+M.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(ce=M.pdfObjectUrl,be="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ce+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",Ve=at.open();return Ve!==null&&Ve.document.write(Te),Ve}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var c='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',w=at.open();if(w!==null){w.document.write(c);var I=this;w.document.documentElement.querySelector("#pdfViewer").onload=function(){w.document.title=M.filename,w.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(I.output("bloburl"))}}return w}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(at)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var z='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',ue=at.open();if(ue!==null&&(ue.document.write(z),ue.document.title=M.filename),ue||typeof safari>"u")return ue;break;case"datauri":case"dataurl":return at.document.location.href=this.output("datauristring",M);default:return null}}),no=function(p){return Array.isArray(li)===!0&&li.indexOf(p)>-1};switch(r){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=no("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);qe=r}var tn=null;pe(),W();var wl=function(p){return d!==null?tn.encryptor(p,0):function(M){return M}},Aa=g.__private__.getPageInfo=g.getPageInfo=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[p].objId,pageNumber:p,pageContext:nt[p]}},ut=g.__private__.getPageInfoByObjId=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in nt)if(nt[M].objId===p)break;return Aa(M)},ro=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:nt[q].objId,pageNumber:q,pageContext:nt[q]}};g.addPage=function(){return To.apply(this,arguments),this},g.setPage=function(){return ba.apply(this,arguments),Ae.call(this,Le[q]),this},g.insertPage=function(p){return this.addPage(),this.movePage(q,p),this},g.movePage=function(p,M){var ee,oe;if(p>M){ee=Le[p],oe=nt[p];for(var ce=p;ce>M;ce--)Le[ce]=Le[ce-1],nt[ce]=nt[ce-1];Le[M]=ee,nt[M]=oe,this.setPage(M)}else if(p<M){ee=Le[p],oe=nt[p];for(var be=p;be<M;be++)Le[be]=Le[be+1],nt[be]=nt[be+1];Le[M]=ee,nt[M]=oe,this.setPage(M)}return this},g.deletePage=function(){return as.apply(this,arguments),this},g.__private__.text=g.text=function(p,M,ee,oe,ce){var be,Te,Ve,c,w,I,z,ue,ye,Ie=(oe=oe||{}).scope||this;if(typeof p=="number"&&typeof M=="number"&&(typeof ee=="string"||Array.isArray(ee))){var dt=ee;ee=M,M=p,p=dt}if(arguments[3]instanceof $e?(A("The transform parameter of text() with a Matrix value"),ye=ce):(Ve=arguments[4],c=arguments[5],zt(z=arguments[3])==="object"&&z!==null||(typeof Ve=="string"&&(c=Ve,Ve=null),typeof z=="string"&&(c=z,z=null),typeof z=="number"&&(Ve=z,z=null),oe={flags:z,angle:Ve,align:c})),isNaN(M)||isNaN(ee)||p==null)throw new Error("Invalid arguments passed to jsPDF.text");if(p.length===0)return Ie;var bt="",pt=!1,Mt=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:Ot,$t=Ie.internal.scaleFactor;function Ri(Yt){return Yt=Yt.split("	").join(Array(oe.TabLen||9).join(" ")),pn(Yt,z)}function Kn(Yt){for(var Xt,bn=Yt.concat(),On=[],jo=bn.length;jo--;)typeof(Xt=bn.shift())=="string"?On.push(Xt):Array.isArray(Yt)&&(Xt.length===1||Xt[1]===void 0&&Xt[2]===void 0)?On.push(Xt[0]):On.push([Xt[0],Xt[1],Xt[2]]);return On}function ao(Yt,Xt){var bn;if(typeof Yt=="string")bn=Xt(Yt)[0];else if(Array.isArray(Yt)){for(var On,jo,Wu=Yt.concat(),kl=[],Ph=Wu.length;Ph--;)typeof(On=Wu.shift())=="string"?kl.push(Xt(On)[0]):Array.isArray(On)&&typeof On[0]=="string"&&(jo=Xt(On[0],On[1],On[2]),kl.push([jo[0],jo[1],jo[2]]));bn=kl}return bn}var lo=!1,Vu=!0;if(typeof p=="string")lo=!0;else if(Array.isArray(p)){var Bu=p.concat();Te=[];for(var El,Qn=Bu.length;Qn--;)(typeof(El=Bu.shift())!="string"||Array.isArray(El)&&typeof El[0]!="string")&&(Vu=!1);lo=Vu}if(lo===!1)throw new Error('Type of text must be string or Array. "'+p+'" is not recognized.');typeof p=="string"&&(p=p.match(/[\r?\n]/)?p.split(/\r\n|\r|\n/g):[p]);var xl=Fe/Ie.internal.scaleFactor,Pl=xl*(Mt-1);switch(oe.baseline){case"bottom":ee-=Pl;break;case"top":ee+=xl-Pl;break;case"hanging":ee+=xl-2*Pl;break;case"middle":ee+=xl/2-Pl}if((I=oe.maxWidth||0)>0&&(typeof p=="string"?p=Ie.splitTextToSize(p,I):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(Yt,Xt){return Yt.concat(Ie.splitTextToSize(Xt,I))},[]))),be={text:p,x:M,y:ee,options:oe,mutex:{pdfEscape:pn,activeFontKey:wt,fonts:Dt,activeFontSize:Fe}},It.publish("preProcessText",be),p=be.text,Ve=(oe=be.options).angle,!(ye instanceof $e)&&Ve&&typeof Ve=="number"){Ve*=Math.PI/180,oe.rotationDirection===0&&(Ve=-Ve),x===b.ADVANCED&&(Ve=-Ve);var Nl=Math.cos(Ve),zu=Math.sin(Ve);ye=new $e(Nl,zu,-zu,Nl,0,0)}else Ve&&Ve instanceof $e&&(ye=Ve);x!==b.ADVANCED||ye||(ye=or),(w=oe.charSpace||ko)!==void 0&&(bt+=T(E(w))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ue=oe.horizontalScale)!==void 0&&(bt+=T(100*ue)+` Tz
`),oe.lang;var Dr=-1,ap=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,Uu=Ie.internal.getCurrentPageInfo().pageContext;switch(ap){case 0:case!1:case"fill":Dr=0;break;case 1:case!0:case"stroke":Dr=1;break;case 2:case"fillThenStroke":Dr=2;break;case 3:case"invisible":Dr=3;break;case 4:case"fillAndAddForClipping":Dr=4;break;case 5:case"strokeAndAddPathForClipping":Dr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Dr=6;break;case 7:case"addToPathForClipping":Dr=7}var Ah=Uu.usedRenderingMode!==void 0?Uu.usedRenderingMode:-1;Dr!==-1?bt+=Dr+` Tr
`:Ah!==-1&&(bt+=`0 Tr
`),Dr!==-1&&(Uu.usedRenderingMode=Dr),c=oe.align||"left";var ci,Tl=Fe*Mt,Sh=Ie.internal.pageSize.getWidth(),Eh=Dt[wt];w=oe.charSpace||ko,I=oe.maxWidth||0,z=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var As=[],La=function(Yt){return Ie.getStringUnitWidth(Yt,{font:Eh,charSpace:w,fontSize:Fe,doKerning:!1})*Fe/$t};if(Object.prototype.toString.call(p)==="[object Array]"){var Fr;Te=Kn(p),c!=="left"&&(ci=Te.map(La));var Sr,Ss=0;if(c==="right"){M-=ci[0],p=[],Qn=Te.length;for(var Fo=0;Fo<Qn;Fo++)Fo===0?(Sr=Qr(M),Fr=Fn(ee)):(Sr=E(Ss-ci[Fo]),Fr=-Tl),p.push([Te[Fo],Sr,Fr]),Ss=ci[Fo]}else if(c==="center"){M-=ci[0]/2,p=[],Qn=Te.length;for(var Oo=0;Oo<Qn;Oo++)Oo===0?(Sr=Qr(M),Fr=Fn(ee)):(Sr=E((Ss-ci[Oo])/2),Fr=-Tl),p.push([Te[Oo],Sr,Fr]),Ss=ci[Oo]}else if(c==="left"){p=[],Qn=Te.length;for(var Il=0;Il<Qn;Il++)p.push(Te[Il])}else if(c==="justify"&&Eh.encoding==="Identity-H"){p=[],Qn=Te.length,I=I!==0?I:Sh;for(var Mo=0,_n=0;_n<Qn;_n++)if(Fr=_n===0?Fn(ee):-Tl,Sr=_n===0?Qr(M):Mo,_n<Qn-1){var qu=E((I-ci[_n])/(Te[_n].split(" ").length-1)),Er=Te[_n].split(" ");p.push([Er[0]+" ",Sr,Fr]),Mo=0;for(var hi=1;hi<Er.length;hi++){var Ll=(La(Er[hi-1]+" "+Er[hi])-La(Er[hi]))*$t+qu;hi==Er.length-1?p.push([Er[hi],Ll,0]):p.push([Er[hi]+" ",Ll,0]),Mo-=Ll}}else p.push([Te[_n],Sr,Fr]);p.push(["",Mo,0])}else{if(c!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(p=[],Qn=Te.length,I=I!==0?I:Sh,_n=0;_n<Qn;_n++)Fr=_n===0?Fn(ee):-Tl,Sr=_n===0?Qr(M):0,_n<Qn-1?As.push(T(E((I-ci[_n])/(Te[_n].split(" ").length-1)))):As.push(0),p.push([Te[_n],Sr,Fr])}}var xh=typeof oe.R2L=="boolean"?oe.R2L:Je;xh===!0&&(p=ao(p,function(Yt,Xt,bn){return[Yt.split("").reverse().join(""),Xt,bn]})),be={text:p,x:M,y:ee,options:oe,mutex:{pdfEscape:pn,activeFontKey:wt,fonts:Dt,activeFontSize:Fe}},It.publish("postProcessText",be),p=be.text,pt=be.mutex.isHex||!1;var Hu=Dt[wt].encoding;Hu!=="WinAnsiEncoding"&&Hu!=="StandardEncoding"||(p=ao(p,function(Yt,Xt,bn){return[Ri(Yt),Xt,bn]})),Te=Kn(p),p=[];for(var Ca,ka,Es,Ra=0,Cl=1,Da=Array.isArray(Te[0])?Cl:Ra,xs="",$u=function(Yt,Xt,bn){var On="";return bn instanceof $e?(bn=typeof oe.angle=="number"?Cr(bn,new $e(1,0,0,1,Yt,Xt)):Cr(new $e(1,0,0,1,Yt,Xt),bn),x===b.ADVANCED&&(bn=Cr(new $e(1,0,0,-1,0,0),bn)),On=bn.join(" ")+` Tm
`):On=T(Yt)+" "+T(Xt)+` Td
`,On},fi=0;fi<Te.length;fi++){switch(xs="",Da){case Cl:Es=(pt?"<":"(")+Te[fi][0]+(pt?">":")"),Ca=parseFloat(Te[fi][1]),ka=parseFloat(Te[fi][2]);break;case Ra:Es=(pt?"<":"(")+Te[fi]+(pt?">":")"),Ca=Qr(M),ka=Fn(ee)}As!==void 0&&As[fi]!==void 0&&(xs=As[fi]+` Tw
`),fi===0?p.push(xs+$u(Ca,ka,ye)+Es):Da===Ra?p.push(xs+Es):Da===Cl&&p.push(xs+$u(Ca,ka,ye)+Es)}p=Da===Ra?p.join(` Tj
T* `):p.join(` Tj
`),p+=` Tj
`;var di=`BT
/`;return di+=wt+" "+Fe+` Tf
`,di+=T(Fe*Mt)+` TL
`,di+=Ci+`
`,di+=bt,di+=p,re(di+="ET"),y[wt]=!0,Ie};var ju=g.__private__.clip=g.clip=function(p){return re(p==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return ju("evenodd")},g.__private__.discardPath=g.discardPath=function(){return re("n"),this};var ui=g.__private__.isValidStyle=function(p){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(p)!==-1&&(M=!0),M};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(p){return ui(p)&&(h=p),this};var _l=g.__private__.getStyle=g.getStyle=function(p){var M=h;switch(p){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=p}return M},Gr=g.close=function(){return re("h"),this};g.stroke=function(){return re("S"),this},g.fill=function(p){return cs("f",p),this},g.fillEvenOdd=function(p){return cs("f*",p),this},g.fillStroke=function(p){return cs("B",p),this},g.fillStrokeEvenOdd=function(p){return cs("B*",p),this};var cs=function(p,M){zt(M)==="object"?fs(M,p):re(p)},Sa=function(p){p===null||x===b.ADVANCED&&p===void 0||(p=_l(p),re(p))};function hs(p,M,ee,oe,ce){var be=new Ha(M||this.boundingBox,ee||this.xStep,oe||this.yStep,this.gState,ce||this.matrix);be.stream=this.stream;var Te=p+"$$"+this.cloneIndex+++"$$";return Tn(Te,be),be}var fs=function(p,M){var ee=Yi[p.key],oe=Pt[ee];if(oe instanceof zs)re("q"),re(bl(M)),oe.gState&&g.setGState(oe.gState),re(p.matrix.toString()+" cm"),re("/"+ee+" sh"),re("Q");else if(oe instanceof Ha){var ce=new $e(1,0,0,-1,0,ar());p.matrix&&(ce=ce.multiply(p.matrix||or),ee=hs.call(oe,p.key,p.boundingBox,p.xStep,p.yStep,ce).id),re("q"),re("/Pattern cs"),re("/"+ee+" scn"),oe.gState&&g.setGState(oe.gState),re(M),re("Q")}},bl=function(p){switch(p){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ii=g.moveTo=function(p,M){return re(T(E(p))+" "+T(Y(M))+" m"),this},Kr=g.lineTo=function(p,M){return re(T(E(p))+" "+T(Y(M))+" l"),this},Li=g.curveTo=function(p,M,ee,oe,ce,be){return re([T(E(p)),T(Y(M)),T(E(ee)),T(Y(oe)),T(E(ce)),T(Y(be)),"c"].join(" ")),this};g.__private__.line=g.line=function(p,M,ee,oe,ce){if(isNaN(p)||isNaN(M)||isNaN(ee)||isNaN(oe)||!ui(ce))throw new Error("Invalid arguments passed to jsPDF.line");return x===b.COMPAT?this.lines([[ee-p,oe-M]],p,M,[1,1],ce||"S"):this.lines([[ee-p,oe-M]],p,M,[1,1]).stroke()},g.__private__.lines=g.lines=function(p,M,ee,oe,ce,be){var Te,Ve,c,w,I,z,ue,ye,Ie,dt,bt,pt;if(typeof p=="number"&&(pt=ee,ee=M,M=p,p=pt),oe=oe||[1,1],be=be||!1,isNaN(M)||isNaN(ee)||!Array.isArray(p)||!Array.isArray(oe)||!ui(ce)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ii(M,ee),Te=oe[0],Ve=oe[1],w=p.length,dt=M,bt=ee,c=0;c<w;c++)(I=p[c]).length===2?(dt=I[0]*Te+dt,bt=I[1]*Ve+bt,Kr(dt,bt)):(z=I[0]*Te+dt,ue=I[1]*Ve+bt,ye=I[2]*Te+dt,Ie=I[3]*Ve+bt,dt=I[4]*Te+dt,bt=I[5]*Ve+bt,Li(z,ue,ye,Ie,dt,bt));return be&&Gr(),Sa(ce),this},g.path=function(p){for(var M=0;M<p.length;M++){var ee=p[M],oe=ee.c;switch(ee.op){case"m":Ii(oe[0],oe[1]);break;case"l":Kr(oe[0],oe[1]);break;case"c":Li.apply(this,oe);break;case"h":Gr()}}return this},g.__private__.rect=g.rect=function(p,M,ee,oe,ce){if(isNaN(p)||isNaN(M)||isNaN(ee)||isNaN(oe)||!ui(ce))throw new Error("Invalid arguments passed to jsPDF.rect");return x===b.COMPAT&&(oe=-oe),re([T(E(p)),T(Y(M)),T(E(ee)),T(E(oe)),"re"].join(" ")),Sa(ce),this},g.__private__.triangle=g.triangle=function(p,M,ee,oe,ce,be,Te){if(isNaN(p)||isNaN(M)||isNaN(ee)||isNaN(oe)||isNaN(ce)||isNaN(be)||!ui(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-p,oe-M],[ce-ee,be-oe],[p-ce,M-be]],p,M,[1,1],Te,!0),this},g.__private__.roundedRect=g.roundedRect=function(p,M,ee,oe,ce,be,Te){if(isNaN(p)||isNaN(M)||isNaN(ee)||isNaN(oe)||isNaN(ce)||isNaN(be)||!ui(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ve=4/3*(Math.SQRT2-1);return ce=Math.min(ce,.5*ee),be=Math.min(be,.5*oe),this.lines([[ee-2*ce,0],[ce*Ve,0,ce,be-be*Ve,ce,be],[0,oe-2*be],[0,be*Ve,-ce*Ve,be,-ce,be],[2*ce-ee,0],[-ce*Ve,0,-ce,-be*Ve,-ce,-be],[0,2*be-oe],[0,-be*Ve,ce*Ve,-be,ce,-be]],p+ce,M,[1,1],Te,!0),this},g.__private__.ellipse=g.ellipse=function(p,M,ee,oe,ce){if(isNaN(p)||isNaN(M)||isNaN(ee)||isNaN(oe)||!ui(ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*ee,Te=4/3*(Math.SQRT2-1)*oe;return Ii(p+ee,M),Li(p+ee,M-Te,p+be,M-oe,p,M-oe),Li(p-be,M-oe,p-ee,M-Te,p-ee,M),Li(p-ee,M+Te,p-be,M+oe,p,M+oe),Li(p+be,M+oe,p+ee,M+Te,p+ee,M),Sa(ce),this},g.__private__.circle=g.circle=function(p,M,ee,oe){if(isNaN(p)||isNaN(M)||isNaN(ee)||!ui(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(p,M,ee,ee,oe)},g.setFont=function(p,M,ee){return ee&&(M=G(M,ee)),wt=Io(p,M,{disableWarning:!1}),this};var Ea=g.__private__.getFont=g.getFont=function(){return Dt[Io.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var p,M,ee={};for(p in Kt)if(Kt.hasOwnProperty(p))for(M in ee[p]=[],Kt[p])Kt[p].hasOwnProperty(M)&&ee[p].push(M);return ee},g.addFont=function(p,M,ee,oe,ce){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?ce=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(ee=G(ee,oe)),ce=ce||"Identity-H",_a.call(this,p,M,ee,ce)};var Ot,xa=t.lineWidth||.200025,ds=g.__private__.getLineWidth=g.getLineWidth=function(){return xa},Pa=g.__private__.setLineWidth=g.setLineWidth=function(p){return xa=p,re(T(E(p))+" w"),this};g.__private__.setLineDash=it.API.setLineDash=it.API.setLineDashPattern=function(p,M){if(p=p||[],M=M||0,isNaN(M)||!Array.isArray(p))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return p=p.map(function(ee){return T(E(ee))}).join(" "),M=T(E(M)),re("["+p+"] "+M+" d"),this};var Na=g.__private__.getLineHeight=g.getLineHeight=function(){return Fe*Ot};g.__private__.getLineHeight=g.getLineHeight=function(){return Fe*Ot};var Ta=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(p){return typeof(p=p||1.15)=="number"&&(Ot=p),this},Co=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ot};Ta(t.lineHeight);var Qr=g.__private__.getHorizontalCoordinate=function(p){return E(p)},Fn=g.__private__.getVerticalCoordinate=function(p){return x===b.ADVANCED?p:nt[q].mediaBox.topRightY-nt[q].mediaBox.bottomLeftY-E(p)},Al=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(p){return T(Qr(p))},io=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(p){return T(Fn(p))},Gn=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return kr(Gn)},g.__private__.setStrokeColor=g.setDrawColor=function(p,M,ee,oe){return Gn=_r({ch1:p,ch2:M,ch3:ee,ch4:oe,pdfColorType:"draw",precision:2}),re(Gn),this};var ps=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return kr(ps)},g.__private__.setFillColor=g.setFillColor=function(p,M,ee,oe){return ps=_r({ch1:p,ch2:M,ch3:ee,ch4:oe,pdfColorType:"fill",precision:2}),re(ps),this};var Ci=t.textColor||"0 g",gs=g.__private__.getTextColor=g.getTextColor=function(){return kr(Ci)};g.__private__.setTextColor=g.setTextColor=function(p,M,ee,oe){return Ci=_r({ch1:p,ch2:M,ch3:ee,ch4:oe,pdfColorType:"text",precision:3}),this};var ko=t.charSpace,ms=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(ko||0)};g.__private__.setCharSpace=g.setCharSpace=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ko=p,this};var Ia=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(p){var M=g.CapJoinStyles[p];if(M===void 0)throw new Error("Line cap style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ia=M,re(M+" J"),this};var vs=0;g.__private__.setLineJoin=g.setLineJoin=function(p){var M=g.CapJoinStyles[p];if(M===void 0)throw new Error("Line join style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vs=M,re(M+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(p){if(p=p||0,isNaN(p))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(T(E(p))+" M"),this},g.GState=uh,g.setGState=function(p){(p=typeof p=="string"?Zt[Wn[p]]:oo(null,p)).equals(Hr)||(re("/"+p.id+" gs"),Hr=p)};var oo=function(p,M){if(!p||!Wn[p]){var ee=!1;for(var oe in Zt)if(Zt.hasOwnProperty(oe)&&Zt[oe].equals(M)){ee=!0;break}if(ee)M=Zt[oe];else{var ce="GS"+(Object.keys(Zt).length+1).toString(10);Zt[ce]=M,M.id=ce}return p&&(Wn[p]=M.id),It.publish("addGState",M),M}};g.addGState=function(p,M){return oo(p,M),this},g.saveGraphicsState=function(){return re("q"),ai.push({key:wt,size:Fe,color:Ci}),this},g.restoreGraphicsState=function(){re("Q");var p=ai.pop();return wt=p.key,Fe=p.size,Ci=p.color,Hr=null,this},g.setCurrentTransformationMatrix=function(p){return re(p.toString()+" cm"),this},g.comment=function(p){return re("#"+p),this};var Ro=function(p,M){var ee=p||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(be){isNaN(be)||(ee=parseFloat(be))}});var oe=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(be){isNaN(be)||(oe=parseFloat(be))}});var ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ce},set:function(be){ce=be.toString()}}),this},ys=function(p,M,ee,oe){Ro.call(this,p,M),this.type="rect";var ce=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ce},set:function(Te){isNaN(Te)||(ce=parseFloat(Te))}});var be=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(Te){isNaN(Te)||(be=parseFloat(Te))}}),this},Do=function(){this.page=Qt,this.currentPage=q,this.pages=Le.slice(0),this.pagesContext=nt.slice(0),this.x=fn,this.y=xt,this.matrix=Lr,this.width=so(q),this.height=ar(q),this.outputDestination=Me,this.id="",this.objectNumber=-1};Do.prototype.restore=function(){Qt=this.page,q=this.currentPage,nt=this.pagesContext,Le=this.pages,fn=this.x,xt=this.y,Lr=this.matrix,_s(q,this.width),bs(q,this.height),Me=this.outputDestination};var ws=function(p,M,ee,oe,ce){$r.push(new Do),Qt=q=0,Le=[],fn=p,xt=M,Lr=ce,Ar([ee,oe])},Sl=function(p){if(ir[p])$r.pop().restore();else{var M=new Do,ee="Xo"+(Object.keys(Nn).length+1).toString(10);M.id=ee,ir[p]=ee,Nn[ee]=M,It.publish("addFormObject",M),$r.pop().restore()}};for(var ki in g.beginFormObject=function(p,M,ee,oe,ce){return ws(p,M,ee,oe,ce),this},g.endFormObject=function(p){return Sl(p),this},g.doFormObject=function(p,M){var ee=Nn[ir[p]];return re("q"),re(M.toString()+" cm"),re("/"+ee.id+" Do"),re("Q"),this},g.getFormObject=function(p){var M=Nn[ir[p]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},g.save=function(p,M){return p=p||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(Va(ls(Ti()),p),typeof Va.unload=="function"&&at.setTimeout&&setTimeout(Va.unload,911),this):new Promise(function(ee,oe){try{var ce=Va(ls(Ti()),p);typeof Va.unload=="function"&&at.setTimeout&&setTimeout(Va.unload,911),ee(ce)}catch(be){oe(be.message)}})},it.API)it.API.hasOwnProperty(ki)&&(ki==="events"&&it.API.events.length?function(p,M){var ee,oe,ce;for(ce=M.length-1;ce!==-1;ce--)ee=M[ce][0],oe=M[ce][1],p.subscribe.apply(p,[ee].concat(typeof oe=="function"?[oe]:oe))}(It,it.API.events):g[ki]=it.API[ki]);var so=g.getPageWidth=function(p){return(nt[p=p||q].mediaBox.topRightX-nt[p].mediaBox.bottomLeftX)/qe},_s=g.setPageWidth=function(p,M){nt[p].mediaBox.topRightX=M*qe+nt[p].mediaBox.bottomLeftX},ar=g.getPageHeight=function(p){return(nt[p=p||q].mediaBox.topRightY-nt[p].mediaBox.bottomLeftY)/qe},bs=g.setPageHeight=function(p,M){nt[p].mediaBox.topRightY=M*qe+nt[p].mediaBox.bottomLeftY};return g.internal={pdfEscape:pn,getStyle:_l,getFont:Ea,getFontSize:Be,getCharSpace:ms,getTextColor:gs,getLineHeight:Na,getLineHeightFactor:Co,getLineWidth:ds,write:ht,getHorizontalCoordinate:Qr,getVerticalCoordinate:Fn,getCoordinateString:Al,getVerticalCoordinateString:io,collections:{},newObject:yn,newAdditionalObject:is,newObjectDeferred:dn,newObjectDeferredBegin:In,getFilters:br,putStream:wn,events:It,scaleFactor:qe,pageSize:{getWidth:function(){return so(q)},setWidth:function(p){_s(q,p)},getHeight:function(){return ar(q)},setHeight:function(p){bs(q,p)}},encryptionOptions:d,encryption:tn,getEncryptor:wl,output:us,getNumberOfPages:jt,pages:Le,out:re,f2:D,f3:S,getPageInfo:Aa,getPageInfoByObjId:ut,getCurrentPageInfo:ro,getPDFVersion:L,Point:Ro,Rectangle:ys,Matrix:$e,hasHotfix:no},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return so(q)},set:function(p){_s(q,p)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ar(q)},set:function(p){bs(q,p)},enumerable:!0,configurable:!0}),vl.call(g,Re),wt="F1",To(i,n),It.publish("initialized"),g}ql.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},ql.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ql.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},ql.prototype.processOwnerPassword=function(t,e){return z0(B0(e).substr(0,5),t)},ql.prototype.encryptor=function(t,e){var n=B0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return z0(n,r)}},uh.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||zt(t)!==zt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},it.API={events:[]},it.version="2.5.2";var mn=it.API,_m=1,fl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jl=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gt=function(t){return t.toFixed(2)},Fs=function(t){return t.toFixed(5)};mn.__acroform__={};var qr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},hv=function(t){return t*_m},ho=function(t){var e=new L4,n=Ge.internal.getHeight(t)||0,r=Ge.internal.getWidth(t)||0;return e.BBox=[0,0,Number(gt(r)),Number(gt(n))],e},oT=mn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},sT=mn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},aT=mn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},En=mn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return aT(t,e-1)},xn=mn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oT(t,e-1)},Pn=mn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sT(t,e-1)},lT=mn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(o)||0,[Number(gt(l.lowerLeft_X)),Number(gt(l.lowerLeft_Y)),Number(gt(l.upperRight_X)),Number(gt(l.upperRight_Y))]},uT=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=U0(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+gt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=ho(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},U0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var o=n,s=Ge.internal.getHeight(t)||0;s=s<0?-s:s;var a=Ge.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(S,E,C){if(S+1<i.length){var Y=E+" "+i[S+1][0];return yf(Y,t,C).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var h,d,m=yf("3",t,o).height,y=t.multiline?s-o:(s-m)/2,g=y+=2,N=0,L=0,F=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+yf(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var _="",b=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var O=!1;if(i[x].length!==1&&F!==i[x].length-1){if((m+2)*(b+2)+2>s)continue e;_+=i[x][F],O=!0,L=x,x--}else{_=(_+=i[x][F]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var H=parseInt(x),G=l(H,_,o),T=x>=i.length-1;if(G&&!T){_+=" ",F=0;continue}if(G||T){if(T)L=H;else if(t.multiline&&(m+2)*(b+2)+2>s)continue e}else{if(!t.multiline||(m+2)*(b+2)+2>s)continue e;L=H}}for(var A="",k=N;k<=L;k++){var D=i[k];if(t.multiline){if(k===L){A+=D[F]+" ",F=(F+1)%D.length;continue}if(k===N){A+=D[D.length-1]+" ";continue}}A+=D[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=yf(A,t,o).width,t.textAlign){case"right":h=a-d-2;break;case"center":h=(a-d)/2;break;case"left":default:h=2}e+=gt(h)+" "+gt(g)+` Td
`,e+="("+fl(A)+`) Tj
`,e+=-gt(h)+` 0 Td
`,g=-(o+2),d=0,N=O?L:L+1,b++,_=""}break}return r.text=e,r.fontSize=o,r},yf=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},cT={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hT=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},fT=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),zt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},dT=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ki.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(cT)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_m=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new C4,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&hT(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],h=a.Rect;if(a.Rect&&(a.Rect=lT(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ge.createDefaultAppearanceStream(a),zt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=uT(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var m="";for(var y in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(y)){var g=a.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var N=g[s];typeof N=="function"&&(N=N.call(i,a)),m+="/"+s+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=g)=="function"&&(N=N.call(i,a)),m+="/"+s+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&fT(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},I4=mn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),zt(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+fl(r(t[o].toString()))+")"):i+=t[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},f1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+fl(r(t))+")"},go=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};go.prototype.toString=function(){return this.objId+" 0 R"},go.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},go.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:I4(i,this.objId,this.scope)}):i instanceof go?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var L4=function(){go.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};qr(L4,go);var C4=function(){go.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+fl(n(t))+")"}},set:function(n){t=n}})};qr(C4,go);var Ki=function t(){go.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!En(e,3)},set:function(_){_?this.F=xn(e,3):this.F=Pn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof xd)return;o="FieldObject"+t.FieldNum++}var _=function(b){return b};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+fl(_(o))+")"},set:function(_){o=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(_){o=_}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(_){s=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/_m:h},set:function(_){h=_}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof xd||this instanceof ia))return f1(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=_}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof jn?y:f1(y,this.objId,this.scope)},set:function(_){_=_.toString(),y=this instanceof jn?_:_.substr(0,1)==="("?jl(_.substr(1,_.length-2)):jl(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof jn?jl(y.substr(1,y.length-1)):y},set:function(_){_=_.toString(),y=this instanceof jn?"/"+_:_}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof jn?g:f1(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=this instanceof jn?_:_.substr(0,1)==="("?jl(_.substr(1,_.length-2)):jl(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof jn?jl(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof jn?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(_){_=!!_,L=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(_){N=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,1)},set:function(_){_?this.Ff=xn(this.Ff,1):this.Ff=Pn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,2)},set:function(_){_?this.Ff=xn(this.Ff,2):this.Ff=Pn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,3)},set:function(_){_?this.Ff=xn(this.Ff,3):this.Ff=Pn(this.Ff,3)}});var F=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(F!==null)return F},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');F=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(F){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:F=2;break;case"center":case 1:F=1;break;case"left":case 0:default:F=0}}})};qr(Ki,go);var Ka=function(){Ki.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return I4(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,h=[];l=s.exec(o);)h.push(l[a]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,18)},set:function(n){n?this.Ff=xn(this.Ff,18):this.Ff=Pn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=xn(this.Ff,19):this.Ff=Pn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,20)},set:function(n){n?(this.Ff=xn(this.Ff,20),e.sort()):this.Ff=Pn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,22)},set:function(n){n?this.Ff=xn(this.Ff,22):this.Ff=Pn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,23)},set:function(n){n?this.Ff=xn(this.Ff,23):this.Ff=Pn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,27)},set:function(n){n?this.Ff=xn(this.Ff,27):this.Ff=Pn(this.Ff,27)}}),this.hasAppearanceStream=!1};qr(Ka,Ki);var Qa=function(){Ka.call(this),this.fontName="helvetica",this.combo=!1};qr(Qa,Ka);var Ya=function(){Qa.call(this),this.combo=!0};qr(Ya,Qa);var Cc=function(){Ya.call(this),this.edit=!0};qr(Cc,Ya);var jn=function(){Ki.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,15)},set:function(n){n?this.Ff=xn(this.Ff,15):this.Ff=Pn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,16)},set:function(n){n?this.Ff=xn(this.Ff,16):this.Ff=Pn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,17)},set:function(n){n?this.Ff=xn(this.Ff,17):this.Ff=Pn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,26)},set:function(n){n?this.Ff=xn(this.Ff,26):this.Ff=Pn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+fl(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){zt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};qr(jn,Ki);var kc=function(){jn.call(this),this.pushButton=!0};qr(kc,jn);var Xa=function(){jn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};qr(Xa,jn);var xd=function(){var t,e;Ki.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+fl(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){zt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qr(xd,Ki),Xa.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Xa.prototype.createOption=function(t){var e=new xd;return e.Parent=this,e.optionName=t,this.Kids.push(e),pT.call(this.scope,e),e};var Rc=function(){jn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ge.CheckBox.createAppearanceStream()};qr(Rc,jn);var ia=function(){Ki.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,13)},set:function(e){e?this.Ff=xn(this.Ff,13):this.Ff=Pn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,21)},set:function(e){e?this.Ff=xn(this.Ff,21):this.Ff=Pn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,23)},set:function(e){e?this.Ff=xn(this.Ff,23):this.Ff=Pn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,24)},set:function(e){e?this.Ff=xn(this.Ff,24):this.Ff=Pn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,25)},set:function(e){e?this.Ff=xn(this.Ff,25):this.Ff=Pn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,26)},set:function(e){e?this.Ff=xn(this.Ff,26):this.Ff=Pn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qr(ia,Ki);var Dc=function(){ia.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,14)},set:function(t){t?this.Ff=xn(this.Ff,14):this.Ff=Pn(this.Ff,14)}}),this.password=!0};qr(Dc,ia);var Ge={CheckBox:{createAppearanceStream:function(){return{N:{On:Ge.CheckBox.YesNormal},D:{On:Ge.CheckBox.YesPushDown,Off:Ge.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ho(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=U0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+gt(Ge.internal.getWidth(t))+" "+gt(Ge.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+gt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ho(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=Ge.internal.getHeight(t),s=Ge.internal.getWidth(t),a=U0(t,t.caption);return i.push("1 g"),i.push("0 0 "+gt(s)+" "+gt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+gt(s-1)+" "+gt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+gt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ho(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gt(Ge.internal.getWidth(t))+" "+gt(Ge.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ge.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ge.RadioButton.Circle.YesNormal,e.D[t]=Ge.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ho(t);e.scope=t.scope;var n=[],r=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ge.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Fs(Ge.internal.getWidth(t)/2)+" "+Fs(Ge.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ho(t);e.scope=t.scope;var n=[],r=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Ge.internal.Bezier_C).toFixed(5)),s=Number((r*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Fs(Ge.internal.getWidth(t)/2)+" "+Fs(Ge.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Fs(Ge.internal.getWidth(t)/2)+" "+Fs(Ge.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ho(t);e.scope=t.scope;var n=[],r=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Fs(Ge.internal.getWidth(t)/2)+" "+Fs(Ge.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ge.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ge.RadioButton.Cross.YesNormal,e.D[t]=Ge.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ho(t);e.scope=t.scope;var n=[],r=Ge.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+gt(Ge.internal.getWidth(t)-2)+" "+gt(Ge.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(gt(r.x1.x)+" "+gt(r.x1.y)+" m"),n.push(gt(r.x2.x)+" "+gt(r.x2.y)+" l"),n.push(gt(r.x4.x)+" "+gt(r.x4.y)+" m"),n.push(gt(r.x3.x)+" "+gt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ho(t);e.scope=t.scope;var n=Ge.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+gt(Ge.internal.getWidth(t))+" "+gt(Ge.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+gt(Ge.internal.getWidth(t)-2)+" "+gt(Ge.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(gt(n.x1.x)+" "+gt(n.x1.y)+" m"),r.push(gt(n.x2.x)+" "+gt(n.x2.y)+" l"),r.push(gt(n.x4.x)+" "+gt(n.x4.y)+" m"),r.push(gt(n.x3.x)+" "+gt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ho(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gt(Ge.internal.getWidth(t))+" "+gt(Ge.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ge.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ge.internal.getWidth(t),n=Ge.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ge.internal.getWidth=function(t){var e=0;return zt(t)==="object"&&(e=hv(t.Rect[2])),e},Ge.internal.getHeight=function(t){var e=0;return zt(t)==="object"&&(e=hv(t.Rect[3])),e};var pT=mn.addField=function(t){if(dT(this,t),!(t instanceof Ki))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};mn.AcroFormChoiceField=Ka,mn.AcroFormListBox=Qa,mn.AcroFormComboBox=Ya,mn.AcroFormEditBox=Cc,mn.AcroFormButton=jn,mn.AcroFormPushButton=kc,mn.AcroFormRadioButton=Xa,mn.AcroFormCheckBox=Rc,mn.AcroFormTextField=ia,mn.AcroFormPasswordField=Dc,mn.AcroFormAppearance=Ge,mn.AcroForm={ChoiceField:Ka,ListBox:Qa,ComboBox:Ya,EditBox:Cc,Button:jn,PushButton:kc,RadioButton:Xa,CheckBox:Rc,TextField:ia,PasswordField:Dc,Appearance:Ge},it.AcroForm={ChoiceField:Ka,ListBox:Qa,ComboBox:Ya,EditBox:Cc,Button:jn,PushButton:kc,RadioButton:Xa,CheckBox:Rc,TextField:ia,PasswordField:Dc,Appearance:Ge};var gT=it.AcroForm;function k4(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(S,E){var C,Y,he,Z,J,W=e;if((E=E||e)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(G(S))for(J in n)for(he=n[J],C=0;C<he.length;C+=1){for(Z=!0,Y=0;Y<he[C].length;Y+=1)if(he[C][Y]!==void 0&&he[C][Y]!==S[Y]){Z=!1;break}if(Z===!0){W=J;break}}else for(J in n)for(he=n[J],C=0;C<he.length;C+=1){for(Z=!0,Y=0;Y<he[C].length;Y+=1)if(he[C][Y]!==void 0&&he[C][Y]!==S.charCodeAt(Y)){Z=!1;break}if(Z===!0){W=J;break}}return W===e&&E!==e&&(W=E),W},i=function S(E){for(var C=this.internal.write,Y=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:E.width}),Z.push({key:"Height",value:E.height}),E.colorSpace===F.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===F.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var J="",W=0,K=E.transparency.length;W<K;W++)J+=E.transparency[W]+" "+E.transparency[W]+" ";Z.push({key:"Mask",value:"["+J+"]"})}E.sMask!==void 0&&Z.push({key:"SMask",value:E.objectId+1+" 0 R"});var ie=E.filter!==void 0?["/"+E.filter]:void 0;if(Y({data:E.data,additionalKeyValues:Z,alreadyAppliedFilters:ie,objectId:E.objectId}),C("endobj"),"sMask"in E&&E.sMask!==void 0){var pe="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,R={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:pe,data:E.sMask};"filter"in E&&(R.filter=E.filter),S.call(this,R)}if(E.colorSpace===F.INDEXED){var q=this.internal.newObject();Y({data:A(new Uint8Array(E.palette)),objectId:q}),C("endobj")}},o=function(){var S=this.internal.collections.addImage_images;for(var E in S)i.call(this,S[E])},s=function(){var S,E=this.internal.collections.addImage_images,C=this.internal.write;for(var Y in E)C("/I"+(S=E[Y]).index,S.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var S=this.internal.collections.addImage_images;return a.call(this),S},h=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(S){return typeof t["process"+S.toUpperCase()]=="function"},m=function(S){return zt(S)==="object"&&S.nodeType===1},y=function(S,E){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var C=""+S.getAttribute("src");if(C.indexOf("data:image/")===0)return Lc(unescape(C).split("base64,").pop());var Y=t.loadFile(C,!0);if(Y!==void 0)return Y}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var he;switch(E){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;case"JPEG":case"JPG":default:he="image/jpeg"}return Lc(S.toDataURL(he,1).split("base64,").pop())}},g=function(S){var E=this.internal.collections.addImage_images;if(E){for(var C in E)if(S===E[C].alias)return E[C]}},N=function(S,E,C){return S||E||(S=-96,E=-96),S<0&&(S=-1*C.width*72/S/this.internal.scaleFactor),E<0&&(E=-1*C.height*72/E/this.internal.scaleFactor),S===0&&(S=E*C.width/C.height),E===0&&(E=S*C.height/C.width),[S,E]},L=function(S,E,C,Y,he,Z){var J=N.call(this,C,Y,he),W=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,ie=l.call(this);if(C=J[0],Y=J[1],ie[he.index]=he,Z){Z*=Math.PI/180;var pe=Math.cos(Z),R=Math.sin(Z),q=function(te){return te.toFixed(4)},Q=[q(pe),q(R),q(-1*R),q(pe),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,W(S),K(E+Y),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([W(C),"0","0",W(Y),"0","0","cm"].join(" "))):this.internal.write([W(C),"0","0",W(Y),W(S),K(E+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},F=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(S){var E,C,Y=0;if(typeof S=="string")for(C=S.length,E=0;E<C;E++)Y=(Y<<5)-Y+S.charCodeAt(E),Y|=0;else if(G(S))for(C=S.byteLength/2,E=0;E<C;E++)Y=(Y<<5)-Y+S[E],Y|=0;return Y},x=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var E=!0;return S.length===0&&(E=!1),S.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(E=!1),E},O=t.__addimage__.extractImageFromDataUrl=function(S){var E=(S=S||"").split("base64,"),C=null;if(E.length===2){var Y=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(E[0]);Array.isArray(Y)&&(C={mimeType:Y[1],charset:Y[2],data:E[1]})}return C},H=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(S){return H()&&S instanceof ArrayBuffer};var G=t.__addimage__.isArrayBufferView=function(S){return H()&&typeof Uint32Array<"u"&&(S instanceof Int8Array||S instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array)},T=t.__addimage__.binaryStringToUint8Array=function(S){for(var E=S.length,C=new Uint8Array(E),Y=0;Y<E;Y++)C[Y]=S.charCodeAt(Y);return C},A=t.__addimage__.arrayBufferToBinaryString=function(S){for(var E="",C=G(S)?S:new Uint8Array(S),Y=0;Y<C.length;Y+=8192)E+=String.fromCharCode.apply(null,C.subarray(Y,Y+8192));return E};t.addImage=function(){var S,E,C,Y,he,Z,J,W,K;if(typeof arguments[1]=="number"?(E=e,C=arguments[1],Y=arguments[2],he=arguments[3],Z=arguments[4],J=arguments[5],W=arguments[6],K=arguments[7]):(E=arguments[1],C=arguments[2],Y=arguments[3],he=arguments[4],Z=arguments[5],J=arguments[6],W=arguments[7],K=arguments[8]),zt(S=arguments[0])==="object"&&!m(S)&&"imageData"in S){var ie=S;S=ie.imageData,E=ie.format||E||e,C=ie.x||C||0,Y=ie.y||Y||0,he=ie.w||ie.width||he,Z=ie.h||ie.height||Z,J=ie.alias||J,W=ie.compression||W,K=ie.rotation||ie.angle||K}var pe=this.internal.getFilters();if(W===void 0&&pe.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(C)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var R=k.call(this,S,E,J,W);return L.call(this,C,Y,he,Z,R,K),this};var k=function(S,E,C,Y){var he,Z,J;if(typeof S=="string"&&r(S)===e){S=unescape(S);var W=D(S,!1);(W!==""||(W=t.loadFile(S,!0))!==void 0)&&(S=W)}if(m(S)&&(S=y(S,E)),E=r(S,E),!d(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((J=C)==null||J.length===0)&&(C=function(K){return typeof K=="string"||G(K)?b(K):G(K.data)?b(K.data):null}(S)),(he=g.call(this,C))||(H()&&(S instanceof Uint8Array||E==="RGBA"||(Z=S,S=T(S))),he=this["process"+E.toUpperCase()](S,h.call(this),C,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in t.image_compression?K:_.NONE}(Y),Z)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},D=t.__addimage__.convertBase64ToBinaryString=function(S,E){var C;E=typeof E!="boolean"||E;var Y,he="";if(typeof S=="string"){Y=(C=O(S))!==null?C.data:S;try{he=Lc(Y)}catch(Z){if(E)throw x(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return he};t.getImageProperties=function(S){var E,C,Y="";if(m(S)&&(S=y(S)),typeof S=="string"&&r(S)===e&&((Y=D(S,!1))===""&&(Y=t.loadFile(S)||""),S=Y),C=r(S),!d(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(!H()||S instanceof Uint8Array||(S=T(S)),!(E=this["process"+C.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=C,E}})(it.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};it.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,d=!1,m=0;m<h.length&&!d;m++)switch((r=h[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){r=h[y];var g=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),F=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(L.objId),b=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(_(r.contents))+")",o+=" /Popup "+F.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+g(_(b))+") >>",L.content=o;var x=L.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+x,r.open&&(o+=" /Open true"),o+=" >>",F.content=o,this.internal.write(L.objId,"0 R",F.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var O=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(N(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var H=this.annotations._nameMap[r.options.name];r.options.pageNumber=H.page,r.options.top=H.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var G=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+G+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:h(r),w:l(n+i),h:h(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,l=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var d=this.splitTextToSize(n,a).length;s=Math.ceil(h*d)}else a=l,s=h;return this.text(n,r,i,o),i+=.2*h,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-h,a,s,o),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(it.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(L){return e[L.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},a=t.__arabicParser__.isArabicEndLetter=function(L){return s(L)&&o(L)&&e[L.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(L){return s(L)&&i.indexOf(L.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return s(L)&&o(L)&&e[L.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(L){return s(L)&&o(L)&&e[L.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(L){return s(L)&&o(L)&&e[L.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(L){return s(L)&&o(L)&&e[L.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(L){var F=0,_=n,b="",x=0;for(F=0;F<L.length;F+=1)_[L.charCodeAt(F)]!==void 0?(x++,typeof(_=_[L.charCodeAt(F)])=="number"&&(b+=String.fromCharCode(_),_=n,x=0),F===L.length-1&&(_=n,b+=L.charAt(F-(x-1)),F-=x-1,x=0)):(_=n,b+=L.charAt(F-x),F-=x,x=0);return b};t.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&r[L.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(L,F,_){return s(L)?o(L)===!1?-1:!h(L)||!s(F)&&!s(_)||!s(_)&&a(F)||a(L)&&!s(F)||a(L)&&l(F)||a(L)&&a(F)?0:d(L)&&s(F)&&!a(F)&&s(_)&&h(_)?3:a(L)||!s(_)?1:2:-1},g=function(L){var F=0,_=0,b=0,x="",O="",H="",G=(L=L||"").split("\\s+"),T=[];for(F=0;F<G.length;F+=1){for(T.push(""),_=0;_<G[F].length;_+=1)x=G[F][_],O=G[F][_-1],H=G[F][_+1],s(x)?(b=y(x,O,H),T[F]+=b!==-1?String.fromCharCode(e[x.charCodeAt(0)][b]):x):T[F]+=x;T[F]=m(T[F])}return T.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var L,F=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(F)){var b=0;for(_=[],b=0;b<F.length;b+=1)Array.isArray(F[b])?_.push([g(F[b][0]),F[b][1],F[b][2]]):_.push([g(F[b])]);L=_}else L=g(F);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};t.events.push(["preProcessText",N])}(it.API),it.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(it.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(L){l=L}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(L){h=L}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(L){d=L}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(L){m=L}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(L){y=L}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(L){g=L}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(L){N=L}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,h){r.call(this);var d=(h=h||{}).fontSize||this.getFontSize(),m=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,g=0,N=0,L=0,F=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=h.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,O){return x.concat(F.splitTextToSize(O,_))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)g<(L=this.getStringUnitWidth(l[b],{font:m})*d)&&(g=L);return g!==0&&(N=l.length),{w:g/=y,h:Math.max((N*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===l.lineNumber?(l.x=(h.x||0)+(h.width||0),l.y=h.y||0):h.y+h.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,g&&y&&(this.printHeaderRow(l.lineNumber,!0),l.y+=y[0].height)):l.y=h.y+h.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,h,d,m,y){if(r.call(this),!d)throw new Error("No data for PDF table.");var g,N,L,F,_=[],b=[],x=[],O={},H={},G=[],T=[],A=(y=y||{}).autoSize||!1,k=y.printHeaders!==!1,D=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,S=y.margins||Object.assign({width:this.getPageWidth()},e),E=typeof y.padding=="number"?y.padding:3,C=y.headerBackgroundColor||"#c8c8c8",Y=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=C,this.internal.__cell__.headerTextColor=Y,this.setFontSize(D),m==null)b=_=Object.keys(d[0]),x=_.map(function(){return"left"});else if(Array.isArray(m)&&zt(m[0])==="object")for(_=m.map(function(ie){return ie.name}),b=m.map(function(ie){return ie.prompt||ie.name||""}),x=m.map(function(ie){return ie.align||"left"}),g=0;g<m.length;g+=1)H[m[g].name]=m[g].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(b=_=m,x=_.map(function(){return"left"}));if(A||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<_.length;g+=1){for(O[F=_[g]]=d.map(function(ie){return ie[F]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(b[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=O[F],this.setFont(void 0,"normal"),L=0;L<N.length;L+=1)G.push(this.getTextDimensions(N[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[F]=Math.max.apply(null,G)+E+E,G=[]}if(k){var he={};for(g=0;g<_.length;g+=1)he[_[g]]={},he[_[g]].text=b[g],he[_[g]].align=x[g];var Z=a.call(this,he,H);T=_.map(function(ie){return new o(l,h,H[ie],Z,he[ie].text,void 0,he[ie].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var J=m.reduce(function(ie,pe){return ie[pe.name]=pe.align,ie},{});for(g=0;g<d.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:d[g]},this);var W=a.call(this,d[g],H);for(L=0;L<_.length;L+=1){var K=d[g][_[L]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:L,data:K},this),s.call(this,new o(l,h,H[_[L]],W,K,g+2,J[_[L]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=h,this};var a=function(l,h){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(l).map(function(g){var N=l[g];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,h[g]-d-d)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/y+d+d},this).reduce(function(g,N){return Math.max(g,N)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){d=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(d.y=this.internal.__cell__.margins.top||0,y.push(d)),d.lineNumber=l;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(N)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}}(it.API);var R4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},D4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],q0=k4(D4),F4=[100,200,300,400,500,600,700,800,900],mT=k4(F4);function H0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return R4[o=o||"normal"]?o:"normal"}(t.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(o){return typeof q0[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function fv(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var vT={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},dv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function pv(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function yT(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},vT,n.genericFontFamilies||{}),o=null,s=null,a=0;a<e.length;++a)if(i[(o=H0(e[a])).family]&&(o.family=i[o.family]),t.hasOwnProperty(o.family)){s=t[o.family];break}if(!(s=s||t[r]))throw new Error("Could not find a font-family for the rule '"+pv(o)+"' and default family '"+r+"'.");if(s=function(l,h){if(h[l])return h[l];var d=q0[l],m=d<=q0.normal?-1:1,y=fv(h,D4,d,m);if(!y)throw new Error("Could not find a matching font-stretch value for "+l);return y}(o.stretch,s),s=function(l,h){if(h[l])return h[l];for(var d=R4[l],m=0;m<d.length;++m)if(h[d[m]])return h[d[m]];throw new Error("Could not find a matching font-style for "+l)}(o.style,s),!(s=function(l,h){if(h[l])return h[l];if(l===400&&h[500])return h[500];if(l===500&&h[400])return h[400];var d=mT[l],m=fv(h,F4,d,l<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+l);return m}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+pv(o)+"'.");return s}function gv(t){return t.trimLeft()}function wT(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function _T(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var wf,mv,vv,d1=["times"];(function(t){var e,n,r,i,o,s,a,l,h,d=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new s,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new s,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,h=new d}]);var m=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=R;Object.defineProperty(this,"pdf",{get:function(){return q}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Ae){Q=!!Ae}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Ae){te=!!Ae}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Ae){isNaN(Ae)||(ne=Ae)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Ae){isNaN(Ae)||(de=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Ae){var re;typeof Ae=="number"?re=[Ae,Ae,Ae,Ae]:((re=new Array(4))[0]=Ae[0],re[1]=Ae.length>=2?Ae[1]:re[0],re[2]=Ae.length>=3?Ae[2]:re[0],re[3]=Ae.length>=4?Ae[3]:re[1]),h.margin=re}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(Ae){ge=Ae}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(Ae){we=Ae}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(Ae){Ce=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Ae){Ae instanceof d&&(h=Ae)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Ae){h.path=Ae}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(Ae){Le=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var re;re=y(Ae),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var re=y(Ae);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Oe=null;function Me(Ae,re){if(Oe===null){var ht=function(Ye){var Re=[];return Object.keys(Ye).forEach(function(Fe){Ye[Fe].forEach(function(Ue){var Be=null;switch(Ue){case"bold":Be={family:Fe,weight:"bold"};break;case"italic":Be={family:Fe,style:"italic"};break;case"bolditalic":Be={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":Be={family:Fe}}Be!==null&&(Be.ref={name:Fe,style:Ue},Re.push(Be))})}),Re}(Ae.getFontList());Oe=function(Ye){for(var Re={},Fe=0;Fe<Ye.length;++Fe){var Ue=H0(Ye[Fe]),Be=Ue.family,Je=Ue.stretch,lt=Ue.style,ft=Ue.weight;Re[Be]=Re[Be]||{},Re[Be][Je]=Re[Be][Je]||{},Re[Be][Je][lt]=Re[Be][Je][lt]||{},Re[Be][Je][lt][ft]=Ue}return Re}(ht.concat(re))}return Oe}var tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return tt},set:function(Ae){Oe=null,tt=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var re;if(this.ctx.font=Ae,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var ht=re[1],Ye=(re[2],re[3]),Re=re[4],Fe=(re[5],re[6]),Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Re)[2];Re=Math.floor(Ue==="px"?parseFloat(Re)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(Re)*this.pdf.getFontSize():parseFloat(Re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Re);var Be=function(ot){var wt,qe,fn=[],xt=ot.trim();if(xt==="")return d1;if(xt in dv)return[dv[xt]];for(;xt!=="";){switch(qe=null,wt=(xt=gv(xt)).charAt(0)){case'"':case"'":qe=wT(xt.substring(1),wt);break;default:qe=_T(xt)}if(qe===null||(fn.push(qe[0]),(xt=gv(qe[1]))!==""&&xt.charAt(0)!==","))return d1;xt=xt.replace(/^,/,"")}return fn}(Fe);if(this.fontFaces){var Je=yT(Me(this.pdf,this.fontFaces),Be.map(function(ot){return{family:ot,stretch:"normal",weight:Ye,style:ht}}));this.pdf.setFont(Je.ref.name,Je.ref.style)}else{var lt="";(Ye==="bold"||parseInt(Ye,10)>=700||ht==="bold")&&(lt="bold"),ht==="italic"&&(lt+="italic"),lt.length===0&&(lt="normal");for(var ft="",Ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<Be.length;st++){if(this.pdf.internal.getFont(Be[st],lt,{noFallback:!0,disableWarning:!0})!==void 0){ft=Be[st];break}if(lt==="bolditalic"&&this.pdf.internal.getFont(Be[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=Be[st],lt="bold";else if(this.pdf.internal.getFont(Be[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=Be[st],lt="normal";break}}if(ft===""){for(var Tt=0;Tt<Be.length;Tt++)if(Ze[Be[Tt]]){ft=Ze[Be[Tt]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};m.prototype.setLineDash=function(R){this.lineDash=R},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){O.call(this,"fill",!1)},m.prototype.stroke=function(){O.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(R,q){if(isNaN(R)||isNaN(q))throw Gt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new s(R,q));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(R,q)},m.prototype.closePath=function(){var R=new s(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&zt(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){R=new s(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(R.x,R.y)},m.prototype.lineTo=function(R,q){if(isNaN(R)||isNaN(q))throw Gt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new s(R,q));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},m.prototype.quadraticCurveTo=function(R,q,Q,te){if(isNaN(Q)||isNaN(te)||isNaN(R)||isNaN(q))throw Gt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new s(Q,te)),de=this.ctx.transform.applyToPoint(new s(R,q));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(ne.x,ne.y)},m.prototype.bezierCurveTo=function(R,q,Q,te,ne,de){if(isNaN(ne)||isNaN(de)||isNaN(R)||isNaN(q)||isNaN(Q)||isNaN(te))throw Gt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new s(ne,de)),we=this.ctx.transform.applyToPoint(new s(R,q)),Ce=this.ctx.transform.applyToPoint(new s(Q,te));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Ce.x,y2:Ce.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new s(ge.x,ge.y)},m.prototype.arc=function(R,q,Q,te,ne,de){if(isNaN(R)||isNaN(q)||isNaN(Q)||isNaN(te)||isNaN(ne))throw Gt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new s(R,q));R=ge.x,q=ge.y;var we=this.ctx.transform.applyToPoint(new s(0,Q)),Ce=this.ctx.transform.applyToPoint(new s(0,0));Q=Math.sqrt(Math.pow(we.x-Ce.x,2)+Math.pow(we.y-Ce.y,2))}Math.abs(ne-te)>=2*Math.PI&&(te=0,ne=2*Math.PI),this.path.push({type:"arc",x:R,y:q,radius:Q,startAngle:te,endAngle:ne,counterclockwise:de})},m.prototype.arcTo=function(R,q,Q,te,ne){throw new Error("arcTo not implemented.")},m.prototype.rect=function(R,q,Q,te){if(isNaN(R)||isNaN(q)||isNaN(Q)||isNaN(te))throw Gt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,q),this.lineTo(R+Q,q),this.lineTo(R+Q,q+te),this.lineTo(R,q+te),this.lineTo(R,q),this.lineTo(R+Q,q),this.lineTo(R,q)},m.prototype.fillRect=function(R,q,Q,te){if(isNaN(R)||isNaN(q)||isNaN(Q)||isNaN(te))throw Gt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,q,Q,te),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},m.prototype.strokeRect=function(R,q,Q,te){if(isNaN(R)||isNaN(q)||isNaN(Q)||isNaN(te))throw Gt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(R,q,Q,te),this.stroke())},m.prototype.clearRect=function(R,q,Q,te){if(isNaN(R)||isNaN(q)||isNaN(Q)||isNaN(te))throw Gt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,q,Q,te))},m.prototype.save=function(R){R=typeof R!="boolean"||R;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},m.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(q),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(R){var q,Q,te,ne;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))q=0,Q=0,te=0,ne=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(de!==null)q=parseInt(de[1]),Q=parseInt(de[2]),te=parseInt(de[3]),ne=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)q=parseInt(de[1]),Q=parseInt(de[2]),te=parseInt(de[3]),ne=parseFloat(de[4]);else{if(ne=1,typeof R=="string"&&R.charAt(0)!=="#"){var ge=new P4(R);R=ge.ok?ge.toHex():"#000000"}R.length===4?(q=R.substring(1,2),q+=q,Q=R.substring(2,3),Q+=Q,te=R.substring(3,4),te+=te):(q=R.substring(1,3),Q=R.substring(3,5),te=R.substring(5,7)),q=parseInt(q,16),Q=parseInt(Q,16),te=parseInt(te,16)}}return{r:q,g:Q,b:te,a:ne,style:R}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(R,q,Q,te){if(isNaN(q)||isNaN(Q)||typeof R!="string")throw Gt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!g.call(this)){var ne=W(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;E.call(this,{text:R,x:q,y:Q,scale:de,angle:ne,align:this.textAlign,maxWidth:te})}},m.prototype.strokeText=function(R,q,Q,te){if(isNaN(q)||isNaN(Q)||typeof R!="string")throw Gt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){te=isNaN(te)?void 0:te;var ne=W(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;E.call(this,{text:R,x:q,y:Q,scale:de,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:te})}},m.prototype.measureText=function(R){if(typeof R!="string")throw Gt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,Q=this.pdf.internal.scaleFactor,te=q.internal.getFontSize(),ne=q.getStringUnitWidth(R)*te/q.internal.scaleFactor,de=function(ge){var we=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this};return new de({width:ne*=Math.round(96*Q/72*1e4)/1e4})},m.prototype.scale=function(R,q){if(isNaN(R)||isNaN(q))throw Gt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(R,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},m.prototype.rotate=function(R){if(isNaN(R))throw Gt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.translate=function(R,q){if(isNaN(R)||isNaN(q))throw Gt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,R,q);this.ctx.transform=this.ctx.transform.multiply(Q)},m.prototype.transform=function(R,q,Q,te,ne,de){if(isNaN(R)||isNaN(q)||isNaN(Q)||isNaN(te)||isNaN(ne)||isNaN(de))throw Gt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(R,q,Q,te,ne,de);this.ctx.transform=this.ctx.transform.multiply(ge)},m.prototype.setTransform=function(R,q,Q,te,ne,de){R=isNaN(R)?1:R,q=isNaN(q)?0:q,Q=isNaN(Q)?0:Q,te=isNaN(te)?1:te,ne=isNaN(ne)?0:ne,de=isNaN(de)?0:de,this.ctx.transform=new l(R,q,Q,te,ne,de)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(R,q,Q,te,ne,de,ge,we,Ce){var Le=this.pdf.getImageProperties(R),Oe=1,Me=1,tt=1,Ae=1;te!==void 0&&we!==void 0&&(tt=we/te,Ae=Ce/ne,Oe=Le.width/te*we/te,Me=Le.height/ne*Ce/ne),de===void 0&&(de=q,ge=Q,q=0,Q=0),te!==void 0&&we===void 0&&(we=te,Ce=ne),te===void 0&&we===void 0&&(we=Le.width,Ce=Le.height);for(var re,ht=this.ctx.transform.decompose(),Ye=W(ht.rotate.shx),Re=new l,Fe=(Re=(Re=(Re=Re.multiply(ht.translate)).multiply(ht.skew)).multiply(ht.scale)).applyToRectangle(new a(de-q*tt,ge-Q*Ae,te*Oe,ne*Me)),Ue=F.call(this,Fe),Be=[],Je=0;Je<Ue.length;Je+=1)Be.indexOf(Ue[Je])===-1&&Be.push(Ue[Je]);if(x(Be),this.autoPaging)for(var lt=Be[0],ft=Be[Be.length-1],Ze=lt;Ze<ft+1;Ze++){this.pdf.setPage(Ze);var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=Ze===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=Ze===1?0:ot+(Ze-2)*wt;if(this.ctx.clip_path.length!==0){var fn=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(re,this.posX+this.margin[3],-qe+Tt+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=fn}var xt=JSON.parse(JSON.stringify(Fe));xt=b([xt],this.posX+this.margin[3],-qe+Tt+this.ctx.prevPageLastElemOffset)[0];var Lr=(Ze>lt||Ze<ft)&&L.call(this);Lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,wt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,Ye),Lr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Ye)};var F=function(R,q,Q){var te=[];q=q||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":te.push(Math.floor((R.y+ne)/Q)+1);break;case"arc":te.push(Math.floor((R.y+ne-R.radius)/Q)+1),te.push(Math.floor((R.y+ne+R.radius)/Q)+1);break;case"qct":var de=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);te.push(Math.floor((de.y+ne)/Q)+1),te.push(Math.floor((de.y+de.h+ne)/Q)+1);break;case"bct":var ge=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);te.push(Math.floor((ge.y+ne)/Q)+1),te.push(Math.floor((ge.y+ge.h+ne)/Q)+1);break;case"rect":te.push(Math.floor((R.y+ne)/Q)+1),te.push(Math.floor((R.y+R.h+ne)/Q)+1)}for(var we=0;we<te.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<te[we];)_.call(this);return te},_=function(){var R=this.fillStyle,q=this.strokeStyle,Q=this.font,te=this.lineCap,ne=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=q,this.font=Q,this.lineCap=te,this.lineWidth=ne,this.lineJoin=de},b=function(R,q,Q){for(var te=0;te<R.length;te++)switch(R[te].type){case"bct":R[te].x2+=q,R[te].y2+=Q;case"qct":R[te].x1+=q,R[te].y1+=Q;case"mt":case"lt":case"arc":default:R[te].x+=q,R[te].y+=Q}return R},x=function(R){return R.sort(function(q,Q){return q-Q})},O=function(R,q){for(var Q,te,ne=this.fillStyle,de=this.strokeStyle,ge=this.lineCap,we=this.lineWidth,Ce=Math.abs(we*this.ctx.transform.scaleX),Le=this.lineJoin,Oe=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),tt=[],Ae=0;Ae<Me.length;Ae++)if(Me[Ae].x!==void 0)for(var re=F.call(this,Me[Ae]),ht=0;ht<re.length;ht+=1)tt.indexOf(re[ht])===-1&&tt.push(re[ht]);for(var Ye=0;Ye<tt.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<tt[Ye];)_.call(this);if(x(tt),this.autoPaging)for(var Re=tt[0],Fe=tt[tt.length-1],Ue=Re;Ue<Fe+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=ne,this.strokeStyle=de,this.lineCap=ge,this.lineWidth=Ce,this.lineJoin=Le;var Be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Ue===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=Ue===1?0:lt+(Ue-2)*ft;if(this.ctx.clip_path.length!==0){var st=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Q,this.posX+this.margin[3],-Ze+Je+this.ctx.prevPageLastElemOffset),H.call(this,R,!0),this.path=st}if(te=JSON.parse(JSON.stringify(Oe)),this.path=b(te,this.posX+this.margin[3],-Ze+Je+this.ctx.prevPageLastElemOffset),q===!1||Ue===0){var Tt=(Ue>Re||Ue<Fe)&&L.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,ft,null).clip().discardPath()),H.call(this,R,q),Tt&&this.pdf.restoreGraphicsState()}this.lineWidth=we}else this.lineWidth=Ce,H.call(this,R,q),this.lineWidth=we;this.path=Oe},H=function(R,q){if((R!=="stroke"||q||!N.call(this))&&(R==="stroke"||q||!g.call(this))){for(var Q,te,ne=[],de=this.path,ge=0;ge<de.length;ge++){var we=de[ge];switch(we.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:we,deltas:[],abs:[]});break;case"lt":var Ce=ne.length;if(de[ge-1]&&!isNaN(de[ge-1].x)&&(Q=[we.x-de[ge-1].x,we.y-de[ge-1].y],Ce>0)){for(;Ce>=0;Ce--)if(ne[Ce-1].close!==!0&&ne[Ce-1].begin!==!0){ne[Ce-1].deltas.push(Q),ne[Ce-1].abs.push(we);break}}break;case"bct":Q=[we.x1-de[ge-1].x,we.y1-de[ge-1].y,we.x2-de[ge-1].x,we.y2-de[ge-1].y,we.x-de[ge-1].x,we.y-de[ge-1].y],ne[ne.length-1].deltas.push(Q);break;case"qct":var Le=de[ge-1].x+2/3*(we.x1-de[ge-1].x),Oe=de[ge-1].y+2/3*(we.y1-de[ge-1].y),Me=we.x+2/3*(we.x1-we.x),tt=we.y+2/3*(we.y1-we.y),Ae=we.x,re=we.y;Q=[Le-de[ge-1].x,Oe-de[ge-1].y,Me-de[ge-1].x,tt-de[ge-1].y,Ae-de[ge-1].x,re-de[ge-1].y],ne[ne.length-1].deltas.push(Q);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(we)}}te=q?null:R==="stroke"?"stroke":"fill";for(var ht=!1,Ye=0;Ye<ne.length;Ye++)if(ne[Ye].arc)for(var Re=ne[Ye].abs,Fe=0;Fe<Re.length;Fe++){var Ue=Re[Fe];Ue.type==="arc"?A.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,q,!ht):C.call(this,Ue.x,Ue.y),ht=!0}else if(ne[Ye].close===!0)this.pdf.internal.out("h"),ht=!1;else if(ne[Ye].begin!==!0){var Be=ne[Ye].start.x,Je=ne[Ye].start.y;Y.call(this,ne[Ye].deltas,Be,Je),ht=!0}te&&k.call(this,te),q&&D.call(this)}},G=function(R){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-Q;case"top":return R+q-Q;case"hanging":return R+q-2*Q;case"middle":return R+q/2-Q;case"ideographic":return R;case"alphabetic":default:return R}},T=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(q,Q){this.colorStops.push([q,Q])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(R,q,Q,te,ne,de,ge,we,Ce){for(var Le=Z.call(this,Q,te,ne,de),Oe=0;Oe<Le.length;Oe++){var Me=Le[Oe];Oe===0&&(Ce?S.call(this,Me.x1+R,Me.y1+q):C.call(this,Me.x1+R,Me.y1+q)),he.call(this,R,q,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}we?D.call(this):k.call(this,ge)},k=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(R,q){this.pdf.internal.out(n(R)+" "+r(q)+" m")},E=function(R){var q;switch(R.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var Q=this.pdf.getTextDimensions(R.text),te=G.call(this,R.y),ne=T.call(this,te)-Q.h,de=this.ctx.transform.applyToPoint(new s(R.x,te)),ge=this.ctx.transform.decompose(),we=new l;we=(we=(we=we.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Ce,Le,Oe,Me=this.ctx.transform.applyToRectangle(new a(R.x,te,Q.w,Q.h)),tt=we.applyToRectangle(new a(R.x,ne,Q.w,Q.h)),Ae=F.call(this,tt),re=[],ht=0;ht<Ae.length;ht+=1)re.indexOf(Ae[ht])===-1&&re.push(Ae[ht]);if(x(re),this.autoPaging)for(var Ye=re[0],Re=re[re.length-1],Fe=Ye;Fe<Re+1;Fe++){this.pdf.setPage(Fe);var Ue=Fe===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[2],lt=Je-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],Ze=ft-this.margin[3],st=Fe===1?0:Be+(Fe-2)*lt;if(this.ctx.clip_path.length!==0){var Tt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Ce,this.posX+this.margin[3],-1*st+Ue),H.call(this,"fill",!0),this.path=Tt}var ot=b([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-st+Ue+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*R.scale),Oe=this.lineWidth,this.lineWidth=Oe*R.scale);var wt=this.autoPaging!=="text";if(wt||ot.y+ot.h<=Je){if(wt||ot.y>=Ue&&ot.x<=ft){var qe=wt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||ft-ot.x)[0],fn=b([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-st+Ue+this.ctx.prevPageLastElemOffset)[0],xt=wt&&(Fe>Ye||Fe<Re)&&L.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,lt,null).clip().discardPath()),this.pdf.text(qe,fn.x,fn.y,{angle:R.angle,align:q,renderingMode:R.renderingMode}),xt&&this.pdf.restoreGraphicsState()}}else ot.y<Je&&(this.ctx.prevPageLastElemOffset+=Je-ot.y);R.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Oe)}else R.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*R.scale),Oe=this.lineWidth,this.lineWidth=Oe*R.scale),this.pdf.text(R.text,de.x+this.posX,de.y+this.posY,{angle:R.angle,align:q,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Oe)},C=function(R,q,Q,te){Q=Q||0,te=te||0,this.pdf.internal.out(n(R+Q)+" "+r(q+te)+" l")},Y=function(R,q,Q){return this.pdf.lines(R,q,Q,null,null)},he=function(R,q,Q,te,ne,de,ge,we){this.pdf.internal.out([e(i(Q+R)),e(o(te+q)),e(i(ne+R)),e(o(de+q)),e(i(ge+R)),e(o(we+q)),"c"].join(" "))},Z=function(R,q,Q,te){for(var ne=2*Math.PI,de=Math.PI/2;q>Q;)q-=ne;var ge=Math.abs(Q-q);ge<ne&&te&&(ge=ne-ge);for(var we=[],Ce=te?-1:1,Le=q;ge>1e-5;){var Oe=Le+Ce*Math.min(ge,de);we.push(J.call(this,R,Le,Oe)),ge-=Math.abs(Oe-Le),Le=Oe}return we},J=function(R,q,Q){var te=(Q-q)/2,ne=R*Math.cos(te),de=R*Math.sin(te),ge=ne,we=-de,Ce=ge*ge+we*we,Le=Ce+ge*ne+we*de,Oe=4/3*(Math.sqrt(2*Ce*Le)-Le)/(ge*de-we*ne),Me=ge-Oe*we,tt=we+Oe*ge,Ae=Me,re=-tt,ht=te+q,Ye=Math.cos(ht),Re=Math.sin(ht);return{x1:R*Math.cos(q),y1:R*Math.sin(q),x2:Me*Ye-tt*Re,y2:Me*Re+tt*Ye,x3:Ae*Ye-re*Re,y3:Ae*Re+re*Ye,x4:R*Math.cos(Q),y4:R*Math.sin(Q)}},W=function(R){return 180*R/Math.PI},K=function(R,q,Q,te,ne,de){var ge=R+.5*(Q-R),we=q+.5*(te-q),Ce=ne+.5*(Q-ne),Le=de+.5*(te-de),Oe=Math.min(R,ne,ge,Ce),Me=Math.max(R,ne,ge,Ce),tt=Math.min(q,de,we,Le),Ae=Math.max(q,de,we,Le);return new a(Oe,tt,Me-Oe,Ae-tt)},ie=function(R,q,Q,te,ne,de,ge,we){var Ce,Le,Oe,Me,tt,Ae,re,ht,Ye,Re,Fe,Ue,Be,Je,lt=Q-R,ft=te-q,Ze=ne-Q,st=de-te,Tt=ge-ne,ot=we-de;for(Le=0;Le<41;Le++)Ye=(re=(Oe=R+(Ce=Le/40)*lt)+Ce*((tt=Q+Ce*Ze)-Oe))+Ce*(tt+Ce*(ne+Ce*Tt-tt)-re),Re=(ht=(Me=q+Ce*ft)+Ce*((Ae=te+Ce*st)-Me))+Ce*(Ae+Ce*(de+Ce*ot-Ae)-ht),Le==0?(Fe=Ye,Ue=Re,Be=Ye,Je=Re):(Fe=Math.min(Fe,Ye),Ue=Math.min(Ue,Re),Be=Math.max(Be,Ye),Je=Math.max(Je,Re));return new a(Math.round(Fe),Math.round(Ue),Math.round(Be-Fe),Math.round(Je-Ue))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,q,Q=(R=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:q}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(it.API),function(t){var e=function(o){var s,a,l,h,d,m,y,g,N,L;for(a=[],l=0,h=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;h>l;l+=4)(d=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(m=(d=((d=((d=((d=(d-(L=d%85))/85)-(N=d%85))/85)-(g=d%85))/85)-(y=d%85))/85)%85,a.push(m+33,y+33,g+33,N+33,L+33)):a.push(122);return function(F,_){for(var b=_;b>0;b--)F.pop()}(a,s.length),String.fromCharCode.apply(String,a)+"~>"},n=function(o){var s,a,l,h,d,m=String,y="length",g=255,N="charCodeAt",L="slice",F="replace";for(o[L](-2),o=o[L](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),l=[],h=0,d=(o+=s="uuuuu"[L](o[y]%5||5))[y];d>h;h+=5)a=52200625*(o[N](h)-33)+614125*(o[N](h+1)-33)+7225*(o[N](h+2)-33)+85*(o[N](h+3)-33)+(o[N](h+4)-33),l.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(_,b){for(var x=b;x>0;x--)_.pop()}(l,s[y]),m.fromCharCode.apply(m,l)},r=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var a="",l=0;l<o.length;l+=2)a+=String.fromCharCode("0x"+(o[l]+o[l+1]));return a},i=function(o){for(var s=new Uint8Array(o.length),a=o.length;a--;)s[a]=o.charCodeAt(a);return o=(s=j0(s)).reduce(function(l,h){return l+String.fromCharCode(h)},"")};t.processDataByFilters=function(o,s){var a=0,l=o||"",h=[];for(typeof(s=s||[])=="string"&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:l,reverseChain:h.reverse().join(" ")}}}(it.API),function(t){t.loadFile=function(e,n,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,h,d){var m=new XMLHttpRequest,y=0,g=function(N){var L=N.length,F=[],_=String.fromCharCode;for(y=0;y<L;y+=1)F.push(_(255&N.charCodeAt(y)));return F.join("")};if(m.open("GET",l,!h),m.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(m.onload=function(){m.status===200?d(g(this.responseText)):d(void 0)}),m.send(null),h&&m.status===200)return g(m.responseText)}(i,o,s)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(it.API),function(t){function e(){return(at.html2canvas?Promise.resolve(at.html2canvas):R0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(at.DOMPurify?Promise.resolve(at.DOMPurify):R0(()=>import("./purify.es-a-CayzAK.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var a=zt(s);return a==="undefined"?"undefined":a==="string"||s instanceof String?"string":a==="number"||s instanceof Number?"number":a==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(s,a){var l=document.createElement(s);for(var h in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[h]=a.style[h];return l},o=function s(a){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),h=s.convert(Promise.resolve(),l);return h=(h=h.setProgress(1,s,1,[s])).set(a)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,a){return s.__proto__=a||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(h,d){for(var m=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),y=h.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||m.appendChild(l(y,d));return h.nodeType===1&&(h.nodeName==="CANVAS"?(m.width=h.width,m.height=h.height,m.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(m.value=h.value),m.addEventListener("load",function(){m.scrollTop=h.scrollTop,m.scrollLeft=h.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=this.opt.jsPDF,h=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=h,h)for(var y=0;y<h.length;++y){var g=h[y],N=g.src.find(function(L){return L.format==="truetype"});N&&l.addFont(N.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,l.context2d.save(!0),a(this.prop.container,m)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,a):this.outputPdf(s,a)},o.prototype.outputPdf=function(s,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,a)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(r(s)!=="object")return this;var a=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(a)})},o.prototype.get=function(s,a){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return a?a(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function a(l,h){return Math.floor(l*h/72*96)}return this.then(function(){(s=s||it.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:a(s.inner.width,s.k),height:a(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,a,l,h){return s!=null&&(this.progress.val=s),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,a,l,h){return this.setProgress(s?this.progress.val+s:null,a||null,l?this.progress.n+l:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(s,a){var l=this;return this.thenCore(s,a,function(h,d){return l.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(m){return l.updateProgress(null,h),m}).then(h,d).then(function(m){return l.updateProgress(1),m})})},o.prototype.thenCore=function(s,a,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),a&&(a=a.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),d=l.call(h,s,a);return o.convert(d,this.__proto__)},o.prototype.thenExternal=function(s,a){return Promise.prototype.then.call(this,s,a)},o.prototype.thenList=function(s){var a=this;return s.forEach(function(l){a=a.thenCore(l)}),a},o.prototype.catch=function(s){s&&(s=s.bind(this));var a=Promise.prototype.catch.call(this,s);return o.convert(a,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,it.getPageSize=function(s,a,l){if(zt(s)==="object"){var h=s;s=h.orientation,a=h.unit||a,l=h.format||l}a=a||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var d,m=(""+l).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var g,N=0,L=0;if(y.hasOwnProperty(m))N=y[m][1]/d,L=y[m][0]/d;else try{N=l[1],L=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",L>N&&(g=L,L=N,N=g);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",N>L&&(g=L,L=N,N=g)}return{width:L,height:N,unit:a,k:d,orientation:s}},t.html=function(s,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(H0):null;var l=new o(a);return a.worker?l:l.from(s).doCallback()}}(it.API),it.API.addJS=function(t){return vv=t,this.internal.events.subscribe("postPutResources",function(){wf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+vv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wf!==void 0&&mv!==void 0&&this.internal.out("/Names <</JavaScript "+wf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,d=[];for(o=0;o<h;o++){var m=n.internal.newObject();d.push(m);var y=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<d.length;o++)n.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(it.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var l,h=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(m){for(var y,g=256*m.charCodeAt(4)+m.charCodeAt(5),N=m.length,L={width:0,height:0,numcomponents:1},F=4;F<N;F+=2){if(F+=g,e.indexOf(m.charCodeAt(F+1))!==-1){y=256*m.charCodeAt(F+5)+m.charCodeAt(F+6),L={width:256*m.charCodeAt(F+7)+m.charCodeAt(F+8),height:y,numcomponents:m.charCodeAt(F+9)};break}g=256*m.charCodeAt(F+2)+m.charCodeAt(F+3)}return L}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:h,index:r,alias:i}}return d}}(it.API);var Vl,_f,yv,wv,_v,bT=function(){var t,e,n;function r(o){var s,a,l,h,d,m,y,g,N,L,F,_,b,x;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(s=this.readUInt32(),N=(function(){var O,H;for(H=[],O=0;O<4;++O)H.push(String.fromCharCode(this.data[this.pos++]));return H}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),h=this.readUInt16()||100,m.delay=1e3*d/h,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,s-=4),o=(m!=null?m.data:void 0)||this.imgData,_=0;0<=s?_<s:_>s;0<=s?++_:--_)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((L=l-this.transparency.indexed.length)>0)for(b=0;0<=L?b<L:b>L;0<=L?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":y=(F=this.read(s)).indexOf(0),g=String.fromCharCode.apply(String,F.slice(0,y)),this.text[g]=String.fromCharCode.apply(String,F.slice(y+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var s,a;for(a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*s),l=0,h=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function d(m,y,g,N){var L,F,_,b,x,O,H,G,T,A,k,D,S,E,C,Y,he,Z,J,W,K,ie=Math.ceil((h.width-m)/g),pe=Math.ceil((h.height-y)/N),R=h.width==ie&&h.height==pe;for(E=s*ie,D=R?a:new Uint8Array(E*pe),O=o.length,S=0,F=0;S<pe&&l<O;){switch(o[l++]){case 0:for(b=he=0;he<E;b=he+=1)D[F++]=o[l++];break;case 1:for(b=Z=0;Z<E;b=Z+=1)L=o[l++],x=b<s?0:D[F-s],D[F++]=(L+x)%256;break;case 2:for(b=J=0;J<E;b=J+=1)L=o[l++],_=(b-b%s)/s,C=S&&D[(S-1)*E+_*s+b%s],D[F++]=(C+L)%256;break;case 3:for(b=W=0;W<E;b=W+=1)L=o[l++],_=(b-b%s)/s,x=b<s?0:D[F-s],C=S&&D[(S-1)*E+_*s+b%s],D[F++]=(L+Math.floor((x+C)/2))%256;break;case 4:for(b=K=0;K<E;b=K+=1)L=o[l++],_=(b-b%s)/s,x=b<s?0:D[F-s],S===0?C=Y=0:(C=D[(S-1)*E+_*s+b%s],Y=_&&D[(S-1)*E+(_-1)*s+b%s]),H=x+C-Y,G=Math.abs(H-x),A=Math.abs(H-C),k=Math.abs(H-Y),T=G<=A&&G<=k?x:A<=k?C:Y,D[F++]=(L+T)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!R){var q=((y+S*N)*h.width+m)*s,Q=S*E;for(b=0;b<ie;b+=1){for(var te=0;te<s;te+=1)a[q++]=D[Q++];q+=(g-1)*s}}S++}}return o=JN(o),h.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var o,s,a,l,h,d,m,y,g;for(a=this.palette,d=this.transparency.indexed||[],h=new Uint8Array((d.length||0)+a.length),l=0,o=0,s=m=0,y=a.length;m<y;s=m+=3)h[l++]=a[s],h[l++]=a[s+1],h[l++]=a[s+2],h[l++]=(g=d[o++])!=null?g:255;return h},r.prototype.copyToImageData=function(o,s){var a,l,h,d,m,y,g,N,L,F,_;if(l=this.colors,L=null,a=this.hasAlphaChannel,this.palette.length&&(L=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,a=!0),N=(h=o.data||o).length,m=L||s,d=y=0,l===1)for(;d<N;)g=L?4*s[d/4]:y,F=m[g++],h[d++]=F,h[d++]=F,h[d++]=F,h[d++]=a?m[g++]:255,y=g;else for(;d<N;)g=L?4*s[d/4]:y,h[d++]=m[g++],h[d++]=m[g++],h[d++]=m[g++],h[d++]=a?m[g++]:255,y=g},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(at)==="[object Window]"){try{e=at.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(o){var s;if(i()===!0)return n.width=o.width,n.height=o.height,n.clearRect(0,0,o.width,o.height),n.putImageData(o,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var s,a,l,h,d,m,y,g;if(this.animation){for(g=[],a=d=0,m=(y=this.animation.frames).length;d<m;a=++d)s=y[a],l=o.createImageData(s.width,s.height),h=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,h),s.imageData=l,g.push(s.image=t(l));return g}},r.prototype.renderFrame=function(o,s){var a,l,h;return a=(l=this.animation.frames)[s],h=l[s-1],s===0&&o.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?o.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&o.putImageData(h.imageData,h.xOffset,h.yOffset),a.blendOp===0&&o.clearRect(a.xOffset,a.yOffset,a.width,a.height),o.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(o){var s,a,l,h,d,m,y=this;return a=0,m=this.animation,h=m.numFrames,l=m.frames,d=m.numPlays,(s=function(){var g,N;if(g=a++%h,N=l[g],y.renderFrame(o,g),h>1&&a/h<d)return y.animation._timeout=setTimeout(s,N.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var s,a;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(a=s.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),s.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function AT(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var h=!0,d=[],m=0,y=null,g=0,N=null;for(this.width=n,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var L=t[e++];m=t[e++]|t[e++]<<8,y=t[e++],!(1&L)&&(y=null),g=L>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var F=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,O=t[e++],H=O>>6&1,G=1<<(7&O)+1,T=a,A=l,k=!1;O>>7&&(k=!0,T=e,A=G,e+=3*G);var D=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}d.push({x:F,y:_,width:b,height:x,has_local_palette:k,palette_offset:T,palette_size:A,data_offset:D,data_length:e-D,transparent_index:y,interlaced:!!H,delay:m,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return N},this.frameInfo=function(E){if(E<0||E>=d.length)throw new Error("Frame index out of range.");return d[E]},this.decodeAndBlitFrameBGRA=function(E,C){var Y=this.frameInfo(E),he=Y.width*Y.height,Z=new Uint8Array(he);bv(t,Y.data_offset,Z,he);var J=Y.palette_offset,W=Y.transparent_index;W===null&&(W=256);var K=Y.width,ie=n-K,pe=K,R=4*(Y.y*n+Y.x),q=4*((Y.y+Y.height)*n+Y.x),Q=R,te=4*ie;Y.interlaced===!0&&(te+=4*n*7);for(var ne=8,de=0,ge=Z.length;de<ge;++de){var we=Z[de];if(pe===0&&(pe=K,(Q+=te)>=q&&(te=4*ie+4*n*(ne-1),Q=R+(K+ie)*(ne<<1),ne>>=1)),we===W)Q+=4;else{var Ce=t[J+3*we],Le=t[J+3*we+1],Oe=t[J+3*we+2];C[Q++]=Oe,C[Q++]=Le,C[Q++]=Ce,C[Q++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(E,C){var Y=this.frameInfo(E),he=Y.width*Y.height,Z=new Uint8Array(he);bv(t,Y.data_offset,Z,he);var J=Y.palette_offset,W=Y.transparent_index;W===null&&(W=256);var K=Y.width,ie=n-K,pe=K,R=4*(Y.y*n+Y.x),q=4*((Y.y+Y.height)*n+Y.x),Q=R,te=4*ie;Y.interlaced===!0&&(te+=4*n*7);for(var ne=8,de=0,ge=Z.length;de<ge;++de){var we=Z[de];if(pe===0&&(pe=K,(Q+=te)>=q&&(te=4*ie+4*n*(ne-1),Q=R+(K+ie)*(ne<<1),ne>>=1)),we===W)Q+=4;else{var Ce=t[J+3*we],Le=t[J+3*we+1],Oe=t[J+3*we+2];C[Q++]=Ce,C[Q++]=Le,C[Q++]=Oe,C[Q++]=255}--pe}}}function bv(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,l=i+1,h=(1<<l)-1,d=0,m=0,y=0,g=t[e++],N=new Int32Array(4096),L=null;;){for(;d<16&&g!==0;)m|=t[e++]<<d,d+=8,g===1?g=t[e++]:--g;if(d<l)break;var F=m&h;if(m>>=l,d-=l,F!==o){if(F===s)break;for(var _=F<a?F:L,b=0,x=_;x>o;)x=N[x]>>8,++b;var O=x;if(y+b+(_!==F?1:0)>r)return void Gt.log("Warning, gif stream longer than expected.");n[y++]=O;var H=y+=b;for(_!==F&&(n[y++]=O),x=_;b--;)x=N[x],n[--H]=255&x,x>>=8;L!==null&&a<4096&&(N[a++]=L<<8|O,a>=h+1&&l<12&&(++l,h=h<<1|1)),L=F}else a=s+1,h=(1<<(l=i+1))-1,L=null}return y!==r&&Gt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function p1(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),h=new Array(64),d=new Array(64),m=new Array(65535),y=new Array(65535),g=new Array(64),N=new Array(64),L=[],F=0,_=7,b=new Array(64),x=new Array(64),O=new Array(64),H=new Array(256),G=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(R,q){for(var Q=0,te=0,ne=new Array,de=1;de<=16;de++){for(var ge=1;ge<=R[de];ge++)ne[q[te]]=[],ne[q[te]][0]=Q,ne[q[te]][1]=de,te++,Q++;Q*=2}return ne}function J(R){for(var q=R[0],Q=R[1]-1;Q>=0;)q&1<<Q&&(F|=1<<_),Q--,--_<0&&(F==255?(W(255),W(0)):W(F),_=7,F=0)}function W(R){L.push(R)}function K(R){W(R>>8&255),W(255&R)}function ie(R,q,Q,te,ne){for(var de,ge=ne[0],we=ne[240],Ce=function(Re,Fe){var Ue,Be,Je,lt,ft,Ze,st,Tt,ot,wt,qe=0;for(ot=0;ot<8;++ot){Ue=Re[qe],Be=Re[qe+1],Je=Re[qe+2],lt=Re[qe+3],ft=Re[qe+4],Ze=Re[qe+5],st=Re[qe+6];var fn=Ue+(Tt=Re[qe+7]),xt=Ue-Tt,Lr=Be+st,Dt=Be-st,Kt=Je+Ze,ai=Je-Ze,Pt=lt+ft,Yi=lt-ft,Zt=fn+Pt,Wn=fn-Pt,Hr=Lr+Kt,Qt=Lr-Kt;Re[qe]=Zt+Hr,Re[qe+4]=Zt-Hr;var nt=.707106781*(Qt+Wn);Re[qe+2]=Wn+nt,Re[qe+6]=Wn-nt;var It=.382683433*((Zt=Yi+ai)-(Qt=Dt+xt)),li=.5411961*Zt+It,Nn=1.306562965*Qt+It,ir=.707106781*(Hr=ai+Dt),$r=xt+ir,$e=xt-ir;Re[qe+5]=$e+li,Re[qe+3]=$e-li,Re[qe+1]=$r+Nn,Re[qe+7]=$r-Nn,qe+=8}for(qe=0,ot=0;ot<8;++ot){Ue=Re[qe],Be=Re[qe+8],Je=Re[qe+16],lt=Re[qe+24],ft=Re[qe+32],Ze=Re[qe+40],st=Re[qe+48];var Cr=Ue+(Tt=Re[qe+56]),or=Ue-Tt,Tn=Be+st,yn=Be-st,dn=Je+Ze,In=Je-Ze,is=lt+ft,xi=lt-ft,sr=Cr+is,kr=Cr-is,_r=Tn+dn,br=Tn-dn;Re[qe]=sr+_r,Re[qe+32]=sr-_r;var wn=.707106781*(br+kr);Re[qe+16]=kr+wn,Re[qe+48]=kr-wn;var Wr=.382683433*((sr=xi+In)-(br=yn+or)),Xi=.5411961*sr+Wr,Ji=1.306562965*br+Wr,Zi=.707106781*(_r=In+yn),Eo=or+Zi,xo=or-Zi;Re[qe+40]=xo+Xi,Re[qe+24]=xo-Xi,Re[qe+8]=Eo+Ji,Re[qe+56]=Eo-Ji,qe++}for(ot=0;ot<64;++ot)wt=Re[ot]*Fe[ot],g[ot]=wt>0?wt+.5|0:wt-.5|0;return g}(R,q),Le=0;Le<64;++Le)N[T[Le]]=Ce[Le];var Oe=N[0]-Q;Q=N[0],Oe==0?J(te[0]):(J(te[y[de=32767+Oe]]),J(m[de]));for(var Me=63;Me>0&&N[Me]==0;)Me--;if(Me==0)return J(ge),Q;for(var tt,Ae=1;Ae<=Me;){for(var re=Ae;N[Ae]==0&&Ae<=Me;)++Ae;var ht=Ae-re;if(ht>=16){tt=ht>>4;for(var Ye=1;Ye<=tt;++Ye)J(we);ht&=15}de=32767+N[Ae],J(ne[(ht<<4)+y[de]]),J(m[de]),Ae++}return Me!=63&&J(ge),Q}function pe(R){R=Math.min(Math.max(R,1),100),o!=R&&(function(q){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ne=s((Q[te]*q+50)/100);ne=Math.min(Math.max(ne,1),255),a[T[te]]=ne}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var we=s((de[ge]*q+50)/100);we=Math.min(Math.max(we,1),255),l[T[ge]]=we}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Oe=0;Oe<8;Oe++)for(var Me=0;Me<8;Me++)h[Le]=1/(a[T[Le]]*Ce[Oe]*Ce[Me]*8),d[Le]=1/(l[T[Le]]*Ce[Oe]*Ce[Me]*8),Le++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),o=R)}this.encode=function(R,q){q&&pe(q),L=new Array,F=0,_=7,K(65496),K(65504),K(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),K(1),K(1),W(0),W(0),function(){K(65499),K(132),W(0);for(var Be=0;Be<64;Be++)W(a[Be]);W(1);for(var Je=0;Je<64;Je++)W(l[Je])}(),function(Be,Je){K(65472),K(17),W(8),K(Je),K(Be),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(R.width,R.height),function(){K(65476),K(418),W(0);for(var Be=0;Be<16;Be++)W(A[Be+1]);for(var Je=0;Je<=11;Je++)W(k[Je]);W(16);for(var lt=0;lt<16;lt++)W(D[lt+1]);for(var ft=0;ft<=161;ft++)W(S[ft]);W(1);for(var Ze=0;Ze<16;Ze++)W(E[Ze+1]);for(var st=0;st<=11;st++)W(C[st]);W(17);for(var Tt=0;Tt<16;Tt++)W(Y[Tt+1]);for(var ot=0;ot<=161;ot++)W(he[ot])}(),K(65498),K(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var Q=0,te=0,ne=0;F=0,_=7,this.encode.displayName="_encode_";for(var de,ge,we,Ce,Le,Oe,Me,tt,Ae,re=R.data,ht=R.width,Ye=R.height,Re=4*ht,Fe=0;Fe<Ye;){for(de=0;de<Re;){for(Le=Re*Fe+de,Me=-1,tt=0,Ae=0;Ae<64;Ae++)Oe=Le+(tt=Ae>>3)*Re+(Me=4*(7&Ae)),Fe+tt>=Ye&&(Oe-=Re*(Fe+1+tt-Ye)),de+Me>=Re&&(Oe-=de+Me-Re+4),ge=re[Oe++],we=re[Oe++],Ce=re[Oe++],b[Ae]=(G[ge]+G[we+256>>0]+G[Ce+512>>0]>>16)-128,x[Ae]=(G[ge+768>>0]+G[we+1024>>0]+G[Ce+1280>>0]>>16)-128,O[Ae]=(G[ge+1280>>0]+G[we+1536>>0]+G[Ce+1792>>0]>>16)-128;Q=ie(b,h,Q,e,r),te=ie(x,d,te,n,i),ne=ie(O,d,ne,n,i),de+=32}Fe+=8}if(_>=0){var Ue=[];Ue[1]=_+1,Ue[0]=(1<<_+1)-1,J(Ue)}return K(65497),new Uint8Array(L)},t=t||50,function(){for(var R=String.fromCharCode,q=0;q<256;q++)H[q]=R(q)}(),e=Z(A,k),n=Z(E,C),r=Z(D,S),i=Z(Y,he),function(){for(var R=1,q=2,Q=1;Q<=15;Q++){for(var te=R;te<q;te++)y[32767+te]=Q,m[32767+te]=[],m[32767+te][1]=Q,m[32767+te][0]=te;for(var ne=-(q-1);ne<=-R;ne++)y[32767+ne]=Q,m[32767+ne]=[],m[32767+ne][1]=Q,m[32767+ne][0]=q-1+ne;R<<=1,q<<=1}}(),function(){for(var R=0;R<256;R++)G[R]=19595*R,G[R+256>>0]=38470*R,G[R+512>>0]=7471*R+32768,G[R+768>>0]=-11059*R,G[R+1024>>0]=-21709*R,G[R+1280>>0]=32768*R+8421375,G[R+1536>>0]=-27439*R,G[R+1792>>0]=-5329*R}(),pe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ji(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Av(t){function e(A){if(!A)throw Error("assert :P")}function n(A,k,D){for(var S=0;4>S;S++)if(A[k+S]!=D.charCodeAt(S))return!0;return!1}function r(A,k,D,S,E){for(var C=0;C<E;C++)A[k+C]=D[S+C]}function i(A,k,D,S){for(var E=0;E<S;E++)A[k+E]=D}function o(A){return new Int32Array(A)}function s(A,k){for(var D=[],S=0;S<A;S++)D.push(new k);return D}function a(A,k){var D=[];return function S(E,C,Y){for(var he=Y[C],Z=0;Z<he&&(E.push(Y.length>C+1?[]:new k),!(Y.length<C+1));Z++)S(E[Z],C+1,Y)}(D,0,A),D}var l=function(){var A=this;function k(u,f){for(var v=1<<f-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function D(u,f,v,P,j){e(!(P%v));do u[f+(P-=v)]=j;while(0<P)}function S(u,f,v,P,j){if(e(2328>=j),512>=j)var V=o(512);else if((V=o(j))==null)return 0;return function(B,U,$,X,se,me){var ve,fe,xe=U,_e=1<<$,ae=o(16),le=o(16);for(e(se!=0),e(X!=null),e(B!=null),e(0<$),fe=0;fe<se;++fe){if(15<X[fe])return 0;++ae[X[fe]]}if(ae[0]==se)return 0;for(le[1]=0,ve=1;15>ve;++ve){if(ae[ve]>1<<ve)return 0;le[ve+1]=le[ve]+ae[ve]}for(fe=0;fe<se;++fe)ve=X[fe],0<X[fe]&&(me[le[ve]++]=fe);if(le[15]==1)return(X=new E).g=0,X.value=me[0],D(B,xe,1,_e,X),_e;var Se,Ne=-1,Ee=_e-1,He=0,je=1,rt=1,ze=1<<$;for(fe=0,ve=1,se=2;ve<=$;++ve,se<<=1){if(je+=rt<<=1,0>(rt-=ae[ve]))return 0;for(;0<ae[ve];--ae[ve])(X=new E).g=ve,X.value=me[fe++],D(B,xe+He,se,ze,X),He=k(He,ve)}for(ve=$+1,se=2;15>=ve;++ve,se<<=1){if(je+=rt<<=1,0>(rt-=ae[ve]))return 0;for(;0<ae[ve];--ae[ve]){if(X=new E,(He&Ee)!=Ne){for(xe+=ze,Se=1<<(Ne=ve)-$;15>Ne&&!(0>=(Se-=ae[Ne]));)++Ne,Se<<=1;_e+=ze=1<<(Se=Ne-$),B[U+(Ne=He&Ee)].g=Se+$,B[U+Ne].value=xe-U-Ne}X.g=ve-$,X.value=me[fe++],D(B,xe+(He>>$),se,ze,X),He=k(He,ve)}}return je!=2*le[15]-1?0:_e}(u,f,v,P,j,V)}function E(){this.value=this.g=0}function C(){this.value=this.g=0}function Y(){this.G=s(5,E),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Qn,C)}function he(u,f,v,P){e(u!=null),e(f!=null),e(2147483648>P),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=v,u.Jd=f,u.Yc=v+P,u.Zc=4<=P?v+P-4+1:v,de(u)}function Z(u,f){for(var v=0;0<f--;)v|=we(u,128)<<f;return v}function J(u,f){var v=Z(u,f);return ge(u)?-v:v}function W(u,f,v,P){var j,V=0;for(e(u!=null),e(f!=null),e(4294967288>P),u.Sb=P,u.Ra=0,u.u=0,u.h=0,4<P&&(P=4),j=0;j<P;++j)V+=f[v+j]<<8*j;u.Ra=V,u.bb=P,u.oa=f,u.pa=v}function K(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Nl-8>>>0,++u.bb,u.u-=8;Q(u)&&(u.h=1,u.u=0)}function ie(u,f){if(e(0<=f),!u.h&&f<=Pl){var v=q(u)&xl[f];return u.u+=f,K(u),v}return u.h=1,u.u=0}function pe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(u){return u.Ra>>>(u.u&Nl-1)>>>0}function Q(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Nl}function te(u,f){u.u=f,u.h=Q(u)}function ne(u){u.u>=zu&&(e(u.u>=zu),K(u))}function de(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ge(u){return Z(u,1)}function we(u,f){var v=u.Ca;0>u.b&&de(u);var P=u.b,j=v*f>>>8,V=(u.I>>>P>j)+0;for(V?(v-=j,u.I-=j+1<<P>>>0):v=j+1,P=v,j=0;256<=P;)j+=8,P>>=8;return P=7^j+Dr[P],u.b-=P,u.Ca=(v<<P)-1,V}function Ce(u,f,v){u[f+0]=v>>24&255,u[f+1]=v>>16&255,u[f+2]=v>>8&255,u[f+3]=v>>0&255}function Le(u,f){return u[f+0]<<0|u[f+1]<<8}function Oe(u,f){return Le(u,f)|u[f+2]<<16}function Me(u,f){return Le(u,f)|Le(u,f+2)<<16}function tt(u,f){var v=1<<f;return e(u!=null),e(0<f),u.X=o(v),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function Ae(u,f){e(u!=null),e(f!=null),e(u.Xa==f.Xa),r(f.X,0,u.X,0,1<<f.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function ht(u,f,v,P){e(v!=null),e(P!=null);var j=v[0],V=P[0];return j==0&&(j=(u*V+f/2)/f),V==0&&(V=(f*j+u/2)/u),0>=j||0>=V?0:(v[0]=j,P[0]=V,1)}function Ye(u,f){return u+(1<<f)-1>>>f}function Re(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function Fe(u,f){A[f]=function(v,P,j,V,B,U,$){var X;for(X=0;X<B;++X){var se=A[u](U[$+X-1],j,V+X);U[$+X]=Re(v[P+X],se)}}}function Ue(){this.ud=this.hd=this.jd=0}function Be(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function Je(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function lt(u,f){return Je(u+(u-f+.5>>1))}function ft(u,f,v){return Math.abs(f-v)-Math.abs(u-v)}function Ze(u,f,v,P,j,V,B){for(P=V[B-1],v=0;v<j;++v)V[B+v]=P=Re(u[f+v],P)}function st(u,f,v,P,j){var V;for(V=0;V<v;++V){var B=u[f+V],U=B>>8&255,$=16711935&($=($=16711935&B)+((U<<16)+U));P[j+V]=(4278255360&B)+$>>>0}}function Tt(u,f){f.jd=u>>0&255,f.hd=u>>8&255,f.ud=u>>16&255}function ot(u,f,v,P,j,V){var B;for(B=0;B<P;++B){var U=f[v+B],$=U>>>8,X=U,se=255&(se=(se=U>>>16)+((u.jd<<24>>24)*($<<24>>24)>>>5));X=255&(X=(X=X+((u.hd<<24>>24)*($<<24>>24)>>>5))+((u.ud<<24>>24)*(se<<24>>24)>>>5)),j[V+B]=(4278255360&U)+(se<<16)+X}}function wt(u,f,v,P,j){A[f]=function(V,B,U,$,X,se,me,ve,fe){for($=me;$<ve;++$)for(me=0;me<fe;++me)X[se++]=j(U[P(V[B++])])},A[u]=function(V,B,U,$,X,se,me){var ve=8>>V.b,fe=V.Ea,xe=V.K[0],_e=V.w;if(8>ve)for(V=(1<<V.b)-1,_e=(1<<ve)-1;B<U;++B){var ae,le=0;for(ae=0;ae<fe;++ae)ae&V||(le=P($[X++])),se[me++]=j(xe[le&_e]),le>>=ve}else A["VP8LMapColor"+v]($,X,xe,_e,se,me,B,U,fe)}}function qe(u,f,v,P,j){for(v=f+v;f<v;){var V=u[f++];P[j++]=V>>16&255,P[j++]=V>>8&255,P[j++]=V>>0&255}}function fn(u,f,v,P,j){for(v=f+v;f<v;){var V=u[f++];P[j++]=V>>16&255,P[j++]=V>>8&255,P[j++]=V>>0&255,P[j++]=V>>24&255}}function xt(u,f,v,P,j){for(v=f+v;f<v;){var V=(B=u[f++])>>16&240|B>>12&15,B=B>>0&240|B>>28&15;P[j++]=V,P[j++]=B}}function Lr(u,f,v,P,j){for(v=f+v;f<v;){var V=(B=u[f++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;P[j++]=V,P[j++]=B}}function Dt(u,f,v,P,j){for(v=f+v;f<v;){var V=u[f++];P[j++]=V>>0&255,P[j++]=V>>8&255,P[j++]=V>>16&255}}function Kt(u,f,v,P,j,V){if(V==0)for(v=f+v;f<v;)Ce(P,((V=u[f++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),j+=32;else r(P,j,u,f,v)}function ai(u,f){A[f][0]=A[u+"0"],A[f][1]=A[u+"1"],A[f][2]=A[u+"2"],A[f][3]=A[u+"3"],A[f][4]=A[u+"4"],A[f][5]=A[u+"5"],A[f][6]=A[u+"6"],A[f][7]=A[u+"7"],A[f][8]=A[u+"8"],A[f][9]=A[u+"9"],A[f][10]=A[u+"10"],A[f][11]=A[u+"11"],A[f][12]=A[u+"12"],A[f][13]=A[u+"13"],A[f][14]=A[u+"0"],A[f][15]=A[u+"0"]}function Pt(u){return u==cp||u==hp||u==kh||u==fp}function Yi(){this.eb=[],this.size=this.A=this.fb=0}function Zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yi,this.f.kb=new Zt,this.sd=null}function Hr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function It(u,f){var v=u.T,P=f.ba.f.RGBA,j=P.eb,V=P.fb+u.ka*P.A,B=gi[f.ba.S],U=u.y,$=u.O,X=u.f,se=u.N,me=u.ea,ve=u.W,fe=f.cc,xe=f.dc,_e=f.Mc,ae=f.Nc,le=u.ka,Se=u.ka+u.T,Ne=u.U,Ee=Ne+1>>1;for(le==0?B(U,$,null,null,X,se,me,ve,X,se,me,ve,j,V,null,null,Ne):(B(f.ec,f.fc,U,$,fe,xe,_e,ae,X,se,me,ve,j,V-P.A,j,V,Ne),++v);le+2<Se;le+=2)fe=X,xe=se,_e=me,ae=ve,se+=u.Rc,ve+=u.Rc,V+=2*P.A,B(U,($+=2*u.fa)-u.fa,U,$,fe,xe,_e,ae,X,se,me,ve,j,V-P.A,j,V,Ne);return $+=u.fa,u.j+Se<u.o?(r(f.ec,f.fc,U,$,Ne),r(f.cc,f.dc,X,se,Ee),r(f.Mc,f.Nc,me,ve,Ee),v--):1&Se||B(U,$,null,null,X,se,me,ve,X,se,me,ve,j,V+P.A,null,null,Ne),v}function li(u,f,v){var P=u.F,j=[u.J];if(P!=null){var V=u.U,B=f.ba.S,U=B==Ch||B==kh;f=f.ba.f.RGBA;var $=[0],X=u.ka;$[0]=u.T,u.Kb&&(X==0?--$[0]:(--X,j[0]-=u.width),u.j+u.ka+u.T==u.o&&($[0]=u.o-u.j-X));var se=f.eb;X=f.fb+X*f.A,u=Xt(P,j[0],u.width,V,$,se,X+(U?0:3),f.A),e(v==$),u&&Pt(B)&&di(se,X,U,V,$,f.A)}return 0}function Nn(u){var f=u.ma,v=f.ba.S,P=11>v,j=v==Ih||v==Lh||v==Ch||v==up||v==12||Pt(v);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Vu(f.Oa,u,j?11:12))return 0;if(j&&Pt(v)&&Te(),u.da)alert("todo:use_scaling");else{if(P){if(f.Ib=nt,u.Kb){if(v=u.U+1>>1,f.memory=o(u.U+2*v),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+v,f.Ib=It,Te()}}else alert("todo:EmitYUV");j&&(f.Jb=li,P&&ce())}if(P&&!Cm){for(u=0;256>u;++u)r3[u]=89858*(u-128)+Dh>>Rh,s3[u]=-22014*(u-128)+Dh,o3[u]=-45773*(u-128),i3[u]=113618*(u-128)+Dh>>Rh;for(u=Ku;u<gp;++u)f=76283*(u-16)+Dh>>Rh,a3[u-Ku]=Mt(f,255),l3[u-Ku]=Mt(f+8>>4,15);Cm=1}return 1}function ir(u){var f=u.ma,v=u.U,P=u.T;return e(!(1&u.ka)),0>=v||0>=P?0:(v=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,v),f.Dc+=v,1)}function $r(u){u.ma.memory=null}function $e(u,f,v,P){return ie(u,8)!=47?0:(f[0]=ie(u,14)+1,v[0]=ie(u,14)+1,P[0]=ie(u,1),ie(u,3)!=0?0:!u.h)}function Cr(u,f){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+ie(f,v)+1}function or(u,f){return 120<f?f-120:1<=(v=((v=q4[f-1])>>4)*u+(8-(15&v)))?v:1;var v}function Tn(u,f,v){var P=q(v),j=u[f+=255&P].g-8;return 0<j&&(te(v,v.u+8),P=q(v),f+=u[f].value,f+=P&(1<<j)-1),te(v,v.u+u[f].g),u[f].value}function yn(u,f,v){return v.g+=u.g,v.value+=u.value<<f>>>0,e(8>=v.g),u.g}function dn(u,f,v){var P=u.xc;return e((f=P==0?0:u.vc[u.md*(v>>P)+(f>>P)])<u.Wb),u.Ya[f]}function In(u,f,v,P){var j=u.ab,V=u.c*f,B=u.C;f=B+f;var U=v,$=P;for(P=u.Ta,v=u.Ua;0<j--;){var X=u.gc[j],se=B,me=f,ve=U,fe=$,xe=($=P,U=v,X.Ea);switch(e(se<me),e(me<=X.nc),X.hc){case 2:Ah(ve,fe,(me-se)*xe,$,U);break;case 0:var _e=se,ae=me,le=$,Se=U,Ne=(ze=X).Ea;_e==0&&(ap(ve,fe,null,null,1,le,Se),Ze(ve,fe+1,0,0,Ne-1,le,Se+1),fe+=Ne,Se+=Ne,++_e);for(var Ee=1<<ze.b,He=Ee-1,je=Ye(Ne,ze.b),rt=ze.K,ze=ze.w+(_e>>ze.b)*je;_e<ae;){var Ft=rt,Vt=ze,Lt=1;for(Uu(ve,fe,le,Se-Ne,1,le,Se);Lt<Ne;){var At=(Lt&~He)+Ee;At>Ne&&(At=Ne),(0,As[Ft[Vt++]>>8&15])(ve,fe+ +Lt,le,Se+Lt-Ne,At-Lt,le,Se+Lt),Lt=At}fe+=Ne,Se+=Ne,++_e&He||(ze+=je)}me!=X.nc&&r($,U-xe,$,U+(me-se-1)*xe,xe);break;case 1:for(xe=ve,ae=fe,Ne=(ve=X.Ea)-(Se=ve&~(le=(fe=1<<X.b)-1)),_e=Ye(ve,X.b),Ee=X.K,X=X.w+(se>>X.b)*_e;se<me;){for(He=Ee,je=X,rt=new Ue,ze=ae+Se,Ft=ae+ve;ae<ze;)Tt(He[je++],rt),La(rt,xe,ae,fe,$,U),ae+=fe,U+=fe;ae<Ft&&(Tt(He[je++],rt),La(rt,xe,ae,Ne,$,U),ae+=Ne,U+=Ne),++se&le||(X+=_e)}break;case 3:if(ve==$&&fe==U&&0<X.b){for(ae=$,ve=xe=U+(me-se)*xe-(Se=(me-se)*Ye(X.Ea,X.b)),fe=$,le=U,_e=[],Se=(Ne=Se)-1;0<=Se;--Se)_e[Se]=fe[le+Se];for(Se=Ne-1;0<=Se;--Se)ae[ve+Se]=_e[Se];ci(X,se,me,$,xe,$,U)}else ci(X,se,me,ve,fe,$,U)}U=P,$=v}$!=v&&r(P,v,U,$,V)}function is(u,f){var v=u.V,P=u.Ba+u.c*u.C,j=f-u.C;if(e(f<=u.l.o),e(16>=j),0<j){var V=u.l,B=u.Ta,U=u.Ua,$=V.width;if(In(u,j,v,P),j=U=[U],e((v=u.C)<(P=f)),e(V.v<V.va),P>V.o&&(P=V.o),v<V.j){var X=V.j-v;v=V.j,j[0]+=X*$}if(v>=P?v=0:(j[0]+=4*V.v,V.ka=v-V.j,V.U=V.va-V.v,V.T=P-v,v=1),v){if(U=U[0],11>(v=u.ca).S){var se=v.f.RGBA,me=(P=v.S,j=V.U,V=V.T,X=se.eb,se.A),ve=V;for(se=se.fb+u.Ma*se.A;0<ve--;){var fe=B,xe=U,_e=j,ae=X,le=se;switch(P){case Th:Fr(fe,xe,_e,ae,le);break;case Ih:Sr(fe,xe,_e,ae,le);break;case cp:Sr(fe,xe,_e,ae,le),di(ae,le,0,_e,1,0);break;case bm:Oo(fe,xe,_e,ae,le);break;case Lh:Kt(fe,xe,_e,ae,le,1);break;case hp:Kt(fe,xe,_e,ae,le,1),di(ae,le,0,_e,1,0);break;case Ch:Kt(fe,xe,_e,ae,le,0);break;case kh:Kt(fe,xe,_e,ae,le,0),di(ae,le,1,_e,1,0);break;case up:Ss(fe,xe,_e,ae,le);break;case fp:Ss(fe,xe,_e,ae,le),Yt(ae,le,_e,1,0);break;case Am:Fo(fe,xe,_e,ae,le);break;default:e(0)}U+=$,se+=me}u.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=v.height)}}u.C=f,e(u.C<=u.i)}function xi(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var v=u.Ya[f].G,P=u.Ya[f].H;if(0<v[1][P[1]+0].g||0<v[2][P[2]+0].g||0<v[3][P[3]+0].g)return 0}return 1}function sr(u,f,v,P,j,V){if(u.Z!=0){var B=u.qd,U=u.rd;for(e(Ns[u.Z]!=null);f<v;++f)Ns[u.Z](B,U,P,j,P,j,V),B=P,U=j,j+=V;u.qd=B,u.rd=U}}function kr(u,f){var v=u.l.ma,P=v.Z==0||v.Z==1?u.l.j:u.C;if(P=u.C<P?P:u.C,e(f<=u.l.o),f>P){var j=u.l.width,V=v.ca,B=v.tb+j*P,U=u.V,$=u.Ba+u.c*P,X=u.gc;e(u.ab==1),e(X[0].hc==3),Sh(X[0],P,f,U,$,V,B),sr(v,P,f,V,B,j)}u.C=u.Ma=f}function _r(u,f,v,P,j,V,B){var U=u.$/P,$=u.$%P,X=u.m,se=u.s,me=v+u.$,ve=me;j=v+P*j;var fe=v+P*V,xe=280+se.ua,_e=u.Pb?U:16777216,ae=0<se.ua?se.Wa:null,le=se.wc,Se=me<fe?dn(se,$,U):null;e(u.C<V),e(fe<=j);var Ne=!1;e:for(;;){for(;Ne||me<fe;){var Ee=0;if(U>=_e){var He=me-v;e((_e=u).Pb),_e.wd=_e.m,_e.xd=He,0<_e.s.ua&&Ae(_e.s.Wa,_e.s.vb),_e=U+$4}if($&le||(Se=dn(se,$,U)),e(Se!=null),Se.Qb&&(f[me]=Se.qb,Ne=!0),!Ne)if(ne(X),Se.jc){Ee=X,He=f;var je=me,rt=Se.pd[q(Ee)&Qn-1];e(Se.jc),256>rt.g?(te(Ee,Ee.u+rt.g),He[je]=rt.value,Ee=0):(te(Ee,Ee.u+rt.g-256),e(256<=rt.value),Ee=rt.value),Ee==0&&(Ne=!0)}else Ee=Tn(Se.G[0],Se.H[0],X);if(X.h)break;if(Ne||256>Ee){if(!Ne)if(Se.nd)f[me]=(Se.qb|Ee<<8)>>>0;else{if(ne(X),Ne=Tn(Se.G[1],Se.H[1],X),ne(X),He=Tn(Se.G[2],Se.H[2],X),je=Tn(Se.G[3],Se.H[3],X),X.h)break;f[me]=(je<<24|Ne<<16|Ee<<8|He)>>>0}if(Ne=!1,++me,++$>=P&&($=0,++U,B!=null&&U<=V&&!(U%16)&&B(u,U),ae!=null))for(;ve<me;)Ee=f[ve++],ae.X[(506832829*Ee&4294967295)>>>ae.Mb]=Ee}else if(280>Ee){if(Ee=Cr(Ee-256,X),He=Tn(Se.G[4],Se.H[4],X),ne(X),He=or(P,He=Cr(He,X)),X.h)break;if(me-v<He||j-me<Ee)break e;for(je=0;je<Ee;++je)f[me+je]=f[me+je-He];for(me+=Ee,$+=Ee;$>=P;)$-=P,++U,B!=null&&U<=V&&!(U%16)&&B(u,U);if(e(me<=j),$&le&&(Se=dn(se,$,U)),ae!=null)for(;ve<me;)Ee=f[ve++],ae.X[(506832829*Ee&4294967295)>>>ae.Mb]=Ee}else{if(!(Ee<xe))break e;for(Ne=Ee-280,e(ae!=null);ve<me;)Ee=f[ve++],ae.X[(506832829*Ee&4294967295)>>>ae.Mb]=Ee;Ee=me,e(!(Ne>>>(He=ae).Xa)),f[Ee]=He.X[Ne],Ne=!0}Ne||e(X.h==Q(X))}if(u.Pb&&X.h&&me<j)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Ae(u.s.vb,u.s.Wa);else{if(X.h)break e;B!=null&&B(u,U>V?V:U),u.a=0,u.$=me-v}return 1}return u.a=3,0}function br(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,e(u!=null)}function wn(){var u=new Sl;return u==null?null:(u.a=0,u.xb=xm,ai("Predictor","VP8LPredictors"),ai("Predictor","VP8LPredictors_C"),ai("PredictorAdd","VP8LPredictorsAdd"),ai("PredictorAdd","VP8LPredictorsAdd_C"),Ah=st,La=ot,Fr=qe,Sr=fn,Ss=xt,Fo=Lr,Oo=Dt,A.VP8LMapColor32b=Tl,A.VP8LMapColor8b=Eh,u)}function Wr(u,f,v,P,j){var V=1,B=[u],U=[f],$=P.m,X=P.s,se=null,me=0;e:for(;;){if(v)for(;V&&ie($,1);){var ve=B,fe=U,xe=P,_e=1,ae=xe.m,le=xe.gc[xe.ab],Se=ie(ae,2);if(xe.Oc&1<<Se)V=0;else{switch(xe.Oc|=1<<Se,le.hc=Se,le.Ea=ve[0],le.nc=fe[0],le.K=[null],++xe.ab,e(4>=xe.ab),Se){case 0:case 1:le.b=ie(ae,3)+2,_e=Wr(Ye(le.Ea,le.b),Ye(le.nc,le.b),0,xe,le.K),le.K=le.K[0];break;case 3:var Ne,Ee=ie(ae,8)+1,He=16<Ee?0:4<Ee?1:2<Ee?2:3;if(ve[0]=Ye(le.Ea,He),le.b=He,Ne=_e=Wr(Ee,1,0,xe,le.K)){var je,rt=Ee,ze=le,Ft=1<<(8>>ze.b),Vt=o(Ft);if(Vt==null)Ne=0;else{var Lt=ze.K[0],At=ze.w;for(Vt[0]=ze.K[0][0],je=1;je<1*rt;++je)Vt[je]=Re(Lt[At+je],Vt[je-1]);for(;je<4*Ft;++je)Vt[je]=0;ze.K[0]=null,ze.K[0]=Vt,Ne=1}}_e=Ne;break;case 2:break;default:e(0)}V=_e}}if(B=B[0],U=U[0],V&&ie($,1)&&!(V=1<=(me=ie($,4))&&11>=me)){P.a=3;break e}var Wt;if(Wt=V)t:{var Ht,yt,Ln,Or=P,Cn=B,Mr=U,Bt=me,Xr=v,Jr=Or.m,zn=Or.s,Yn=[null],xr=1,mi=0,uo=H4[Bt];n:for(;;){if(Xr&&ie(Jr,1)){var Un=ie(Jr,3)+2,Bo=Ye(Cn,Un),Fa=Ye(Mr,Un),Rl=Bo*Fa;if(!Wr(Bo,Fa,0,Or,Yn))break n;for(Yn=Yn[0],zn.xc=Un,Ht=0;Ht<Rl;++Ht){var Ts=Yn[Ht]>>8&65535;Yn[Ht]=Ts,Ts>=xr&&(xr=Ts+1)}}if(Jr.h)break n;for(yt=0;5>yt;++yt){var gn=Sm[yt];!yt&&0<Bt&&(gn+=1<<Bt),mi<gn&&(mi=gn)}var mp=s(xr*uo,E),Dm=xr,Fm=s(Dm,Y);if(Fm==null)var Oh=null;else e(65536>=Dm),Oh=Fm;var Qu=o(mi);if(Oh==null||Qu==null||mp==null){Or.a=1;break n}var Mh=mp;for(Ht=Ln=0;Ht<xr;++Ht){var Fi=Oh[Ht],Dl=Fi.G,Fl=Fi.H,Om=0,jh=1,Mm=0;for(yt=0;5>yt;++yt){gn=Sm[yt],Dl[yt]=Mh,Fl[yt]=Ln,!yt&&0<Bt&&(gn+=1<<Bt);i:{var Vh,vp=gn,Bh=Or,Yu=Qu,h3=Mh,f3=Ln,yp=0,Is=Bh.m,d3=ie(Is,1);if(i(Yu,0,0,vp),d3){var p3=ie(Is,1)+1,g3=ie(Is,1),jm=ie(Is,g3==0?1:8);Yu[jm]=1,p3==2&&(Yu[jm=ie(Is,8)]=1);var zh=1}else{var Vm=o(19),Bm=ie(Is,4)+4;if(19<Bm){Bh.a=3;var Uh=0;break i}for(Vh=0;Vh<Bm;++Vh)Vm[U4[Vh]]=ie(Is,3);var wp=void 0,Xu=void 0,zm=Bh,m3=Vm,qh=vp,Um=Yu,_p=0,Ls=zm.m,qm=8,Hm=s(128,E);r:for(;S(Hm,0,7,m3,19);){if(ie(Ls,1)){var v3=2+2*ie(Ls,3);if((wp=2+ie(Ls,v3))>qh)break r}else wp=qh;for(Xu=0;Xu<qh&&wp--;){ne(Ls);var $m=Hm[0+(127&q(Ls))];te(Ls,Ls.u+$m.g);var Ol=$m.value;if(16>Ol)Um[Xu++]=Ol,Ol!=0&&(qm=Ol);else{var y3=Ol==16,Wm=Ol-16,w3=B4[Wm],Gm=ie(Ls,V4[Wm])+w3;if(Xu+Gm>qh)break r;for(var _3=y3?qm:0;0<Gm--;)Um[Xu++]=_3}}_p=1;break r}_p||(zm.a=3),zh=_p}(zh=zh&&!Is.h)&&(yp=S(h3,f3,8,Yu,vp)),zh&&yp!=0?Uh=yp:(Bh.a=3,Uh=0)}if(Uh==0)break n;if(jh&&z4[yt]==1&&(jh=Mh[Ln].g==0),Om+=Mh[Ln].g,Ln+=Uh,3>=yt){var Ju,bp=Qu[0];for(Ju=1;Ju<gn;++Ju)Qu[Ju]>bp&&(bp=Qu[Ju]);Mm+=bp}}if(Fi.nd=jh,Fi.Qb=0,jh&&(Fi.qb=(Dl[3][Fl[3]+0].value<<24|Dl[1][Fl[1]+0].value<<16|Dl[2][Fl[2]+0].value)>>>0,Om==0&&256>Dl[0][Fl[0]+0].value&&(Fi.Qb=1,Fi.qb+=Dl[0][Fl[0]+0].value<<8)),Fi.jc=!Fi.Qb&&6>Mm,Fi.jc){var Hh,zo=Fi;for(Hh=0;Hh<Qn;++Hh){var Cs=Hh,ks=zo.pd[Cs],$h=zo.G[0][zo.H[0]+Cs];256<=$h.value?(ks.g=$h.g+256,ks.value=$h.value):(ks.g=0,ks.value=0,Cs>>=yn($h,8,ks),Cs>>=yn(zo.G[1][zo.H[1]+Cs],16,ks),Cs>>=yn(zo.G[2][zo.H[2]+Cs],0,ks),yn(zo.G[3][zo.H[3]+Cs],24,ks))}}}zn.vc=Yn,zn.Wb=xr,zn.Ya=Oh,zn.yc=mp,Wt=1;break t}Wt=0}if(!(V=Wt)){P.a=3;break e}if(0<me){if(X.ua=1<<me,!tt(X.Wa,me)){P.a=1,V=0;break e}}else X.ua=0;var Ap=P,Km=B,b3=U,Sp=Ap.s,Ep=Sp.xc;if(Ap.c=Km,Ap.i=b3,Sp.md=Ye(Km,Ep),Sp.wc=Ep==0?-1:(1<<Ep)-1,v){P.xb=J4;break e}if((se=o(B*U))==null){P.a=1,V=0;break e}V=(V=_r(P,se,0,B,U,U,null))&&!$.h;break e}return V?(j!=null?j[0]=se:(e(se==null),e(v)),P.$=0,v||br(X)):br(X),V}function Xi(u,f){var v=u.c*u.i,P=v+f+16*f;return e(u.c<=f),u.V=o(P),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+f,1)}function Ji(u,f){var v=u.C,P=f-v,j=u.V,V=u.Ba+u.c*v;for(e(f<=u.l.o);0<P;){var B=16<P?16:P,U=u.l.ma,$=u.l.width,X=$*B,se=U.ca,me=U.tb+$*v,ve=u.Ta,fe=u.Ua;In(u,B,j,V),bn(ve,fe,se,me,X),sr(U,v,v+B,se,me,$),P-=B,j+=B*u.c,v+=B}e(v==f),u.C=u.Ma=f}function Zi(){this.ub=this.yd=this.td=this.Rb=0}function Eo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function xo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function dl(){this.Yb=function(){var u=[];return function f(v,P,j){for(var V=j[P],B=0;B<V&&(v.push(j.length>P+1?[]:0),!(j.length<P+1));B++)f(v[B],P+1,j)}(u,0,[3,11]),u}()}function os(){this.jb=o(3),this.Wc=a([4,8],dl),this.Xc=a([4,17],dl)}function pl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function eo(){this.ld=this.La=this.dd=this.tc=0}function to(){this.Na=this.la=0}function Pi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Po(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fu(){this.uc=this.M=this.Nb=0,this.wa=Array(new eo),this.Y=0,this.ya=Array(new Po),this.aa=0,this.l=new No}function ma(){this.y=o(16),this.f=o(8),this.ea=o(8)}function gl(){this.cb=this.a=0,this.sc="",this.m=new pe,this.Od=new Zi,this.Kc=new Eo,this.ed=new pl,this.Qa=new xo,this.Ic=this.$c=this.Aa=0,this.D=new Fu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,pe),this.ia=0,this.pb=s(4,Pi),this.Pa=new os,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ma),this.Hd=0,this.rb=Array(new to),this.sb=0,this.wa=Array(new eo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Po),this.L=this.aa=0,this.gd=a([4,2],eo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function No(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function va(){var u=new gl;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Gu||(Gu=ml)),u}function en(u,f,v){return u.a==0&&(u.a=f,u.sc=v,u.cb=0),0}function ya(u,f,v){return 3<=v&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function wa(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return en(u,2,"null VP8Io passed to VP8GetHeaders()");var v=f.data,P=f.w,j=f.ha;if(4>j)return en(u,7,"Truncated header.");var V=v[P+0]|v[P+1]<<8|v[P+2]<<16,B=u.Od;if(B.Rb=!(1&V),B.td=V>>1&7,B.yd=V>>4&1,B.ub=V>>5,3<B.td)return en(u,3,"Incorrect keyframe parameters.");if(!B.yd)return en(u,4,"Frame not displayable.");P+=3,j-=3;var U=u.Kc;if(B.Rb){if(7>j)return en(u,7,"cannot parse picture header");if(!ya(v,P,j))return en(u,3,"Bad code word");U.c=16383&(v[P+4]<<8|v[P+3]),U.Td=v[P+4]>>6,U.i=16383&(v[P+6]<<8|v[P+5]),U.Ud=v[P+6]>>6,P+=7,j-=7,u.za=U.c+15>>4,u.Ub=U.i+15>>4,f.width=U.c,f.height=U.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((V=u.Pa).jb,0,255,V.jb.length),e((V=u.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,i(V.Zb,0,0,V.Zb.length),i(V.Lb,0,0,V.Lb)}if(B.ub>j)return en(u,7,"bad partition length");he(V=u.m,v,P,B.ub),P+=B.ub,j-=B.ub,B.Rb&&(U.Ld=ge(V),U.Kd=ge(V)),U=u.Qa;var $,X=u.Pa;if(e(V!=null),e(U!=null),U.Cb=ge(V),U.Cb){if(U.Bb=ge(V),ge(V)){for(U.Fb=ge(V),$=0;4>$;++$)U.Zb[$]=ge(V)?J(V,7):0;for($=0;4>$;++$)U.Lb[$]=ge(V)?J(V,6):0}if(U.Bb)for($=0;3>$;++$)X.jb[$]=ge(V)?Z(V,8):255}else U.Bb=0;if(V.Ka)return en(u,3,"cannot parse segment header");if((U=u.ed).zd=ge(V),U.Tb=Z(V,6),U.wb=Z(V,3),U.Pc=ge(V),U.Pc&&ge(V)){for(X=0;4>X;++X)ge(V)&&(U.vd[X]=J(V,6));for(X=0;4>X;++X)ge(V)&&(U.od[X]=J(V,6))}if(u.L=U.Tb==0?0:U.zd?1:2,V.Ka)return en(u,3,"cannot parse filter header");var se=j;if(j=$=P,P=$+se,U=se,u.Xb=(1<<Z(u.m,2))-1,se<3*(X=u.Xb))v=7;else{for($+=3*X,U-=3*X,se=0;se<X;++se){var me=v[j+0]|v[j+1]<<8|v[j+2]<<16;me>U&&(me=U),he(u.Jc[+se],v,$,me),$+=me,U-=me,j+=3}he(u.Jc[+X],v,$,U),v=$<P?0:5}if(v!=0)return en(u,v,"cannot parse partitions");for(v=Z($=u.m,7),j=ge($)?J($,4):0,P=ge($)?J($,4):0,U=ge($)?J($,4):0,X=ge($)?J($,4):0,$=ge($)?J($,4):0,se=u.Qa,me=0;4>me;++me){if(se.Cb){var ve=se.Zb[me];se.Fb||(ve+=v)}else{if(0<me){u.pb[me]=u.pb[0];continue}ve=v}var fe=u.pb[me];fe.Sc[0]=dp[Mt(ve+j,127)],fe.Sc[1]=pp[Mt(ve+0,127)],fe.Eb[0]=2*dp[Mt(ve+P,127)],fe.Eb[1]=101581*pp[Mt(ve+U,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=dp[Mt(ve+X,117)],fe.Qc[1]=pp[Mt(ve+$,127)],fe.lc=ve+$}if(!B.Rb)return en(u,4,"Not a key frame.");for(ge(V),B=u.Pa,v=0;4>v;++v){for(j=0;8>j;++j)for(P=0;3>P;++P)for(U=0;11>U;++U)X=we(V,Y4[v][j][P][U])?Z(V,8):K4[v][j][P][U],B.Wc[v][j].Yb[P][U]=X;for(j=0;17>j;++j)B.Xc[v][j]=B.Wc[v][X4[j]]}return u.kc=ge(V),u.kc&&(u.Bd=Z(V,8)),u.cb=1}function ml(u,f,v,P,j,V,B){var U=f[j].Yb[v];for(v=0;16>j;++j){if(!we(u,U[v+0]))return j;for(;!we(u,U[v+1]);)if(U=f[++j].Yb[0],v=0,j==16)return 16;var $=f[j+1].Yb;if(we(u,U[v+2])){var X=u,se=0;if(we(X,(ve=U)[(me=v)+3]))if(we(X,ve[me+6])){for(U=0,me=2*(se=we(X,ve[me+8]))+(ve=we(X,ve[me+9+se])),se=0,ve=W4[me];ve[U];++U)se+=se+we(X,ve[U]);se+=3+(8<<me)}else we(X,ve[me+7])?(se=7+2*we(X,165),se+=we(X,145)):se=5+we(X,159);else se=we(X,ve[me+4])?3+we(X,ve[me+5]):2;U=$[2]}else se=1,U=$[1];$=B+G4[j],0>(X=u).b&&de(X);var me,ve=X.b,fe=(me=X.Ca>>1)-(X.I>>ve)>>31;--X.b,X.Ca+=fe,X.Ca|=1,X.I-=(me+1&fe)<<ve,V[$]=((se^fe)-fe)*P[(0<j)+0]}return 16}function _a(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function vl(u,f){if(u==null)return 0;if(f==null)return en(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!wa(u,f))return 0;if(e(u.cb),f.ac==null||f.ac(f)){f.ob&&(u.L=0);var v=Fh[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=f.v-v>>4,u.zb=f.j-v>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=f.o+15+v>>4,u.Hb=f.va+15+v>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var P=u.ed;for(v=0;4>v;++v){var j;if(u.Qa.Cb){var V=u.Qa.Lb[v];u.Qa.Fb||(V+=P.Tb)}else V=P.Tb;for(j=0;1>=j;++j){var B=u.gd[v][j],U=V;if(P.Pc&&(U+=P.vd[0],j&&(U+=P.od[0])),0<(U=0>U?0:63<U?63:U)){var $=U;0<P.wb&&($=4<P.wb?$>>2:$>>1)>9-P.wb&&($=9-P.wb),1>$&&($=1),B.dd=$,B.tc=2*U+$,B.ld=40<=U?2:15<=U?1:0}else B.tc=0;B.La=j}}}v=0}else en(u,6,"Frame setup failed"),v=u.a;if(v=v==0){if(v){u.$c=0,0<u.Aa||(u.Ic=c3);e:{v=u.Ic,P=4*($=u.za);var X=32*$,se=$+1,me=0<u.L?$*(0<u.Aa?2:1):0,ve=(u.Aa==2?2:1)*$;if((B=P+832+(j=3*(16*v+Fh[u.L])/2*X)+(V=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=B)v=0;else{if(B>u.Vb){if(u.Vb=0,u.Ec=o(B),u.Fc=0,u.Ec==null){v=en(u,1,"no memory during frame initialization.");break e}u.Vb=B}B=u.Ec,U=u.Fc,u.Ac=B,u.Bc=U,U+=P,u.Gd=s(X,ma),u.Hd=0,u.rb=s(se+1,to),u.sb=1,u.wa=me?s(me,eo):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=$),e(!0),u.oc=B,u.pc=U,U+=832,u.ya=s(ve,Po),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=$),u.R=16*$,u.B=8*$,$=(X=Fh[u.L])*u.R,X=X/2*u.B,u.sa=B,u.ta=U+$,u.qa=u.sa,u.ra=u.ta+16*v*u.R+X,u.Ha=u.qa,u.Ia=u.ra+8*v*u.B+X,u.$c=0,U+=j,u.mb=V?B:null,u.nb=V?U:null,e(U+V<=u.Fc+u.Vb),_a(u),i(u.Ac,u.Bc,0,P),v=1}}if(v){if(f.ka=0,f.y=u.sa,f.O=u.ta,f.f=u.qa,f.N=u.ra,f.ea=u.Ha,f.Vd=u.Ia,f.fa=u.R,f.Rc=u.B,f.F=null,f.J=0,!Ph){for(v=-255;255>=v;++v)On[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)jo[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Wu[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)kl[255+v]=0>v?0:255<v?255:v;Ph=1}Il=Lo,Mo=as,qu=ba,Er=jt,hi=Io,_n=To,Ll=ps,xh=Ci,Hu=ms,Ca=Ia,ka=gs,Es=ko,Ra=vs,Cl=oo,Da=Co,xs=Qr,$u=Fn,fi=Al,Di[0]=ui,Di[1]=Ou,Di[2]=ro,Di[3]=ju,Di[4]=_l,Di[5]=cs,Di[6]=Gr,Di[7]=Sa,Di[8]=fs,Di[9]=hs,Ps[0]=no,Ps[1]=Mu,Ps[2]=Ti,Ps[3]=ls,Ps[4]=tn,Ps[5]=wl,Ps[6]=Aa,Vo[0]=Li,Vo[1]=yl,Vo[2]=bl,Vo[3]=Ii,Vo[4]=Ot,Vo[5]=Ea,Vo[6]=xa,v=1}else v=0}v&&(v=function(fe,xe){for(fe.M=0;fe.M<fe.Va;++fe.M){var _e,ae=fe.Jc[fe.M&fe.Xb],le=fe.m,Se=fe;for(_e=0;_e<Se.za;++_e){var Ne=le,Ee=Se,He=Ee.Ac,je=Ee.Bc+4*_e,rt=Ee.zc,ze=Ee.ya[Ee.aa+_e];if(Ee.Qa.Bb?ze.$b=we(Ne,Ee.Pa.jb[0])?2+we(Ne,Ee.Pa.jb[2]):we(Ne,Ee.Pa.jb[1]):ze.$b=0,Ee.kc&&(ze.Ad=we(Ne,Ee.Bd)),ze.Za=!we(Ne,145)+0,ze.Za){var Ft=ze.Ob,Vt=0;for(Ee=0;4>Ee;++Ee){var Lt,At=rt[0+Ee];for(Lt=0;4>Lt;++Lt){At=Q4[He[je+Lt]][At];for(var Wt=Em[we(Ne,At[0])];0<Wt;)Wt=Em[2*Wt+we(Ne,At[Wt])];At=-Wt,He[je+Lt]=At}r(Ft,Vt,He,je,4),Vt+=4,rt[0+Ee]=At}}else At=we(Ne,156)?we(Ne,128)?1:3:we(Ne,163)?2:0,ze.Ob[0]=At,i(He,je,At,4),i(rt,0,At,4);ze.Dd=we(Ne,142)?we(Ne,114)?we(Ne,183)?1:3:2:0}if(Se.m.Ka)return en(fe,7,"Premature end-of-partition0 encountered.");for(;fe.ja<fe.za;++fe.ja){if(Se=ae,Ne=(le=fe).rb[le.sb-1],He=le.rb[le.sb+le.ja],_e=le.ya[le.aa+le.ja],je=le.kc?_e.Ad:0)Ne.la=He.la=0,_e.Za||(Ne.Na=He.Na=0),_e.Hc=0,_e.Gc=0,_e.ia=0;else{var Ht,yt;if(Ne=He,He=Se,je=le.Pa.Xc,rt=le.ya[le.aa+le.ja],ze=le.pb[rt.$b],Ee=rt.ad,Ft=0,Vt=le.rb[le.sb-1],At=Lt=0,i(Ee,Ft,0,384),rt.Za)var Ln=0,Or=je[3];else{Wt=o(16);var Cn=Ne.Na+Vt.Na;if(Cn=Gu(He,je[1],Cn,ze.Eb,0,Wt,0),Ne.Na=Vt.Na=(0<Cn)+0,1<Cn)Il(Wt,0,Ee,Ft);else{var Mr=Wt[0]+3>>3;for(Wt=0;256>Wt;Wt+=16)Ee[Ft+Wt]=Mr}Ln=1,Or=je[0]}var Bt=15&Ne.la,Xr=15&Vt.la;for(Wt=0;4>Wt;++Wt){var Jr=1&Xr;for(Mr=yt=0;4>Mr;++Mr)Bt=Bt>>1|(Jr=(Cn=Gu(He,Or,Cn=Jr+(1&Bt),ze.Sc,Ln,Ee,Ft))>Ln)<<7,yt=yt<<2|(3<Cn?3:1<Cn?2:Ee[Ft+0]!=0),Ft+=16;Bt>>=4,Xr=Xr>>1|Jr<<7,Lt=(Lt<<8|yt)>>>0}for(Or=Bt,Ln=Xr>>4,Ht=0;4>Ht;Ht+=2){for(yt=0,Bt=Ne.la>>4+Ht,Xr=Vt.la>>4+Ht,Wt=0;2>Wt;++Wt){for(Jr=1&Xr,Mr=0;2>Mr;++Mr)Cn=Jr+(1&Bt),Bt=Bt>>1|(Jr=0<(Cn=Gu(He,je[2],Cn,ze.Qc,0,Ee,Ft)))<<3,yt=yt<<2|(3<Cn?3:1<Cn?2:Ee[Ft+0]!=0),Ft+=16;Bt>>=2,Xr=Xr>>1|Jr<<5}At|=yt<<4*Ht,Or|=Bt<<4<<Ht,Ln|=(240&Xr)<<Ht}Ne.la=Or,Vt.la=Ln,rt.Hc=Lt,rt.Gc=At,rt.ia=43690&At?0:ze.ia,je=!(Lt|At)}if(0<le.L&&(le.wa[le.Y+le.ja]=le.gd[_e.$b][_e.Za],le.wa[le.Y+le.ja].La|=!je),Se.Ka)return en(fe,7,"Premature end-of-file encountered.")}if(_a(fe),le=xe,Se=1,_e=(ae=fe).D,Ne=0<ae.L&&ae.M>=ae.zb&&ae.M<=ae.Va,ae.Aa==0)e:{if(_e.M=ae.M,_e.uc=Ne,ao(ae,_e),Se=1,_e=(yt=ae.D).Nb,Ne=(At=Fh[ae.L])*ae.R,He=At/2*ae.B,Wt=16*_e*ae.R,Mr=8*_e*ae.B,je=ae.sa,rt=ae.ta-Ne+Wt,ze=ae.qa,Ee=ae.ra-He+Mr,Ft=ae.Ha,Vt=ae.Ia-He+Mr,Xr=(Bt=yt.M)==0,Lt=Bt>=ae.Va-1,ae.Aa==2&&ao(ae,yt),yt.uc)for(Jr=(Cn=ae).D.M,e(Cn.D.uc),yt=Cn.yb;yt<Cn.Hb;++yt){Ln=yt,Or=Jr;var zn=(Yn=(gn=Cn).D).Nb;Ht=gn.R;var Yn=Yn.wa[Yn.Y+Ln],xr=gn.sa,mi=gn.ta+16*zn*Ht+16*Ln,uo=Yn.dd,Un=Yn.tc;if(Un!=0)if(e(3<=Un),gn.L==1)0<Ln&&xs(xr,mi,Ht,Un+4),Yn.La&&fi(xr,mi,Ht,Un),0<Or&&Da(xr,mi,Ht,Un+4),Yn.La&&$u(xr,mi,Ht,Un);else{var Bo=gn.B,Fa=gn.qa,Rl=gn.ra+8*zn*Bo+8*Ln,Ts=gn.Ha,gn=gn.Ia+8*zn*Bo+8*Ln;zn=Yn.ld,0<Ln&&(xh(xr,mi,Ht,Un+4,uo,zn),Ca(Fa,Rl,Ts,gn,Bo,Un+4,uo,zn)),Yn.La&&(Es(xr,mi,Ht,Un,uo,zn),Cl(Fa,Rl,Ts,gn,Bo,Un,uo,zn)),0<Or&&(Ll(xr,mi,Ht,Un+4,uo,zn),Hu(Fa,Rl,Ts,gn,Bo,Un+4,uo,zn)),Yn.La&&(ka(xr,mi,Ht,Un,uo,zn),Ra(Fa,Rl,Ts,gn,Bo,Un,uo,zn))}}if(ae.ia&&alert("todo:DitherRow"),le.put!=null){if(yt=16*Bt,Bt=16*(Bt+1),Xr?(le.y=ae.sa,le.O=ae.ta+Wt,le.f=ae.qa,le.N=ae.ra+Mr,le.ea=ae.Ha,le.W=ae.Ia+Mr):(yt-=At,le.y=je,le.O=rt,le.f=ze,le.N=Ee,le.ea=Ft,le.W=Vt),Lt||(Bt-=At),Bt>le.o&&(Bt=le.o),le.F=null,le.J=null,ae.Fa!=null&&0<ae.Fa.length&&yt<Bt&&(le.J=bs(ae,le,yt,Bt-yt),le.F=ae.mb,le.F==null&&le.F.length==0)){Se=en(ae,3,"Could not decode alpha data.");break e}yt<le.j&&(At=le.j-yt,yt=le.j,e(!(1&At)),le.O+=ae.R*At,le.N+=ae.B*(At>>1),le.W+=ae.B*(At>>1),le.F!=null&&(le.J+=le.width*At)),yt<Bt&&(le.O+=le.v,le.N+=le.v>>1,le.W+=le.v>>1,le.F!=null&&(le.J+=le.v),le.ka=yt-le.j,le.U=le.va-le.v,le.T=Bt-yt,Se=le.put(le))}_e+1!=ae.Ic||Lt||(r(ae.sa,ae.ta-Ne,je,rt+16*ae.R,Ne),r(ae.qa,ae.ra-He,ze,Ee+8*ae.B,He),r(ae.Ha,ae.Ia-He,Ft,Vt+8*ae.B,He))}if(!Se)return en(fe,6,"Output aborted.")}return 1}(u,f)),f.bc!=null&&f.bc(f),v&=1}return v?(u.cb=0,v):0}function Rr(u,f,v,P,j){j=u[f+v+32*P]+(j>>3),u[f+v+32*P]=-256&j?0>j?0:255:j}function ss(u,f,v,P,j,V){Rr(u,f,0,v,P+j),Rr(u,f,1,v,P+V),Rr(u,f,2,v,P-V),Rr(u,f,3,v,P-j)}function pn(u){return(20091*u>>16)+u}function Ar(u,f,v,P){var j,V=0,B=o(16);for(j=0;4>j;++j){var U=u[f+0]+u[f+8],$=u[f+0]-u[f+8],X=(35468*u[f+4]>>16)-pn(u[f+12]),se=pn(u[f+4])+(35468*u[f+12]>>16);B[V+0]=U+se,B[V+1]=$+X,B[V+2]=$-X,B[V+3]=U-se,V+=4,f++}for(j=V=0;4>j;++j)U=(u=B[V+0]+4)+B[V+8],$=u-B[V+8],X=(35468*B[V+4]>>16)-pn(B[V+12]),Rr(v,P,0,0,U+(se=pn(B[V+4])+(35468*B[V+12]>>16))),Rr(v,P,1,0,$+X),Rr(v,P,2,0,$-X),Rr(v,P,3,0,U-se),V++,P+=32}function To(u,f,v,P){var j=u[f+0]+4,V=35468*u[f+4]>>16,B=pn(u[f+4]),U=35468*u[f+1]>>16;ss(v,P,0,j+B,u=pn(u[f+1]),U),ss(v,P,1,j+V,u,U),ss(v,P,2,j-V,u,U),ss(v,P,3,j-B,u,U)}function as(u,f,v,P,j){Ar(u,f,v,P),j&&Ar(u,f+16,v,P+4)}function ba(u,f,v,P){Mo(u,f+0,v,P,1),Mo(u,f+32,v,P+128,1)}function jt(u,f,v,P){var j;for(u=u[f+0]+4,j=0;4>j;++j)for(f=0;4>f;++f)Rr(v,P,f,j,u)}function Io(u,f,v,P){u[f+0]&&Er(u,f+0,v,P),u[f+16]&&Er(u,f+16,v,P+4),u[f+32]&&Er(u,f+32,v,P+128),u[f+48]&&Er(u,f+48,v,P+128+4)}function Lo(u,f,v,P){var j,V=o(16);for(j=0;4>j;++j){var B=u[f+0+j]+u[f+12+j],U=u[f+4+j]+u[f+8+j],$=u[f+4+j]-u[f+8+j],X=u[f+0+j]-u[f+12+j];V[0+j]=B+U,V[8+j]=B-U,V[4+j]=X+$,V[12+j]=X-$}for(j=0;4>j;++j)B=(u=V[0+4*j]+3)+V[3+4*j],U=V[1+4*j]+V[2+4*j],$=V[1+4*j]-V[2+4*j],X=u-V[3+4*j],v[P+0]=B+U>>3,v[P+16]=X+$>>3,v[P+32]=B-U>>3,v[P+48]=X-$>>3,P+=64}function Ni(u,f,v){var P,j=f-32,V=Yr,B=255-u[j-1];for(P=0;P<v;++P){var U,$=V,X=B+u[f-1];for(U=0;U<v;++U)u[f+U]=$[X+u[j+U]];f+=32}}function Ou(u,f){Ni(u,f,4)}function yl(u,f){Ni(u,f,8)}function Mu(u,f){Ni(u,f,16)}function Ti(u,f){var v;for(v=0;16>v;++v)r(u,f+32*v,u,f-32,16)}function ls(u,f){var v;for(v=16;0<v;--v)i(u,f,u[f-1],16),f+=32}function us(u,f,v){var P;for(P=0;16>P;++P)i(f,v+32*P,u,16)}function no(u,f){var v,P=16;for(v=0;16>v;++v)P+=u[f-1+32*v]+u[f+v-32];us(P>>5,u,f)}function tn(u,f){var v,P=8;for(v=0;16>v;++v)P+=u[f-1+32*v];us(P>>4,u,f)}function wl(u,f){var v,P=8;for(v=0;16>v;++v)P+=u[f+v-32];us(P>>4,u,f)}function Aa(u,f){us(128,u,f)}function ut(u,f,v){return u+2*f+v+2>>2}function ro(u,f){var v,P=f-32;for(P=new Uint8Array([ut(u[P-1],u[P+0],u[P+1]),ut(u[P+0],u[P+1],u[P+2]),ut(u[P+1],u[P+2],u[P+3]),ut(u[P+2],u[P+3],u[P+4])]),v=0;4>v;++v)r(u,f+32*v,P,0,P.length)}function ju(u,f){var v=u[f-1],P=u[f-1+32],j=u[f-1+64],V=u[f-1+96];Ce(u,f+0,16843009*ut(u[f-1-32],v,P)),Ce(u,f+32,16843009*ut(v,P,j)),Ce(u,f+64,16843009*ut(P,j,V)),Ce(u,f+96,16843009*ut(j,V,V))}function ui(u,f){var v,P=4;for(v=0;4>v;++v)P+=u[f+v-32]+u[f-1+32*v];for(P>>=3,v=0;4>v;++v)i(u,f+32*v,P,4)}function _l(u,f){var v=u[f-1+0],P=u[f-1+32],j=u[f-1+64],V=u[f-1-32],B=u[f+0-32],U=u[f+1-32],$=u[f+2-32],X=u[f+3-32];u[f+0+96]=ut(P,j,u[f-1+96]),u[f+1+96]=u[f+0+64]=ut(v,P,j),u[f+2+96]=u[f+1+64]=u[f+0+32]=ut(V,v,P),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=ut(B,V,v),u[f+3+64]=u[f+2+32]=u[f+1+0]=ut(U,B,V),u[f+3+32]=u[f+2+0]=ut($,U,B),u[f+3+0]=ut(X,$,U)}function Gr(u,f){var v=u[f+1-32],P=u[f+2-32],j=u[f+3-32],V=u[f+4-32],B=u[f+5-32],U=u[f+6-32],$=u[f+7-32];u[f+0+0]=ut(u[f+0-32],v,P),u[f+1+0]=u[f+0+32]=ut(v,P,j),u[f+2+0]=u[f+1+32]=u[f+0+64]=ut(P,j,V),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=ut(j,V,B),u[f+3+32]=u[f+2+64]=u[f+1+96]=ut(V,B,U),u[f+3+64]=u[f+2+96]=ut(B,U,$),u[f+3+96]=ut(U,$,$)}function cs(u,f){var v=u[f-1+0],P=u[f-1+32],j=u[f-1+64],V=u[f-1-32],B=u[f+0-32],U=u[f+1-32],$=u[f+2-32],X=u[f+3-32];u[f+0+0]=u[f+1+64]=V+B+1>>1,u[f+1+0]=u[f+2+64]=B+U+1>>1,u[f+2+0]=u[f+3+64]=U+$+1>>1,u[f+3+0]=$+X+1>>1,u[f+0+96]=ut(j,P,v),u[f+0+64]=ut(P,v,V),u[f+0+32]=u[f+1+96]=ut(v,V,B),u[f+1+32]=u[f+2+96]=ut(V,B,U),u[f+2+32]=u[f+3+96]=ut(B,U,$),u[f+3+32]=ut(U,$,X)}function Sa(u,f){var v=u[f+0-32],P=u[f+1-32],j=u[f+2-32],V=u[f+3-32],B=u[f+4-32],U=u[f+5-32],$=u[f+6-32],X=u[f+7-32];u[f+0+0]=v+P+1>>1,u[f+1+0]=u[f+0+64]=P+j+1>>1,u[f+2+0]=u[f+1+64]=j+V+1>>1,u[f+3+0]=u[f+2+64]=V+B+1>>1,u[f+0+32]=ut(v,P,j),u[f+1+32]=u[f+0+96]=ut(P,j,V),u[f+2+32]=u[f+1+96]=ut(j,V,B),u[f+3+32]=u[f+2+96]=ut(V,B,U),u[f+3+64]=ut(B,U,$),u[f+3+96]=ut(U,$,X)}function hs(u,f){var v=u[f-1+0],P=u[f-1+32],j=u[f-1+64],V=u[f-1+96];u[f+0+0]=v+P+1>>1,u[f+2+0]=u[f+0+32]=P+j+1>>1,u[f+2+32]=u[f+0+64]=j+V+1>>1,u[f+1+0]=ut(v,P,j),u[f+3+0]=u[f+1+32]=ut(P,j,V),u[f+3+32]=u[f+1+64]=ut(j,V,V),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=V}function fs(u,f){var v=u[f-1+0],P=u[f-1+32],j=u[f-1+64],V=u[f-1+96],B=u[f-1-32],U=u[f+0-32],$=u[f+1-32],X=u[f+2-32];u[f+0+0]=u[f+2+32]=v+B+1>>1,u[f+0+32]=u[f+2+64]=P+v+1>>1,u[f+0+64]=u[f+2+96]=j+P+1>>1,u[f+0+96]=V+j+1>>1,u[f+3+0]=ut(U,$,X),u[f+2+0]=ut(B,U,$),u[f+1+0]=u[f+3+32]=ut(v,B,U),u[f+1+32]=u[f+3+64]=ut(P,v,B),u[f+1+64]=u[f+3+96]=ut(j,P,v),u[f+1+96]=ut(V,j,P)}function bl(u,f){var v;for(v=0;8>v;++v)r(u,f+32*v,u,f-32,8)}function Ii(u,f){var v;for(v=0;8>v;++v)i(u,f,u[f-1],8),f+=32}function Kr(u,f,v){var P;for(P=0;8>P;++P)i(f,v+32*P,u,8)}function Li(u,f){var v,P=8;for(v=0;8>v;++v)P+=u[f+v-32]+u[f-1+32*v];Kr(P>>4,u,f)}function Ea(u,f){var v,P=4;for(v=0;8>v;++v)P+=u[f+v-32];Kr(P>>3,u,f)}function Ot(u,f){var v,P=4;for(v=0;8>v;++v)P+=u[f-1+32*v];Kr(P>>3,u,f)}function xa(u,f){Kr(128,u,f)}function ds(u,f,v){var P=u[f-v],j=u[f+0],V=3*(j-P)+lp[1020+u[f-2*v]-u[f+v]],B=Nh[112+(V+4>>3)];u[f-v]=Yr[255+P+Nh[112+(V+3>>3)]],u[f+0]=Yr[255+j-B]}function Pa(u,f,v,P){var j=u[f+0],V=u[f+v];return pi[255+u[f-2*v]-u[f-v]]>P||pi[255+V-j]>P}function Na(u,f,v,P){return 4*pi[255+u[f-v]-u[f+0]]+pi[255+u[f-2*v]-u[f+v]]<=P}function Ta(u,f,v,P,j){var V=u[f-3*v],B=u[f-2*v],U=u[f-v],$=u[f+0],X=u[f+v],se=u[f+2*v],me=u[f+3*v];return 4*pi[255+U-$]+pi[255+B-X]>P?0:pi[255+u[f-4*v]-V]<=j&&pi[255+V-B]<=j&&pi[255+B-U]<=j&&pi[255+me-se]<=j&&pi[255+se-X]<=j&&pi[255+X-$]<=j}function Co(u,f,v,P){var j=2*P+1;for(P=0;16>P;++P)Na(u,f+P,v,j)&&ds(u,f+P,v)}function Qr(u,f,v,P){var j=2*P+1;for(P=0;16>P;++P)Na(u,f+P*v,1,j)&&ds(u,f+P*v,1)}function Fn(u,f,v,P){var j;for(j=3;0<j;--j)Co(u,f+=4*v,v,P)}function Al(u,f,v,P){var j;for(j=3;0<j;--j)Qr(u,f+=4,v,P)}function io(u,f,v,P,j,V,B,U){for(V=2*V+1;0<j--;){if(Ta(u,f,v,V,B))if(Pa(u,f,v,U))ds(u,f,v);else{var $=u,X=f,se=v,me=$[X-2*se],ve=$[X-se],fe=$[X+0],xe=$[X+se],_e=$[X+2*se],ae=27*(Se=lp[1020+3*(fe-ve)+lp[1020+me-xe]])+63>>7,le=18*Se+63>>7,Se=9*Se+63>>7;$[X-3*se]=Yr[255+$[X-3*se]+Se],$[X-2*se]=Yr[255+me+le],$[X-se]=Yr[255+ve+ae],$[X+0]=Yr[255+fe-ae],$[X+se]=Yr[255+xe-le],$[X+2*se]=Yr[255+_e-Se]}f+=P}}function Gn(u,f,v,P,j,V,B,U){for(V=2*V+1;0<j--;){if(Ta(u,f,v,V,B))if(Pa(u,f,v,U))ds(u,f,v);else{var $=u,X=f,se=v,me=$[X-se],ve=$[X+0],fe=$[X+se],xe=Nh[112+((_e=3*(ve-me))+4>>3)],_e=Nh[112+(_e+3>>3)],ae=xe+1>>1;$[X-2*se]=Yr[255+$[X-2*se]+ae],$[X-se]=Yr[255+me+_e],$[X+0]=Yr[255+ve-xe],$[X+se]=Yr[255+fe-ae]}f+=P}}function ps(u,f,v,P,j,V){io(u,f,v,1,16,P,j,V)}function Ci(u,f,v,P,j,V){io(u,f,1,v,16,P,j,V)}function gs(u,f,v,P,j,V){var B;for(B=3;0<B;--B)Gn(u,f+=4*v,v,1,16,P,j,V)}function ko(u,f,v,P,j,V){var B;for(B=3;0<B;--B)Gn(u,f+=4,1,v,16,P,j,V)}function ms(u,f,v,P,j,V,B,U){io(u,f,j,1,8,V,B,U),io(v,P,j,1,8,V,B,U)}function Ia(u,f,v,P,j,V,B,U){io(u,f,1,j,8,V,B,U),io(v,P,1,j,8,V,B,U)}function vs(u,f,v,P,j,V,B,U){Gn(u,f+4*j,j,1,8,V,B,U),Gn(v,P+4*j,j,1,8,V,B,U)}function oo(u,f,v,P,j,V,B,U){Gn(u,f+4,1,j,8,V,B,U),Gn(v,P+4,1,j,8,V,B,U)}function Ro(){this.ba=new Wn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ys(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Do(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ws(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new E}function Sl(){this.xb=this.a=0,this.l=new No,this.ca=new Wn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ws,this.ab=0,this.gc=s(4,Do),this.Oc=0}function ki(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new No,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function so(u,f,v,P,j,V,B){for(u=u==null?0:u[f+0],f=0;f<B;++f)j[V+f]=u+v[P+f]&255,u=j[V+f]}function _s(u,f,v,P,j,V,B){var U;if(u==null)so(null,null,v,P,j,V,B);else for(U=0;U<B;++U)j[V+U]=u[f+U]+v[P+U]&255}function ar(u,f,v,P,j,V,B){if(u==null)so(null,null,v,P,j,V,B);else{var U,$=u[f+0],X=$,se=$;for(U=0;U<B;++U)X=se+($=u[f+U])-X,se=v[P+U]+(-256&X?0>X?0:255:X)&255,X=$,j[V+U]=se}}function bs(u,f,v,P){var j=f.width,V=f.o;if(e(u!=null&&f!=null),0>v||0>=P||v+P>V)return null;if(!u.Cc){if(u.ga==null){var B;if(u.ga=new ki,(B=u.ga==null)||(B=f.width*f.o,e(u.Gb.length==0),u.Gb=o(B),u.Uc=0,u.Gb==null?B=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,B=1),B=!B),!B){B=u.ga;var U=u.Fa,$=u.P,X=u.qc,se=u.mb,me=u.nb,ve=$+1,fe=X-1,xe=B.l;if(e(U!=null&&se!=null&&f!=null),Ns[0]=null,Ns[1]=so,Ns[2]=_s,Ns[3]=ar,B.ca=se,B.tb=me,B.c=f.width,B.i=f.height,e(0<B.c&&0<B.i),1>=X)f=0;else if(B.$a=U[$+0]>>0&3,B.Z=U[$+0]>>2&3,B.Lc=U[$+0]>>4&3,$=U[$+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||$)f=0;else if(xe.put=ir,xe.ac=Nn,xe.bc=$r,xe.ma=B,xe.width=f.width,xe.height=f.height,xe.Da=f.Da,xe.v=f.v,xe.va=f.va,xe.j=f.j,xe.o=f.o,B.$a)e:{e(B.$a==1),f=wn();t:for(;;){if(f==null){f=0;break e}if(e(B!=null),B.mc=f,f.c=B.c,f.i=B.i,f.l=B.l,f.l.ma=B,f.l.width=B.c,f.l.height=B.i,f.a=0,W(f.m,U,ve,fe),!Wr(B.c,B.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&xi(f.s)?(B.ic=1,U=f.c*f.i,f.Ta=null,f.Ua=0,f.V=o(U),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(B.ic=0,f=Xi(f,B.c)),!f))break t;f=1;break e}B.mc=null,f=0}else f=fe>=B.c*B.i;B=!f}if(B)return null;u.ga.Lc!=1?u.Ga=0:P=V-v}e(u.ga!=null),e(v+P<=V);e:{if(f=(U=u.ga).c,V=U.l.o,U.$a==0){if(ve=u.rc,fe=u.Vc,xe=u.Fa,$=u.P+1+v*f,X=u.mb,se=u.nb+v*f,e($<=u.P+u.qc),U.Z!=0)for(e(Ns[U.Z]!=null),B=0;B<P;++B)Ns[U.Z](ve,fe,xe,$,X,se,f),ve=X,fe=se,se+=f,$+=f;else for(B=0;B<P;++B)r(X,se,xe,$,f),ve=X,fe=se,se+=f,$+=f;u.rc=ve,u.Vc=fe}else{if(e(U.mc!=null),f=v+P,e((B=U.mc)!=null),e(f<=B.i),B.C>=f)f=1;else if(U.ic||ce(),U.ic){U=B.V,ve=B.Ba,fe=B.c;var _e=B.i,ae=(xe=1,$=B.$/fe,X=B.$%fe,se=B.m,me=B.s,B.$),le=fe*_e,Se=fe*f,Ne=me.wc,Ee=ae<Se?dn(me,X,$):null;e(ae<=le),e(f<=_e),e(xi(me));t:for(;;){for(;!se.h&&ae<Se;){if(X&Ne||(Ee=dn(me,X,$)),e(Ee!=null),ne(se),256>(_e=Tn(Ee.G[0],Ee.H[0],se)))U[ve+ae]=_e,++ae,++X>=fe&&(X=0,++$<=f&&!($%16)&&kr(B,$));else{if(!(280>_e)){xe=0;break t}_e=Cr(_e-256,se);var He,je=Tn(Ee.G[4],Ee.H[4],se);if(ne(se),!(ae>=(je=or(fe,je=Cr(je,se)))&&le-ae>=_e)){xe=0;break t}for(He=0;He<_e;++He)U[ve+ae+He]=U[ve+ae+He-je];for(ae+=_e,X+=_e;X>=fe;)X-=fe,++$<=f&&!($%16)&&kr(B,$);ae<Se&&X&Ne&&(Ee=dn(me,X,$))}e(se.h==Q(se))}kr(B,$>f?f:$);break t}!xe||se.h&&ae<le?(xe=0,B.a=se.h?5:3):B.$=ae,f=xe}else f=_r(B,B.V,B.Ba,B.c,B.i,f,Ji);if(!f){P=0;break e}}v+P>=V&&(u.Cc=1),P=1}if(!P)return null;if(u.Cc&&((P=u.ga)!=null&&(P.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*j}function p(u,f,v,P,j,V){for(;0<j--;){var B,U=u,$=f+(v?1:0),X=u,se=f+(v?0:3);for(B=0;B<P;++B){var me=X[se+4*B];me!=255&&(me*=32897,U[$+4*B+0]=U[$+4*B+0]*me>>23,U[$+4*B+1]=U[$+4*B+1]*me>>23,U[$+4*B+2]=U[$+4*B+2]*me>>23)}f+=V}}function M(u,f,v,P,j){for(;0<P--;){var V;for(V=0;V<v;++V){var B=u[f+2*V+0],U=15&(X=u[f+2*V+1]),$=4369*U,X=(240&X|X>>4)*$>>16;u[f+2*V+0]=(240&B|B>>4)*$>>16&240|(15&B|B<<4)*$>>16>>4&15,u[f+2*V+1]=240&X|U}f+=j}}function ee(u,f,v,P,j,V,B,U){var $,X,se=255;for(X=0;X<j;++X){for($=0;$<P;++$){var me=u[f+$];V[B+4*$]=me,se&=me}f+=v,B+=U}return se!=255}function oe(u,f,v,P,j){var V;for(V=0;V<j;++V)v[P+V]=u[f+V]>>8}function ce(){di=p,Yt=M,Xt=ee,bn=oe}function be(u,f,v){A[u]=function(P,j,V,B,U,$,X,se,me,ve,fe,xe,_e,ae,le,Se,Ne){var Ee,He=Ne-1>>1,je=U[$+0]|X[se+0]<<16,rt=me[ve+0]|fe[xe+0]<<16;e(P!=null);var ze=3*je+rt+131074>>2;for(f(P[j+0],255&ze,ze>>16,_e,ae),V!=null&&(ze=3*rt+je+131074>>2,f(V[B+0],255&ze,ze>>16,le,Se)),Ee=1;Ee<=He;++Ee){var Ft=U[$+Ee]|X[se+Ee]<<16,Vt=me[ve+Ee]|fe[xe+Ee]<<16,Lt=je+Ft+rt+Vt+524296,At=Lt+2*(Ft+rt)>>3;ze=At+je>>1,je=(Lt=Lt+2*(je+Vt)>>3)+Ft>>1,f(P[j+2*Ee-1],255&ze,ze>>16,_e,ae+(2*Ee-1)*v),f(P[j+2*Ee-0],255&je,je>>16,_e,ae+(2*Ee-0)*v),V!=null&&(ze=Lt+rt>>1,je=At+Vt>>1,f(V[B+2*Ee-1],255&ze,ze>>16,le,Se+(2*Ee-1)*v),f(V[B+2*Ee+0],255&je,je>>16,le,Se+(2*Ee+0)*v)),je=Ft,rt=Vt}1&Ne||(ze=3*je+rt+131074>>2,f(P[j+Ne-1],255&ze,ze>>16,_e,ae+(Ne-1)*v),V!=null&&(ze=3*rt+je+131074>>2,f(V[B+Ne-1],255&ze,ze>>16,le,Se+(Ne-1)*v)))}}function Te(){gi[Th]=Z4,gi[Ih]=Pm,gi[bm]=e3,gi[Lh]=Nm,gi[Ch]=Tm,gi[up]=Im,gi[Am]=t3,gi[cp]=Pm,gi[hp]=Nm,gi[kh]=Tm,gi[fp]=Im}function Ve(u){return u&~n3?0>u?0:255:u>>Lm}function c(u,f){return Ve((19077*u>>8)+(26149*f>>8)-14234)}function w(u,f,v){return Ve((19077*u>>8)-(6419*f>>8)-(13320*v>>8)+8708)}function I(u,f){return Ve((19077*u>>8)+(33050*f>>8)-17685)}function z(u,f,v,P,j){P[j+0]=c(u,v),P[j+1]=w(u,f,v),P[j+2]=I(u,f)}function ue(u,f,v,P,j){P[j+0]=I(u,f),P[j+1]=w(u,f,v),P[j+2]=c(u,v)}function ye(u,f,v,P,j){var V=w(u,f,v);f=V<<3&224|I(u,f)>>3,P[j+0]=248&c(u,v)|V>>5,P[j+1]=f}function Ie(u,f,v,P,j){var V=240&I(u,f)|15;P[j+0]=240&c(u,v)|w(u,f,v)>>4,P[j+1]=V}function dt(u,f,v,P,j){P[j+0]=255,z(u,f,v,P,j+1)}function bt(u,f,v,P,j){ue(u,f,v,P,j),P[j+3]=255}function pt(u,f,v,P,j){z(u,f,v,P,j),P[j+3]=255}function Mt(u,f){return 0>u?0:u>f?f:u}function $t(u,f,v){A[u]=function(P,j,V,B,U,$,X,se,me){for(var ve=se+(-2&me)*v;se!=ve;)f(P[j+0],V[B+0],U[$+0],X,se),f(P[j+1],V[B+0],U[$+0],X,se+v),j+=2,++B,++$,se+=2*v;1&me&&f(P[j+0],V[B+0],U[$+0],X,se)}}function Ri(u,f,v){return v==0?u==0?f==0?6:5:f==0?4:0:v}function Kn(u,f,v,P,j){switch(u>>>30){case 3:Mo(f,v,P,j,0);break;case 2:_n(f,v,P,j);break;case 1:Er(f,v,P,j)}}function ao(u,f){var v,P,j=f.M,V=f.Nb,B=u.oc,U=u.pc+40,$=u.oc,X=u.pc+584,se=u.oc,me=u.pc+600;for(v=0;16>v;++v)B[U+32*v-1]=129;for(v=0;8>v;++v)$[X+32*v-1]=129,se[me+32*v-1]=129;for(0<j?B[U-1-32]=$[X-1-32]=se[me-1-32]=129:(i(B,U-32-1,127,21),i($,X-32-1,127,9),i(se,me-32-1,127,9)),P=0;P<u.za;++P){var ve=f.ya[f.aa+P];if(0<P){for(v=-1;16>v;++v)r(B,U+32*v-4,B,U+32*v+12,4);for(v=-1;8>v;++v)r($,X+32*v-4,$,X+32*v+4,4),r(se,me+32*v-4,se,me+32*v+4,4)}var fe=u.Gd,xe=u.Hd+P,_e=ve.ad,ae=ve.Hc;if(0<j&&(r(B,U-32,fe[xe].y,0,16),r($,X-32,fe[xe].f,0,8),r(se,me-32,fe[xe].ea,0,8)),ve.Za){var le=B,Se=U-32+16;for(0<j&&(P>=u.za-1?i(le,Se,fe[xe].y[15],4):r(le,Se,fe[xe+1].y,0,4)),v=0;4>v;v++)le[Se+128+v]=le[Se+256+v]=le[Se+384+v]=le[Se+0+v];for(v=0;16>v;++v,ae<<=2)le=B,Se=U+km[v],Di[ve.Ob[v]](le,Se),Kn(ae,_e,16*+v,le,Se)}else if(le=Ri(P,j,ve.Ob[0]),Ps[le](B,U),ae!=0)for(v=0;16>v;++v,ae<<=2)Kn(ae,_e,16*+v,B,U+km[v]);for(v=ve.Gc,le=Ri(P,j,ve.Dd),Vo[le]($,X),Vo[le](se,me),ae=_e,le=$,Se=X,255&(ve=v>>0)&&(170&ve?qu(ae,256,le,Se):hi(ae,256,le,Se)),ve=se,ae=me,255&(v>>=8)&&(170&v?qu(_e,320,ve,ae):hi(_e,320,ve,ae)),j<u.Ub-1&&(r(fe[xe].y,0,B,U+480,16),r(fe[xe].f,0,$,X+224,8),r(fe[xe].ea,0,se,me+224,8)),v=8*V*u.B,fe=u.sa,xe=u.ta+16*P+16*V*u.R,_e=u.qa,ve=u.ra+8*P+v,ae=u.Ha,le=u.Ia+8*P+v,v=0;16>v;++v)r(fe,xe+v*u.R,B,U+32*v,16);for(v=0;8>v;++v)r(_e,ve+v*u.B,$,X+32*v,8),r(ae,le+v*u.B,se,me+32*v,8)}}function lo(u,f,v,P,j,V,B,U,$){var X=[0],se=[0],me=0,ve=$!=null?$.kd:0,fe=$??new ys;if(u==null||12>v)return 7;fe.data=u,fe.w=f,fe.ha=v,f=[f],v=[v],fe.gb=[fe.gb];e:{var xe=f,_e=v,ae=fe.gb;if(e(u!=null),e(_e!=null),e(ae!=null),ae[0]=0,12<=_e[0]&&!n(u,xe[0],"RIFF")){if(n(u,xe[0]+8,"WEBP")){ae=3;break e}var le=Me(u,xe[0]+4);if(12>le||4294967286<le){ae=3;break e}if(ve&&le>_e[0]-8){ae=7;break e}ae[0]=le,xe[0]+=12,_e[0]-=12}ae=0}if(ae!=0)return ae;for(le=0<fe.gb[0],v=v[0];;){e:{var Se=u;_e=f,ae=v;var Ne=X,Ee=se,He=xe=[0];if((ze=me=[me])[0]=0,8>ae[0])ae=7;else{if(!n(Se,_e[0],"VP8X")){if(Me(Se,_e[0]+4)!=10){ae=3;break e}if(18>ae[0]){ae=7;break e}var je=Me(Se,_e[0]+8),rt=1+Oe(Se,_e[0]+12);if(2147483648<=rt*(Se=1+Oe(Se,_e[0]+15))){ae=3;break e}He!=null&&(He[0]=je),Ne!=null&&(Ne[0]=rt),Ee!=null&&(Ee[0]=Se),_e[0]+=18,ae[0]-=18,ze[0]=1}ae=0}}if(me=me[0],xe=xe[0],ae!=0)return ae;if(_e=!!(2&xe),!le&&me)return 3;if(V!=null&&(V[0]=!!(16&xe)),B!=null&&(B[0]=_e),U!=null&&(U[0]=0),B=X[0],xe=se[0],me&&_e&&$==null){ae=0;break}if(4>v){ae=7;break}if(le&&me||!le&&!me&&!n(u,f[0],"ALPH")){v=[v],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{je=u,ae=f,le=v;var ze=fe.gb;Ne=fe.na,Ee=fe.P,He=fe.Sa,rt=22,e(je!=null),e(le!=null),Se=ae[0];var Ft=le[0];for(e(Ne!=null),e(He!=null),Ne[0]=null,Ee[0]=null,He[0]=0;;){if(ae[0]=Se,le[0]=Ft,8>Ft){ae=7;break e}var Vt=Me(je,Se+4);if(4294967286<Vt){ae=3;break e}var Lt=8+Vt+1&-2;if(rt+=Lt,0<ze&&rt>ze){ae=3;break e}if(!n(je,Se,"VP8 ")||!n(je,Se,"VP8L")){ae=0;break e}if(Ft[0]<Lt){ae=7;break e}n(je,Se,"ALPH")||(Ne[0]=je,Ee[0]=Se+8,He[0]=Vt),Se+=Lt,Ft-=Lt}}if(v=v[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],ae!=0)break}v=[v],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(ze=u,ae=f,le=v,Ne=fe.gb[0],Ee=fe.Ja,He=fe.xa,je=ae[0],Se=!n(ze,je,"VP8 "),rt=!n(ze,je,"VP8L"),e(ze!=null),e(le!=null),e(Ee!=null),e(He!=null),8>le[0])ae=7;else{if(Se||rt){if(ze=Me(ze,je+4),12<=Ne&&ze>Ne-12){ae=3;break e}if(ve&&ze>le[0]-8){ae=7;break e}Ee[0]=ze,ae[0]+=8,le[0]-=8,He[0]=rt}else He[0]=5<=le[0]&&ze[je+0]==47&&!(ze[je+4]>>5),Ee[0]=le[0];ae=0}if(v=v[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],f=f[0],ae!=0)break;if(4294967286<fe.Ja)return 3;if(U==null||_e||(U[0]=fe.xa?2:1),B=[B],xe=[xe],fe.xa){if(5>v){ae=7;break}U=B,ve=xe,_e=V,u==null||5>v?u=0:5<=v&&u[f+0]==47&&!(u[f+4]>>5)?(le=[0],ze=[0],Ne=[0],W(Ee=new R,u,f,v),$e(Ee,le,ze,Ne)?(U!=null&&(U[0]=le[0]),ve!=null&&(ve[0]=ze[0]),_e!=null&&(_e[0]=Ne[0]),u=1):u=0):u=0}else{if(10>v){ae=7;break}U=xe,u==null||10>v||!ya(u,f+3,v-3)?u=0:(ve=u[f+0]|u[f+1]<<8|u[f+2]<<16,_e=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=fe.Ja||!_e||!u?u=0:(B&&(B[0]=_e),U&&(U[0]=u),u=1))}if(!u||(B=B[0],xe=xe[0],me&&(X[0]!=B||se[0]!=xe)))return 3;$!=null&&($[0]=fe,$.offset=f-$.w,e(4294967286>f-$.w),e($.offset==$.ha-v));break}return ae==0||ae==7&&me&&$==null?(V!=null&&(V[0]|=fe.na!=null&&0<fe.na.length),P!=null&&(P[0]=B),j!=null&&(j[0]=xe),0):ae}function Vu(u,f,v){var P=f.width,j=f.height,V=0,B=0,U=P,$=j;if(f.Da=u!=null&&0<u.Da,f.Da&&(U=u.cd,$=u.bd,V=u.v,B=u.j,11>v||(V&=-2,B&=-2),0>V||0>B||0>=U||0>=$||V+U>P||B+$>j))return 0;if(f.v=V,f.j=B,f.va=V+U,f.o=B+$,f.U=U,f.T=$,f.da=u!=null&&0<u.da,f.da){if(!ht(U,$,v=[u.ib],V=[u.hb]))return 0;f.ib=v[0],f.hb=V[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*P/4&&f.hb<3*j/4,f.Kb=0),1}function Bu(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function El(u,f,v,P){if(P==null||0>=u||0>=f)return 2;if(v!=null){if(v.Da){var j=v.cd,V=v.bd,B=-2&v.v,U=-2&v.j;if(0>B||0>U||0>=j||0>=V||B+j>u||U+V>f)return 2;u=j,f=V}if(v.da){if(!ht(u,f,j=[v.ib],V=[v.hb]))return 2;u=j[0],f=V[0]}}P.width=u,P.height=f;e:{var $=P.width,X=P.height;if(u=P.S,0>=$||0>=X||!(u>=Th&&13>u))u=2;else{if(0>=P.Rd&&P.sd==null){B=V=j=f=0;var se=(U=$*Rm[u])*X;if(11>u||(V=(X+1)/2*(f=($+1)/2),u==12&&(B=(j=$)*X)),(X=o(se+2*V+B))==null){u=1;break e}P.sd=X,11>u?(($=P.f.RGBA).eb=X,$.fb=0,$.A=U,$.size=se):(($=P.f.kb).y=X,$.O=0,$.fa=U,$.Fd=se,$.f=X,$.N=0+se,$.Ab=f,$.Cd=V,$.ea=X,$.W=0+se+V,$.Db=f,$.Ed=V,u==12&&($.F=X,$.J=0+se+2*V),$.Tc=B,$.lb=j)}if(f=1,j=P.S,V=P.width,B=P.height,j>=Th&&13>j)if(11>j)u=P.f.RGBA,f&=(U=Math.abs(u.A))*(B-1)+V<=u.size,f&=U>=V*Rm[j],f&=u.eb!=null;else{u=P.f.kb,U=(V+1)/2,se=(B+1)/2,$=Math.abs(u.fa),X=Math.abs(u.Ab);var me=Math.abs(u.Db),ve=Math.abs(u.lb),fe=ve*(B-1)+V;f&=$*(B-1)+V<=u.Fd,f&=X*(se-1)+U<=u.Cd,f=(f&=me*(se-1)+U<=u.Ed)&$>=V&X>=U&me>=U,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,j==12&&(f&=ve>=V,f&=fe<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||v!=null&&v.fd&&(u=Bu(P)),u}var Qn=64,xl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Pl=24,Nl=32,zu=8,Dr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(u){return u},A.Predictor2=function(u,f,v){return f[v+0]},A.Predictor3=function(u,f,v){return f[v+1]},A.Predictor4=function(u,f,v){return f[v-1]},A.Predictor5=function(u,f,v){return Be(Be(u,f[v+1]),f[v+0])},A.Predictor6=function(u,f,v){return Be(u,f[v-1])},A.Predictor7=function(u,f,v){return Be(u,f[v+0])},A.Predictor8=function(u,f,v){return Be(f[v-1],f[v+0])},A.Predictor9=function(u,f,v){return Be(f[v+0],f[v+1])},A.Predictor10=function(u,f,v){return Be(Be(u,f[v-1]),Be(f[v+0],f[v+1]))},A.Predictor11=function(u,f,v){var P=f[v+0];return 0>=ft(P>>24&255,u>>24&255,(f=f[v-1])>>24&255)+ft(P>>16&255,u>>16&255,f>>16&255)+ft(P>>8&255,u>>8&255,f>>8&255)+ft(255&P,255&u,255&f)?P:u},A.Predictor12=function(u,f,v){var P=f[v+0];return(Je((u>>24&255)+(P>>24&255)-((f=f[v-1])>>24&255))<<24|Je((u>>16&255)+(P>>16&255)-(f>>16&255))<<16|Je((u>>8&255)+(P>>8&255)-(f>>8&255))<<8|Je((255&u)+(255&P)-(255&f)))>>>0},A.Predictor13=function(u,f,v){var P=f[v-1];return(lt((u=Be(u,f[v+0]))>>24&255,P>>24&255)<<24|lt(u>>16&255,P>>16&255)<<16|lt(u>>8&255,P>>8&255)<<8|lt(u>>0&255,P>>0&255))>>>0};var ap=A.PredictorAdd0;A.PredictorAdd1=Ze,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var Uu=A.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Ah,ci=A.ColorIndexInverseTransform,Tl=A.MapARGB,Sh=A.VP8LColorIndexInverseTransformAlpha,Eh=A.MapAlpha,As=A.VP8LPredictorsAdd=[];As.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var La,Fr,Sr,Ss,Fo,Oo,Il,Mo,_n,qu,Er,hi,Ll,xh,Hu,Ca,ka,Es,Ra,Cl,Da,xs,$u,fi,di,Yt,Xt,bn,On=o(511),jo=o(2041),Wu=o(225),kl=o(767),Ph=0,lp=jo,Nh=Wu,Yr=kl,pi=On,Th=0,Ih=1,bm=2,Lh=3,Ch=4,up=5,Am=6,cp=7,hp=8,kh=9,fp=10,V4=[2,3,7],B4=[3,3,11],Sm=[280,256,256,256,40],z4=[0,1,1,1,0],U4=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],q4=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],H4=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$4=8,dp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],pp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Gu=null,W4=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],G4=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Em=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],K4=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Q4=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Y4=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],X4=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ps=[],Di=[],Vo=[],J4=1,xm=2,Ns=[],gi=[];be("UpsampleRgbLinePair",z,3),be("UpsampleBgrLinePair",ue,3),be("UpsampleRgbaLinePair",pt,4),be("UpsampleBgraLinePair",bt,4),be("UpsampleArgbLinePair",dt,4),be("UpsampleRgba4444LinePair",Ie,2),be("UpsampleRgb565LinePair",ye,2);var Z4=A.UpsampleRgbLinePair,e3=A.UpsampleBgrLinePair,Pm=A.UpsampleRgbaLinePair,Nm=A.UpsampleBgraLinePair,Tm=A.UpsampleArgbLinePair,Im=A.UpsampleRgba4444LinePair,t3=A.UpsampleRgb565LinePair,Rh=16,Dh=1<<Rh-1,Ku=-227,gp=482,Lm=6,n3=(256<<Lm)-1,Cm=0,r3=o(256),i3=o(256),o3=o(256),s3=o(256),a3=o(gp-Ku),l3=o(gp-Ku);$t("YuvToRgbRow",z,3),$t("YuvToBgrRow",ue,3),$t("YuvToRgbaRow",pt,4),$t("YuvToBgraRow",bt,4),$t("YuvToArgbRow",dt,4),$t("YuvToRgba4444Row",Ie,2),$t("YuvToRgb565Row",ye,2);var km=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fh=[0,2,8],u3=[8,7,6,4,4,2,2,2,1,1,1,1],c3=1;this.WebPDecodeRGBA=function(u,f,v,P,j){var V=Ih,B=new Ro,U=new Wn;B.ba=U,U.S=V,U.width=[U.width],U.height=[U.height];var $=U.width,X=U.height,se=new Hr;if(se==null||u==null)var me=2;else e(se!=null),me=lo(u,f,v,se.width,se.height,se.Pd,se.Qd,se.format,null);if(me!=0?$=0:($!=null&&($[0]=se.width[0]),X!=null&&(X[0]=se.height[0]),$=1),$){U.width=U.width[0],U.height=U.height[0],P!=null&&(P[0]=U.width),j!=null&&(j[0]=U.height);e:{if(P=new No,(j=new ys).data=u,j.w=f,j.ha=v,j.kd=1,f=[0],e(j!=null),((u=lo(j.data,j.w,j.ha,null,null,null,f,null,j))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(e(B!=null),P.data=j.data,P.w=j.w+j.offset,P.ha=j.ha-j.offset,P.put=ir,P.ac=Nn,P.bc=$r,P.ma=B,j.xa){if((u=wn())==null){B=1;break e}if(function(ve,fe){var xe=[0],_e=[0],ae=[0];t:for(;;){if(ve==null)return 0;if(fe==null)return ve.a=2,0;if(ve.l=fe,ve.a=0,W(ve.m,fe.data,fe.w,fe.ha),!$e(ve.m,xe,_e,ae)){ve.a=3;break t}if(ve.xb=xm,fe.width=xe[0],fe.height=_e[0],!Wr(xe[0],_e[0],1,ve,null))break t;return 1}return e(ve.a!=0),0}(u,P)){if(P=(f=El(P.width,P.height,B.Oa,B.ba))==0){t:{P=u;n:for(;;){if(P==null){P=0;break t}if(e(P.s.yc!=null),e(P.s.Ya!=null),e(0<P.s.Wb),e((v=P.l)!=null),e((j=v.ma)!=null),P.xb!=0){if(P.ca=j.ba,P.tb=j.tb,e(P.ca!=null),!Vu(j.Oa,v,Lh)){P.a=2;break n}if(!Xi(P,v.width)||v.da)break n;if((v.da||Pt(P.ca.S))&&ce(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&ce()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!tt(P.s.vb,P.s.Wa.Xa)){P.a=1;break n}P.xb=0}if(!_r(P,P.V,P.Ba,P.c,P.i,v.o,is))break n;j.Dc=P.Ma,P=1;break t}e(P.a!=0),P=0}P=!P}P&&(f=u.a)}else f=u.a}else{if((u=new va)==null){B=1;break e}if(u.Fa=j.na,u.P=j.P,u.qc=j.Sa,wa(u,P)){if((f=El(P.width,P.height,B.Oa,B.ba))==0){if(u.Aa=0,v=B.Oa,e((j=u)!=null),v!=null){if(0<($=0>($=v.Md)?0:100<$?255:255*$/100)){for(X=se=0;4>X;++X)12>(me=j.pb[X]).lc&&(me.ia=$*u3[0>me.lc?0:me.lc]>>3),se|=me.ia;se&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=v.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}vl(u,P)||(f=u.a)}}else f=u.a}f==0&&B.Oa!=null&&B.Oa.fd&&(f=Bu(B.ba))}B=f}V=B!=0?null:11>V?U.f.RGBA.eb:U.f.kb.y}else V=null;return V};var Rm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(A,k){for(var D="",S=0;S<4;S++)D+=String.fromCharCode(A[k++]);return D}function d(A,k){return(A[k+0]<<0|A[k+1]<<8|A[k+2]<<16)>>>0}function m(A,k){return(A[k+0]<<0|A[k+1]<<8|A[k+2]<<16|A[k+3]<<24)>>>0}new l;var y=[0],g=[0],N=[],L=new l,F=t,_=function(A,k){var D={},S=0,E=!1,C=0,Y=0;if(D.frames=[],!function(q,Q,te,ne){for(var de=0;de<ne;de++)if(q[Q+de]!=te.charCodeAt(de))return!0;return!1}(A,k,"RIFF",4)){var he,Z;for(m(A,k+=4),k+=8;k<A.length;){var J=h(A,k),W=m(A,k+=4);k+=4;var K=W+(1&W);switch(J){case"VP8 ":case"VP8L":D.frames[S]===void 0&&(D.frames[S]={}),(R=D.frames[S]).src_off=E?Y:k-8,R.src_size=C+W+8,S++,E&&(E=!1,C=0,Y=0);break;case"VP8X":(R=D.header={}).feature_flags=A[k];var ie=k+4;R.canvas_width=1+d(A,ie),ie+=3,R.canvas_height=1+d(A,ie),ie+=3;break;case"ALPH":E=!0,C=K+8,Y=k-8;break;case"ANIM":(R=D.header).bgcolor=m(A,k),ie=k+4,R.loop_count=(he=A)[(Z=ie)+0]<<0|he[Z+1]<<8,ie+=2;break;case"ANMF":var pe,R;(R=D.frames[S]={}).offset_x=2*d(A,k),k+=3,R.offset_y=2*d(A,k),k+=3,R.width=1+d(A,k),k+=3,R.height=1+d(A,k),k+=3,R.duration=d(A,k),k+=3,pe=A[k++],R.dispose=1&pe,R.blend=pe>>1&1}J!="ANMF"&&(k+=K)}return D}}(F,0);_.response=F,_.rgbaoutput=!0,_.dataurl=!1;var b=_.header?_.header:null,x=_.frames?_.frames:null;if(b){b.loop_counter=b.loop_count,y=[b.canvas_height],g=[b.canvas_width];for(var O=0;O<x.length&&x[O].blend!=0;O++);}var H=x[0],G=L.WebPDecodeRGBA(F,H.src_off,H.src_size,g,y);H.rgba=G,H.imgwidth=g[0],H.imgheight=y[0];for(var T=0;T<g[0]*y[0]*4;T++)N[T]=G[T];return this.width=g,this.height=y,this.data=N,this}(function(t){var e=function(){return typeof j0=="function"},n=function(y,g,N,L){var F=4,_=s;switch(L){case t.image_compression.FAST:F=1,_=o;break;case t.image_compression.MEDIUM:F=6,_=a;break;case t.image_compression.SLOW:F=9,_=l}y=r(y,g,N,_);var b=j0(y,{level:F});return t.__addimage__.arrayBufferToBinaryString(b)},r=function(y,g,N,L){for(var F,_,b,x=y.length/g,O=new Uint8Array(y.length+x),H=d(),G=0;G<x;G+=1){if(b=G*g,F=y.subarray(b,b+g),L)O.set(L(F,N,_),b+G);else{for(var T,A=H.length,k=[];T<A;T+=1)k[T]=H[T](F,N,_);var D=m(k.concat());O.set(k[D],b+G)}_=F}return O},i=function(y){var g=Array.apply([],y);return g.unshift(0),g},o=function(y,g){var N,L=[],F=y.length;L[0]=1;for(var _=0;_<F;_+=1)N=y[_-g]||0,L[_+1]=y[_]-N+256&255;return L},s=function(y,g,N){var L,F=[],_=y.length;F[0]=2;for(var b=0;b<_;b+=1)L=N&&N[b]||0,F[b+1]=y[b]-L+256&255;return F},a=function(y,g,N){var L,F,_=[],b=y.length;_[0]=3;for(var x=0;x<b;x+=1)L=y[x-g]||0,F=N&&N[x]||0,_[x+1]=y[x]+256-(L+F>>>1)&255;return _},l=function(y,g,N){var L,F,_,b,x=[],O=y.length;x[0]=4;for(var H=0;H<O;H+=1)L=y[H-g]||0,F=N&&N[H]||0,_=N&&N[H-g]||0,b=h(L,F,_),x[H+1]=y[H]-b+256&255;return x},h=function(y,g,N){if(y===g&&g===N)return y;var L=Math.abs(g-N),F=Math.abs(y-N),_=Math.abs(y+g-N-N);return L<=F&&L<=_?y:F<=_?g:N},d=function(){return[i,o,s,a,l]},m=function(y){var g=y.map(function(N){return N.reduce(function(L,F){return L+Math.abs(F)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(y,g,N,L){var F,_,b,x,O,H,G,T,A,k,D,S,E,C,Y,he=this.decode.FLATE_DECODE,Z="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(b=new bT(y)).imgData,_=b.bits,F=b.colorSpace,O=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){A=(T=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,D=new Uint8Array(A*b.colors),k=new Uint8Array(A);var J,W=b.pixelBitlength-b.bits;for(C=0,Y=0;C<A;C++){for(E=T[C],J=0;J<W;)D[Y++]=E>>>J&255,J+=b.bits;k[C]=E>>>J&255}}if(b.bits===16){A=(T=new Uint32Array(b.decodePixels().buffer)).length,D=new Uint8Array(A*(32/b.pixelBitlength)*b.colors),k=new Uint8Array(A*(32/b.pixelBitlength)),S=b.colors>1,C=0,Y=0;for(var K=0;C<A;)E=T[C++],D[Y++]=E>>>0&255,S&&(D[Y++]=E>>>16&255,E=T[C++],D[Y++]=E>>>0&255),k[K++]=E>>>16&255;_=8}L!==t.image_compression.NONE&&e()?(y=n(D,b.width*b.colors,b.colors,L),G=n(k,b.width,1,L)):(y=D,G=k,he=void 0)}if(b.colorType===3&&(F=this.color_spaces.INDEXED,H=b.palette,b.transparency.indexed)){var ie=b.transparency.indexed,pe=0;for(C=0,A=ie.length;C<A;++C)pe+=ie[C];if((pe/=255)===A-1&&ie.indexOf(0)!==-1)x=[ie.indexOf(0)];else if(pe!==A){for(T=b.decodePixels(),k=new Uint8Array(T.length),C=0,A=T.length;C<A;C++)k[C]=ie[T[C]];G=n(k,b.width,1)}}var R=function(q){var Q;switch(q){case t.image_compression.FAST:Q=11;break;case t.image_compression.MEDIUM:Q=13;break;case t.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(L);return he===this.decode.FLATE_DECODE&&(Z="/Predictor "+R+" "),Z+="/Colors "+O+" /BitsPerComponent "+_+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(G&&this.__addimage__.isArrayBuffer(G)||this.__addimage__.isArrayBufferView(G))&&(G=this.__addimage__.arrayBufferToBinaryString(G)),{alias:N,data:y,index:g,filter:he,decodeParameters:Z,transparency:x,palette:H,sMask:G,predictor:R,width:b.width,height:b.height,bitsPerComponent:_,colorSpace:F}}}})(it.API),function(t){t.processGIF89A=function(e,n,r,i){var o=new AT(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var h={data:l,width:s,height:a},d=new p1(100).encode(h,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A}(it.API),ji.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ji.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Gt.log("bit decode error:"+n)}},ji.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},ji.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,h=this.palette[a];if(this.data[s]=h.blue,this.data[s+1]=h.green,this.data[s+2]=h.red,this.data[s+3]=255,2*i+1>=this.width)break;h=this.palette[l],this.data[s+4]=h.blue,this.data[s+4+1]=h.green,this.data[s+4+2]=h.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},ji.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},ji.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,h=o>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=h}this.pos+=t}},ji.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,h=(s>>11)/e*255|0,d=i*this.width*4+4*o;this.data[d]=h,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},ji.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},ji.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},ji.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var o=new ji(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},h=new p1(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(it.API),Av.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var o=new Av(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},h=new p1(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(it.API),it.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,h=0;h<i;h+=4){var d=r[h],m=r[h+1],y=r[h+2],g=r[h+3];o[a++]=d,o[a++]=m,o[a++]=y,s[l++]=g}var N=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:N,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},it.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vl=it.API,_f=Vl.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=h.fof?h.fof:1,m=e.doKerning!==!1,y=0,g=t.length,N=0,L=a[0]||l,F=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?F.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(y=m&&zt(h[r])==="object"&&!isNaN(parseInt(h[r][N],10))?h[r][N]/d:0,F.push((a[r]||L)/l+y)),N=r;return F},yv=Vl.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Vl.processArabic&&(t=Vl.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:_f.apply(this,arguments).reduce(function(o,s){return o+s},0)},wv=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},_v=function(t,e,n){n||(n={});var r,i,o,s,a,l,h,d=[],m=[d],y=n.textIndent||0,g=0,N=0,L=t.split(" "),F=_f.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?L[0].length+2:n.lineIndent||0){var _=Array(l).join(" "),b=[];L.map(function(O){(O=O.split(/\s*\n/)).length>1?b=b.concat(O.map(function(H,G){return(G&&H.length?`
`:"")+H})):b.push(O[0])}),L=b,l=yv.apply(this,[_,n])}for(o=0,s=L.length;o<s;o++){var x=0;if(r=L[o],l&&r[0]==`
`&&(r=r.substr(1),x=1),y+g+(N=(i=_f.apply(this,[r,n])).reduce(function(O,H){return O+H},0))>e||x){if(N>e){for(a=wv.apply(this,[r,i,e-(y+g),e]),d.push(a.shift()),d=[a.pop()];a.length;)m.push([a.shift()]);N=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(O,H){return O+H},0)}else d=[r];m.push(d),y=N+l,g=F}else d.push(r),y+=g+N,g=F}return h=l?function(O,H){return(H?_:"")+O.join(" ")}:function(O){return O.join(" ")},m.map(h)},Vl.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,l,h=[];for(a=0,l=r.length;a<l;a++)h=h.concat(_v.apply(this,[r[a],s,o]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},s=t.__fontmetrics__.compress=function(m){var y,g,N,L,F=["{"];for(var _ in m){if(y=m[_],isNaN(parseInt(_,10))?g="'"+_+"'":(_=parseInt(_,10),g=(g=o(_).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof y=="number")y<0?(N=o(y).slice(3),L="-"):(N=o(y).slice(2),L=""),N=L+N.slice(0,-1)+r[N.slice(-1)];else{if(zt(y)!=="object")throw new Error("Don't know what to do with value type "+zt(y)+".");N=s(y)}F.push(g+N)}return F.push("}"),F.join("")},a=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,g,N,L,F={},_=1,b=F,x=[],O="",H="",G=m.length-1,T=1;T<G;T+=1)(L=m[T])=="'"?y?(N=y.join(""),y=void 0):y=[]:y?y.push(L):L=="{"?(x.push([b,N]),b={},N=void 0):L=="}"?((g=x.pop())[0][g[1]]=b,N=void 0,b=g[0]):L=="-"?_=-1:N===void 0?n.hasOwnProperty(L)?(O+=n[L],N=parseInt(O,16)*_,_=1,O=""):O+=L:n.hasOwnProperty(L)?(H+=n[L],b[N]=parseInt(H,16)*_,_=1,N=void 0,H=""):H+=L;return F},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var y=m.font,g=d.Unicode[y.postScriptName];g&&(y.metadata.Unicode={},y.metadata.Unicode.widths=g.widths,y.metadata.Unicode.kerning=g.kerning);var N=h.Unicode[y.postScriptName];N&&(y.metadata.Unicode.encoding=N,y.encoding=N.codePages[0])}])}(it.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Lc(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(it),function(t){function e(){return(at.canvg?Promise.resolve(at.canvg):R0(()=>import("./index.es-Cvg-aSTJ.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}it.API.addSvgAsImage=function(n,r,i,o,s,a,l,h){if(isNaN(r)||isNaN(i))throw Gt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw Gt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=o,d.height=s;var m=d.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,d.width,d.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(N){return N.fromString(m,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(y)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),r,i,o,s,l,h)})}}(),it.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},it.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],h=0,d=0,m=0;function y(N,L){var F,_=!1;for(F=0;F<N.length;F+=1)N[F]===L&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(m=0;m<g;m+=1)n[a[m]].value=n[a[m]].defaultValue,n[a[m]].explicitSet=!1}if(zt(t)==="object"){for(i in t)if(o=t[i],y(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&y(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(h=0;h<o.length;h+=1)if(r=!0,o[h].length===1&&typeof o[h][0]=="number")l.push(String(o[h]-1));else if(o[h].length>1){for(d=0;d<o[h].length;d+=1)typeof o[h][d]!="number"&&(r=!1);r===!0&&l.push([o[h][0]-1,o[h][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,L=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?L.push("/"+N+" /"+n[N].value):L.push("/"+N+" "+n[N].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),h=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(it.API),function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,h=["","0","00","000","0000"],d=[""],m=0,y=o.length;m<y;++m){if(a=s.metadata.characterToGlyph(o.charCodeAt(m)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(m),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(h[4-a.length],a)}return d.join("")},r=function(o){var s,a,l,h,d,m,y;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,y=(a=Object.keys(o).sort(function(g,N){return g-N})).length;m<y;m++)s=a[m],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(h=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+h+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,h=s.newObject,d=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var m=a.metadata.Unicode.widths,y=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",N=0;N<y.length;N++)g+=String.fromCharCode(y[N]);var L=h();d({data:g,addLength1:!0,objectId:L}),l("endobj");var F=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:F}),l("endobj");var _=h();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Hl(a.fontName)),l("/FontFile2 "+L+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=h();l("<<"),l("/Type /Font"),l("/BaseFont /"+Hl(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=h(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+F+" 0 R"),l("/BaseFont /"+Hl(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,h=s.newObject,d=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var m=a.metadata.rawData,y="",g=0;g<m.length;g++)y+=String.fromCharCode(m[g]);var N=h();d({data:y,addLength1:!0,objectId:N}),l("endobj");var L=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:L}),l("endobj");var F=h();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+N+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Hl(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=h();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+Hl(a.fontName)+"/FontDescriptor "+F+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,h=o.y,d=o.options||{},m=o.mutex||{},y=m.pdfEscape,g=m.activeFontKey,N=m.fonts,L=g,F="",_=0,b="",x=N[L].encoding;if(N[L].encoding!=="Identity-H")return{text:a,x:l,y:h,options:d,mutex:m};for(b=a,L=g,Array.isArray(a)&&(b=a[0]),_=0;_<b.length;_+=1)N[L].metadata.hasOwnProperty("cmap")&&(s=N[L].metadata.cmap.unicode.codeMap[b[_].charCodeAt(0)]),s||b[_].charCodeAt(0)<256&&N[L].metadata.hasOwnProperty("Unicode")?F+=b[_]:F+="";var O="";return parseInt(L.slice(1))<14||x==="WinAnsiEncoding"?O=y(F,L).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(O=n(F,N[L])),m.isHex=!0,{text:O,x:l,y:h,options:d,mutex:m}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var h=0;for(h=0;h<s.length;h+=1)Array.isArray(s[h])&&s[h].length===3?a.push([i(Object.assign({},l,{text:s[h][0]})).text,s[h][1],s[h][2]]):a.push(i(Object.assign({},l,{text:s[h]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(it),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(it.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,l,h,d,m=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},F=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,x=0;this.__bidiEngine__={};var O=function(S){var E=S.charCodeAt(),C=E>>8,Y=L[C];return Y!==void 0?m[256*Y+(255&E)]:C===252||C===253?"AL":_.test(C)?"L":C===8?"R":"N"},H=function(S){for(var E,C=0;C<S.length;C++){if((E=O(S.charAt(C)))==="L")return!1;if(E==="R")return!0}return!1},G=function(S,E,C,Y){var he,Z,J,W,K=E[Y];switch(K){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(K="AN");break;case"AL":b=!0,K="R";break;case"WS":K="N";break;case"CS":Y<1||Y+1>=E.length||(he=C[Y-1])!=="EN"&&he!=="AN"||(Z=E[Y+1])!=="EN"&&Z!=="AN"?K="N":b&&(Z="AN"),K=Z===he?Z:"N";break;case"ES":K=(he=Y>0?C[Y-1]:"B")==="EN"&&Y+1<E.length&&E[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&C[Y-1]==="EN"){K="EN";break}if(b){K="N";break}for(J=Y+1,W=E.length;J<W&&E[J]==="ET";)J++;K=J<W&&E[J]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(W=E.length,J=Y+1;J<W&&E[J]==="NSM";)J++;if(J<W){var ie=S[Y],pe=ie>=1425&&ie<=2303||ie===64286;if(he=E[J],pe&&(he==="R"||he==="AL")){K="R";break}}}K=Y<1||(he=E[Y-1])==="B"?"N":C[Y-1];break;case"B":b=!1,i=!0,K=x;break;case"S":o=!0,K="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":K="N"}return K},T=function(S,E,C){var Y=S.split("");return C&&A(Y,C,{hiLevel:x}),Y.reverse(),E&&E.reverse(),Y.join("")},A=function(S,E,C){var Y,he,Z,J,W,K=-1,ie=S.length,pe=0,R=[],q=x?g:y,Q=[];for(b=!1,i=!1,o=!1,he=0;he<ie;he++)Q[he]=O(S[he]);for(Z=0;Z<ie;Z++){if(W=pe,R[Z]=G(S,Q,R,Z),Y=240&(pe=q[W][N[R[Z]]]),pe&=15,E[Z]=J=q[pe][5],Y>0)if(Y===16){for(he=K;he<Z;he++)E[he]=1;K=-1}else K=-1;if(q[pe][6])K===-1&&(K=Z);else if(K>-1){for(he=K;he<Z;he++)E[he]=J;K=-1}Q[Z]==="B"&&(E[Z]=0),C.hiLevel|=J}o&&function(te,ne,de){for(var ge=0;ge<de;ge++)if(te[ge]==="S"){ne[ge]=x;for(var we=ge-1;we>=0&&te[we]==="WS";we--)ne[we]=x}}(Q,E,ie)},k=function(S,E,C,Y,he){if(!(he.hiLevel<S)){if(S===1&&x===1&&!i)return E.reverse(),void(C&&C.reverse());for(var Z,J,W,K,ie=E.length,pe=0;pe<ie;){if(Y[pe]>=S){for(W=pe+1;W<ie&&Y[W]>=S;)W++;for(K=pe,J=W-1;K<J;K++,J--)Z=E[K],E[K]=E[J],E[J]=Z,C&&(Z=C[K],C[K]=C[J],C[J]=Z);pe=W}pe++}}},D=function(S,E,C){var Y=S.split(""),he={hiLevel:x};return C||(C=[]),A(Y,C,he),function(Z,J,W){if(W.hiLevel!==0&&d)for(var K,ie=0;ie<Z.length;ie++)J[ie]===1&&(K=F.indexOf(Z[ie]))>=0&&(Z[ie]=F[K+1])}(Y,C,he),k(2,Y,E,C,he),k(1,Y,E,C,he),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(S,E,C){if(function(he,Z){if(Z)for(var J=0;J<he.length;J++)Z[J]=J;a===void 0&&(a=H(he)),h===void 0&&(h=H(he))}(S,E),s||!l||h)if(s&&l&&a^h)x=a?1:0,S=T(S,E,C);else if(!s&&l&&h)x=a?1:0,S=D(S,E,C),S=T(S,E);else if(!s||a||l||h){if(s&&!l&&a^h)S=T(S,E),a?(x=0,S=D(S,E,C)):(x=1,S=D(S,E,C),S=T(S,E));else if(s&&a&&!l&&h)x=1,S=D(S,E,C),S=T(S,E);else if(!s&&!l&&a^h){var Y=d;a?(x=1,S=D(S,E,C),x=0,d=!1,S=D(S,E,C),d=Y):(x=0,S=D(S,E,C),S=T(S,E),x=1,d=!1,S=D(S,E,C),d=Y,S=T(S,E))}}else x=0,S=D(S,E,C);else x=a?1:0,S=D(S,E,C);return S},this.__bidiEngine__.setOptions=function(S){S&&(s=S.isInputVisual,l=S.isOutputVisual,a=S.isInputRtl,h=S.isOutputRtl,d=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,o=(r.x,r.y,r.options||{}),s=(r.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(it),it.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new ha(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new MT(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ST(this.contents),this.head=new xT(this),this.name=new LT(this),this.cmap=new O4(this),this.toUnicode={},this.hhea=new PT(this),this.maxp=new CT(this),this.hmtx=new kT(this),this.post=new TT(this),this.os2=new NT(this),this.loca=new OT(this),this.glyf=new RT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,h;for(h=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Qi,ha=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(this.writeByte(n));return o},t}(),ST=function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,o,s,a,l,h,d,m,y,g,N,L;for(L in g=Object.keys(n).length,l=Math.log(2),m=16*Math.floor(Math.log(g)/l),s=Math.floor(m/l),d=16*g-m,(i=new ha).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(s),i.writeShort(d),o=16*g,h=i.pos+o,a=null,N=[],n)for(y=n[L],i.writeString(L),i.writeInt(t(y)),i.writeInt(h),i.writeInt(y.length),N=N.concat(y),L==="head"&&(a=h),h+=y.length;h%4;)N.push(0),h++;return i.write(N),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=M4.call(n);n.length%4;)n.push(0);for(o=new ha(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),ET={}.hasOwnProperty,So=function(t,e){for(var n in e)ET.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Qi=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var xT=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,Qi),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new ha).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Sv=function(){function t(e,n){var r,i,o,s,a,l,h,d,m,y,g,N,L,F,_,b,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),y=g/2,e.pos+=6,o=function(){var O,H;for(H=[],l=O=0;0<=y?O<y:O>y;l=0<=y?++O:--O)H.push(e.readUInt16());return H}(),e.pos+=2,L=function(){var O,H;for(H=[],l=O=0;0<=y?O<y:O>y;l=0<=y?++O:--O)H.push(e.readUInt16());return H}(),h=function(){var O,H;for(H=[],l=O=0;0<=y?O<y:O>y;l=0<=y?++O:--O)H.push(e.readUInt16());return H}(),d=function(){var O,H;for(H=[],l=O=0;0<=y?O<y:O>y;l=0<=y?++O:--O)H.push(e.readUInt16());return H}(),i=(this.length-e.pos+this.offset)/2,a=function(){var O,H;for(H=[],l=O=0;0<=i?O<i:O>i;l=0<=i?++O:--O)H.push(e.readUInt16());return H}(),l=_=0,x=o.length;_<x;l=++_)for(F=o[l],r=b=N=L[l];N<=F?b<=F:b>=F;r=N<=F?++b:--b)d[l]===0?s=r+h[l]:(s=a[d[l]/2+(r-N)-(y-l)]||0)!==0&&(s+=h[l]),this.codeMap[r]=65535&s}e.pos=m}return t.encode=function(e,n){var r,i,o,s,a,l,h,d,m,y,g,N,L,F,_,b,x,O,H,G,T,A,k,D,S,E,C,Y,he,Z,J,W,K,ie,pe,R,q,Q,te,ne,de,ge,we,Ce,Le,Oe;switch(Y=new ha,s=Object.keys(e).sort(function(Me,tt){return Me-tt}),n){case"macroman":for(L=0,F=function(){var Me=[];for(N=0;N<256;++N)Me.push(0);return Me}(),b={0:0},o={},he=0,K=s.length;he<K;he++)b[we=e[i=s[he]]]==null&&(b[we]=++L),o[i]={old:e[i],new:b[e[i]]},F[i]=b[e[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(F),{charMap:o,subtable:Y.data,maxGlyphID:L+1};case"unicode":for(E=[],m=[],x=0,b={},r={},_=h=null,Z=0,ie=s.length;Z<ie;Z++)b[H=e[i=s[Z]]]==null&&(b[H]=++x),r[i]={old:H,new:b[H]},a=b[H]-i,_!=null&&a===h||(_&&m.push(_),E.push(i),h=a),_=i;for(_&&m.push(_),m.push(65535),E.push(65535),D=2*(k=E.length),A=2*Math.pow(Math.log(k)/Math.LN2,2),y=Math.log(A/2)/Math.LN2,T=2*k-A,l=[],G=[],g=[],N=J=0,pe=E.length;J<pe;N=++J){if(S=E[N],d=m[N],S===65535){l.push(0),G.push(0);break}if(S-(C=r[S].new)>=32768)for(l.push(0),G.push(2*(g.length+k-N)),i=W=S;S<=d?W<=d:W>=d;i=S<=d?++W:--W)g.push(r[i].new);else l.push(C-S),G.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*k+2*g.length),Y.writeUInt16(0),Y.writeUInt16(D),Y.writeUInt16(A),Y.writeUInt16(y),Y.writeUInt16(T),de=0,R=m.length;de<R;de++)i=m[de],Y.writeUInt16(i);for(Y.writeUInt16(0),ge=0,q=E.length;ge<q;ge++)i=E[ge],Y.writeUInt16(i);for(Ce=0,Q=l.length;Ce<Q;Ce++)a=l[Ce],Y.writeUInt16(a);for(Le=0,te=G.length;Le<te;Le++)O=G[Le],Y.writeUInt16(O);for(Oe=0,ne=g.length;Oe<ne;Oe++)L=g[Oe],Y.writeUInt16(L);return{charMap:r,subtable:Y.data,maxGlyphID:x+1}}},t}(),O4=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,Qi),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,o;for(n.pos=this.offset,this.version=n.readUInt16(),o=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new Sv(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,o;return r==null&&(r="macroman"),i=Sv.encode(n,r),(o=new ha).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e}(),PT=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,Qi),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),NT=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,Qi),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),TT=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,Qi),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,o;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var s;for(i=n.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],o=[];n.pos<this.offset+this.length;)r=n.readByte(),o.push(this.names.push(n.readString(r)));return o;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,h;for(h=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)h.push(n.readUInt32());return h}).call(this)}},e}(),IT=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},LT=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,Qi),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,o,s,a,l,h,d,m,y,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(h={},s=m=0,y=i.length;m<y;s=++m)o=i[s],n.pos=o.offset,d=n.readString(o.length),a=new IT(d,o),h[g=o.nameID]==null&&(h[g]=[]),h[o.nameID].push(a);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),CT=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,Qi),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),kT=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,Qi),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,o,s,a,l,h;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,m;for(m=[],r=d=0;0<=o?d<o:d>o;r=0<=o?++d:--d)m.push(n.readInt16());return m}(),this.widths=(function(){var d,m,y,g;for(g=[],d=0,m=(y=this.metrics).length;d<m;d++)s=y[d],g.push(s.advance);return g}).call(this),i=this.widths[this.widths.length-1],h=[],r=a=0;0<=o?a<o:a>o;r=0<=o?++a:--a)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),M4=[].slice,RT=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,Qi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,o,s,a,l,h,d,m,y;return n in this.cache?this.cache[n]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(n),(o=s.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new ha(r.read(o))).readShort(),d=l.readShort(),y=l.readShort(),h=l.readShort(),m=l.readShort(),this.cache[n]=a===-1?new FT(l,d,y,h,m):new DT(l,a,d,y,h,m),this.cache[n]))},e.prototype.encode=function(n,r,i){var o,s,a,l,h;for(a=[],s=[],l=0,h=r.length;l<h;l++)o=n[r[l]],s.push(a.length),o&&(a=a.concat(o.encode(i)));return s.push(a.length),{table:a,offsets:s}},e}(),DT=function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),FT=function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new ha(M4.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),OT=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,Qi),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=2)s.push(2*n.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=4)s.push(n.readUInt32());return s}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),o=0,s=0,a=0;a<i.length;++a)if(i[a]=o,s<r.length&&r[s]==a){++s,i[a]=o;var l=this.offsets[a],h=this.offsets[a+1]-l;h>0&&(o+=h)}for(var d=new Array(4*i.length),m=0;m<i.length;++m)d[4*m+3]=255&i[m],d[4*m+2]=(65280&i[m])>>8,d[4*m+1]=(16711680&i[m])>>16,d[4*m]=(4278190080&i[m])>>24;return d},e}(),MT=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in l=this.glyphsFor(n))r=l[o],i[o]=r;return i},t.prototype.encode=function(e,n){var r,i,o,s,a,l,h,d,m,y,g,N,L,F,_;for(i in r=O4.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),g={0:0},_=r.charMap)g[(l=_[i]).old]=l.new;for(N in y=r.maxGlyphID,s)N in g||(g[N]=y++);return d=function(b){var x,O;for(x in O={},b)O[b[x]]=x;return O}(g),m=Object.keys(d).sort(function(b,x){return b-x}),L=function(){var b,x,O;for(O=[],b=0,x=m.length;b<x;b++)a=m[b],O.push(d[a]);return O}(),o=this.font.glyf.encode(s,L,g),h=this.font.loca.encode(o.offsets,L),F={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(F["OS/2"]=this.font.os2.raw()),this.font.directory.encode(F)},t}();it.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+function(){var a,l,h;for(h=[],a=0,l=n.length;a<l;a++)r=n[a],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+n},e}();const jT=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:gT,AcroFormAppearance:Ge,AcroFormButton:jn,AcroFormCheckBox:Rc,AcroFormChoiceField:Ka,AcroFormComboBox:Ya,AcroFormEditBox:Cc,AcroFormListBox:Qa,AcroFormPasswordField:Dc,AcroFormPushButton:kc,AcroFormRadioButton:Xa,AcroFormTextField:ia,GState:uh,ShadingPattern:zs,TilingPattern:Ha,default:it,jsPDF:it},Symbol.toStringTag,{value:"Module"}));var j4={exports:{}};const VT=S3(jT);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return VT}catch{}}())})(typeof globalThis<"u"?globalThis:typeof xp<"u"?xp:typeof window<"u"?window:typeof self<"u"?self:xp,function(n){return function(){var r={172:function(a,l){var h=this&&this.__extends||function(){var y=function(g,N){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,F){L.__proto__=F}||function(L,F){for(var _ in F)Object.prototype.hasOwnProperty.call(F,_)&&(L[_]=F[_])},y(g,N)};return function(g,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");y(g,N);function L(){this.constructor=g}g.prototype=N===null?Object.create(N):(L.prototype=N.prototype,new L)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var d=function(){function y(g,N,L){this.table=N,this.pageNumber=N.pageNumber,this.pageCount=this.pageNumber,this.settings=N.settings,this.cursor=L,this.doc=g.getDocument()}return y}();l.HookData=d;var m=function(y){h(g,y);function g(N,L,F,_,b,x){var O=y.call(this,N,L,x)||this;return O.cell=F,O.row=_,O.column=b,O.section=_.section,O}return g}(d);l.CellHookData=m},340:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0});var d=h(4),m=h(136),y=h(744),g=h(776),N=h(664),L=h(972);function F(_){_.API.autoTable=function(){for(var b=[],x=0;x<arguments.length;x++)b[x]=arguments[x];var O;b.length===1?O=b[0]:(console.error("Use of deprecated autoTable initiation"),O=b[2]||{},O.columns=b[0],O.body=b[1]);var H=(0,g.parseInput)(this,O),G=(0,L.createTable)(this,H);return(0,N.drawTable)(this,G),this},_.API.lastAutoTable=!1,_.API.previousAutoTable=!1,_.API.autoTable.previous=!1,_.API.autoTableText=function(b,x,O,H){(0,m.default)(b,x,O,H,this)},_.API.autoTableSetDefaults=function(b){return y.DocHandler.setDefaults(b,this),this},_.autoTableSetDefaults=function(b,x){y.DocHandler.setDefaults(b,x)},_.API.autoTableHtmlToJson=function(b,x){var O;if(x===void 0&&(x=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var H=new y.DocHandler(this),G=(0,d.parseHtml)(H,b,window,x,!1),T=G.head,A=G.body,k=((O=T[0])===null||O===void 0?void 0:O.map(function(D){return D.content}))||[];return{columns:k,rows:A,data:A}},_.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},_.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),_.API.autoTable.globalDefaults||(_.API.autoTable.globalDefaults={}),_.API.autoTable.globalDefaults.addPageContent=b,this},_.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=F},136:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function h(d,m,y,g,N){g=g||{};var L=1.15,F=N.internal.scaleFactor,_=N.internal.getFontSize()/F,b=N.getLineHeightFactor?N.getLineHeightFactor():L,x=_*b,O=/\r\n|\r|\n/g,H="",G=1;if((g.valign==="middle"||g.valign==="bottom"||g.halign==="center"||g.halign==="right")&&(H=typeof d=="string"?d.split(O):d,G=H.length||1),y+=_*(2-L),g.valign==="middle"?y-=G/2*x:g.valign==="bottom"&&(y-=G*x),g.halign==="center"||g.halign==="right"){var T=_;if(g.halign==="center"&&(T*=.5),H&&G>=1){for(var A=0;A<H.length;A++)N.text(H[A],m-N.getStringUnitWidth(H[A])*T,y),y+=x;return N}m-=N.getStringUnitWidth(d)*T}return g.halign==="justify"?N.text(d,m,y,{maxWidth:g.maxWidth||100,align:"justify"}):N.text(d,m,y),N}l.default=h},420:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function h(N,L,F){F.applyStyles(L,!0);var _=Array.isArray(N)?N:[N],b=_.map(function(x){return F.getTextWidth(x)}).reduce(function(x,O){return Math.max(x,O)},0);return b}l.getStringWidth=h;function d(N,L,F,_){var b=L.settings.tableLineWidth,x=L.settings.tableLineColor;N.applyStyles({lineWidth:b,lineColor:x});var O=m(b,!1);O&&N.rect(F.x,F.y,L.getWidth(N.pageSize().width),_.y-F.y,O)}l.addTableBorder=d;function m(N,L){var F=N>0,_=L||L===0;return F&&_?"DF":F?"S":_?"F":null}l.getFillStyle=m;function y(N,L){var F,_,b,x;if(N=N||L,Array.isArray(N)){if(N.length>=4)return{top:N[0],right:N[1],bottom:N[2],left:N[3]};if(N.length===3)return{top:N[0],right:N[1],bottom:N[2],left:N[1]};if(N.length===2)return{top:N[0],right:N[1],bottom:N[0],left:N[1]};N.length===1?N=N[0]:N=L}return typeof N=="object"?(typeof N.vertical=="number"&&(N.top=N.vertical,N.bottom=N.vertical),typeof N.horizontal=="number"&&(N.right=N.horizontal,N.left=N.horizontal),{left:(F=N.left)!==null&&F!==void 0?F:L,top:(_=N.top)!==null&&_!==void 0?_:L,right:(b=N.right)!==null&&b!==void 0?b:L,bottom:(x=N.bottom)!==null&&x!==void 0?x:L}):(typeof N!="number"&&(N=L),{top:N,right:N,bottom:N,left:N})}l.parseSpacing=y;function g(N,L){var F=y(L.settings.margin,0);return N.pageSize().width-(F.left+F.right)}l.getPageAvailableWidth=g},796:function(a,l){var h=this&&this.__extends||function(){var g=function(N,L){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,_){F.__proto__=_}||function(F,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(F[b]=_[b])},g(N,L)};return function(N,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");g(N,L);function F(){this.constructor=N}N.prototype=L===null?Object.create(L):(F.prototype=L.prototype,new F)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var d=function(g){h(N,g);function N(L){var F=g.call(this)||this;return F._element=L,F}return N}(Array);l.HtmlRowInput=d;function m(g){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/g,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=m;function y(g){var N={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return N[g]}l.getTheme=y},903:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var d=h(420);function m(F,_,b,x,O){var H={},G=1.3333333333333333,T=g(_,function(K){return O.getComputedStyle(K).backgroundColor});T!=null&&(H.fillColor=T);var A=g(_,function(K){return O.getComputedStyle(K).color});A!=null&&(H.textColor=A);var k=L(x,b);k&&(H.cellPadding=k);var D="borderTopColor",S=G*b,E=x.borderTopWidth;if(x.borderBottomWidth===E&&x.borderRightWidth===E&&x.borderLeftWidth===E){var C=(parseFloat(E)||0)/S;C&&(H.lineWidth=C)}else H.lineWidth={top:(parseFloat(x.borderTopWidth)||0)/S,right:(parseFloat(x.borderRightWidth)||0)/S,bottom:(parseFloat(x.borderBottomWidth)||0)/S,left:(parseFloat(x.borderLeftWidth)||0)/S},H.lineWidth.top||(H.lineWidth.right?D="borderRightColor":H.lineWidth.bottom?D="borderBottomColor":H.lineWidth.left&&(D="borderLeftColor"));var Y=g(_,function(K){return O.getComputedStyle(K)[D]});Y!=null&&(H.lineColor=Y);var he=["left","right","center","justify"];he.indexOf(x.textAlign)!==-1&&(H.halign=x.textAlign),he=["middle","bottom","top"],he.indexOf(x.verticalAlign)!==-1&&(H.valign=x.verticalAlign);var Z=parseInt(x.fontSize||"");isNaN(Z)||(H.fontSize=Z/G);var J=y(x);J&&(H.fontStyle=J);var W=(x.fontFamily||"").toLowerCase();return F.indexOf(W)!==-1&&(H.font=W),H}l.parseCss=m;function y(F){var _="";return(F.fontWeight==="bold"||F.fontWeight==="bolder"||parseInt(F.fontWeight)>=700)&&(_="bold"),(F.fontStyle==="italic"||F.fontStyle==="oblique")&&(_+="italic"),_}function g(F,_){var b=N(F,_);if(!b)return null;var x=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!x||!Array.isArray(x))return null;var O=[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])],H=parseInt(x[4]);return H===0||isNaN(O[0])||isNaN(O[1])||isNaN(O[2])?null:O}function N(F,_){var b=_(F);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?F.parentElement==null?null:N(F.parentElement,_):b}function L(F,_){var b=[F.paddingTop,F.paddingRight,F.paddingBottom,F.paddingLeft],x=96/(72/_),O=(parseInt(F.lineHeight)-parseInt(F.fontSize))/_/2,H=b.map(function(T){return parseInt(T||"0")/x}),G=(0,d.parseSpacing)(H,0);return O>G.top&&(G.top=O),O>G.bottom&&(G.bottom=O),G}},744:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var h={},d=function(){function m(y){this.jsPDFDocument=y,this.userStyles={textColor:y.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:y.internal.getFontSize(),fontStyle:y.internal.getFont().fontStyle,font:y.internal.getFont().fontName,lineWidth:y.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:y.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return m.setDefaults=function(y,g){g===void 0&&(g=null),g?g.__autoTableDocumentDefaults=y:h=y},m.unifyColor=function(y){return Array.isArray(y)?y:typeof y=="number"?[y,y,y]:typeof y=="string"?[y]:null},m.prototype.applyStyles=function(y,g){var N,L,F;g===void 0&&(g=!1),y.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(y.fontStyle);var _=this.jsPDFDocument.internal.getFont(),b=_.fontStyle,x=_.fontName;if(y.font&&(x=y.font),y.fontStyle){b=y.fontStyle;var O=this.getFontList()[x];O&&O.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(O[0]),b=O[0])}if(this.jsPDFDocument.setFont(x,b),y.fontSize&&this.jsPDFDocument.setFontSize(y.fontSize),!g){var H=m.unifyColor(y.fillColor);H&&(N=this.jsPDFDocument).setFillColor.apply(N,H),H=m.unifyColor(y.textColor),H&&(L=this.jsPDFDocument).setTextColor.apply(L,H),H=m.unifyColor(y.lineColor),H&&(F=this.jsPDFDocument).setDrawColor.apply(F,H),typeof y.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(y.lineWidth)}},m.prototype.splitTextToSize=function(y,g,N){return this.jsPDFDocument.splitTextToSize(y,g,N)},m.prototype.rect=function(y,g,N,L,F){return this.jsPDFDocument.rect(y,g,N,L,F)},m.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},m.prototype.getTextWidth=function(y){return this.jsPDFDocument.getTextWidth(y)},m.prototype.getDocument=function(){return this.jsPDFDocument},m.prototype.setPage=function(y){this.jsPDFDocument.setPage(y)},m.prototype.addPage=function(){return this.jsPDFDocument.addPage()},m.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},m.prototype.getGlobalOptions=function(){return h||{}},m.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},m.prototype.pageSize=function(){var y=this.jsPDFDocument.internal.pageSize;return y.width==null&&(y={width:y.getWidth(),height:y.getHeight()}),y},m.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},m.prototype.getLineHeightFactor=function(){var y=this.jsPDFDocument;return y.getLineHeightFactor?y.getLineHeightFactor():1.15},m.prototype.getLineHeight=function(y){return y/this.scaleFactor()*this.getLineHeightFactor()},m.prototype.pageNumber=function(){var y=this.jsPDFDocument.internal.getCurrentPageInfo();return y?y.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},m}();l.DocHandler=d},4:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var d=h(903),m=h(796);function y(L,F,_,b,x){var O,H;b===void 0&&(b=!1),x===void 0&&(x=!1);var G;typeof F=="string"?G=_.document.querySelector(F):G=F;var T=Object.keys(L.getFontList()),A=L.scaleFactor(),k=[],D=[],S=[];if(!G)return console.error("Html table could not be found with input: ",F),{head:k,body:D,foot:S};for(var E=0;E<G.rows.length;E++){var C=G.rows[E],Y=(H=(O=C==null?void 0:C.parentElement)===null||O===void 0?void 0:O.tagName)===null||H===void 0?void 0:H.toLowerCase(),he=g(T,A,_,C,b,x);he&&(Y==="thead"?k.push(he):Y==="tfoot"?S.push(he):D.push(he))}return{head:k,body:D,foot:S}}l.parseHtml=y;function g(L,F,_,b,x,O){for(var H=new m.HtmlRowInput(b),G=0;G<b.cells.length;G++){var T=b.cells[G],A=_.getComputedStyle(T);if(x||A.display!=="none"){var k=void 0;O&&(k=(0,d.parseCss)(L,T,F,A,_)),H.push({rowSpan:T.rowSpan,colSpan:T.colSpan,styles:k,_element:T,content:N(T)})}}var D=_.getComputedStyle(b);if(H.length>0&&(x||D.display!=="none"))return H}function N(L){var F=L.cloneNode(!0);return F.innerHTML=F.innerHTML.replace(/\n/g,"").replace(/ +/g," "),F.innerHTML=F.innerHTML.split(/<br.*?>/).map(function(_){return _.trim()}).join(`
`),F.innerText||F.textContent||""}},776:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var d=h(4),m=h(356),y=h(420),g=h(744),N=h(792);function L(G,T){var A=new g.DocHandler(G),k=A.getDocumentOptions(),D=A.getGlobalOptions();(0,N.default)(A,D,k,T);var S=(0,m.assign)({},D,k,T),E;typeof window<"u"&&(E=window);var C=F(D,k,T),Y=_(D,k,T),he=b(A,S),Z=O(A,S,E);return{id:T.tableId,content:Z,hooks:Y,styles:C,settings:he}}l.parseInput=L;function F(G,T,A){for(var k={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},D=function(Y){if(Y==="columnStyles"){var he=G[Y],Z=T[Y],J=A[Y];k.columnStyles=(0,m.assign)({},he,Z,J)}else{var W=[G,T,A],K=W.map(function(ie){return ie[Y]||{}});k[Y]=(0,m.assign)({},K[0],K[1],K[2])}},S=0,E=Object.keys(k);S<E.length;S++){var C=E[S];D(C)}return k}function _(G,T,A){for(var k=[G,T,A],D={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},S=0,E=k;S<E.length;S++){var C=E[S];C.didParseCell&&D.didParseCell.push(C.didParseCell),C.willDrawCell&&D.willDrawCell.push(C.willDrawCell),C.didDrawCell&&D.didDrawCell.push(C.didDrawCell),C.willDrawPage&&D.willDrawPage.push(C.willDrawPage),C.didDrawPage&&D.didDrawPage.push(C.didDrawPage)}return D}function b(G,T){var A,k,D,S,E,C,Y,he,Z,J,W,K,ie=(0,y.parseSpacing)(T.margin,40/G.scaleFactor()),pe=(A=x(G,T.startY))!==null&&A!==void 0?A:ie.top,R;T.showFoot===!0?R="everyPage":T.showFoot===!1?R="never":R=(k=T.showFoot)!==null&&k!==void 0?k:"everyPage";var q;T.showHead===!0?q="everyPage":T.showHead===!1?q="never":q=(D=T.showHead)!==null&&D!==void 0?D:"everyPage";var Q=(S=T.useCss)!==null&&S!==void 0?S:!1,te=T.theme||(Q?"plain":"striped"),ne=!!T.horizontalPageBreak,de=(E=T.horizontalPageBreakRepeat)!==null&&E!==void 0?E:null;return{includeHiddenHtml:(C=T.includeHiddenHtml)!==null&&C!==void 0?C:!1,useCss:Q,theme:te,startY:pe,margin:ie,pageBreak:(Y=T.pageBreak)!==null&&Y!==void 0?Y:"auto",rowPageBreak:(he=T.rowPageBreak)!==null&&he!==void 0?he:"auto",tableWidth:(Z=T.tableWidth)!==null&&Z!==void 0?Z:"auto",showHead:q,showFoot:R,tableLineWidth:(J=T.tableLineWidth)!==null&&J!==void 0?J:0,tableLineColor:(W=T.tableLineColor)!==null&&W!==void 0?W:200,horizontalPageBreak:ne,horizontalPageBreakRepeat:de,horizontalPageBreakBehaviour:(K=T.horizontalPageBreakBehaviour)!==null&&K!==void 0?K:"afterAllRows"}}function x(G,T){var A=G.getLastAutoTable(),k=G.scaleFactor(),D=G.pageNumber(),S=!1;if(A&&A.startPageNumber){var E=A.startPageNumber+A.pageNumber-1;S=E===D}return typeof T=="number"?T:(T==null||T===!1)&&S&&(A==null?void 0:A.finalY)!=null?A.finalY+20/k:null}function O(G,T,A){var k=T.head||[],D=T.body||[],S=T.foot||[];if(T.html){var E=T.includeHiddenHtml;if(A){var C=(0,d.parseHtml)(G,T.html,A,E,T.useCss)||{};k=C.head||k,D=C.body||k,S=C.foot||k}else console.error("Cannot parse html in non browser environment")}var Y=T.columns||H(k,D,S);return{columns:Y,head:k,body:D,foot:S}}function H(G,T,A){var k=G[0]||T[0]||A[0]||[],D=[];return Object.keys(k).filter(function(S){return S!=="_element"}).forEach(function(S){var E=1,C;Array.isArray(k)?C=k[parseInt(S)]:C=k[S],typeof C=="object"&&!Array.isArray(C)&&(E=(C==null?void 0:C.colSpan)||1);for(var Y=0;Y<E;Y++){var he=void 0;Array.isArray(k)?he=D.length:he=S+(Y>0?"_".concat(Y):"");var Z={dataKey:he};D.push(Z)}}),D}},792:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function h(m,y,g,N){for(var L=function(x){x&&typeof x!="object"&&console.error("The options parameter should be of type object, is: "+typeof x),typeof x.extendWidth<"u"&&(x.tableWidth=x.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof x.margins<"u"&&(typeof x.margin>"u"&&(x.margin=x.margins),console.error("Use of deprecated option: margins, use margin instead.")),x.startY&&typeof x.startY!="number"&&(console.error("Invalid value for startY option",x.startY),delete x.startY),!x.didDrawPage&&(x.afterPageContent||x.beforePageContent||x.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),x.didDrawPage=function(S){m.applyStyles(m.userStyles),x.beforePageContent&&x.beforePageContent(S),m.applyStyles(m.userStyles),x.afterPageContent&&x.afterPageContent(S),m.applyStyles(m.userStyles),x.afterPageAdd&&S.pageNumber>1&&S.afterPageAdd(S),m.applyStyles(m.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(S){x[S]&&console.error('The "'.concat(S,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(S){var E=S[0],C=S[1];x[C]&&(console.error("Use of deprecated option ".concat(C,". Use ").concat(E," instead")),x[E]=x[C])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(S){var E=typeof S=="string"?S:S[0],C=typeof S=="string"?S:S[1];typeof x[E]<"u"&&(typeof x.styles[C]>"u"&&(x.styles[C]=x[E]),console.error("Use of deprecated option: "+E+", use the style "+C+" instead."))});for(var O=0,H=["styles","bodyStyles","headStyles","footStyles"];O<H.length;O++){var G=H[O];d(x[G]||{})}for(var T=x.columnStyles||{},A=0,k=Object.keys(T);A<k.length;A++){var D=k[A];d(T[D]||{})}},F=0,_=[y,g,N];F<_.length;F++){var b=_[F];L(b)}}l.default=h;function d(m){m.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),m.minCellHeight||(m.minCellHeight=m.rowHeight)):m.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),m.cellWidth||(m.cellWidth=m.columnWidth))}},260:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var d=h(796),m=h(172),y=h(420),g=function(){function _(b,x){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=x.columns,this.head=x.head,this.body=x.body,this.foot=x.foot}return _.prototype.getHeadHeight=function(b){return this.head.reduce(function(x,O){return x+O.getMaxCellHeight(b)},0)},_.prototype.getFootHeight=function(b){return this.foot.reduce(function(x,O){return x+O.getMaxCellHeight(b)},0)},_.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},_.prototype.callCellHooks=function(b,x,O,H,G,T){for(var A=0,k=x;A<k.length;A++){var D=k[A],S=new m.CellHookData(b,this,O,H,G,T),E=D(S)===!1;if(O.text=Array.isArray(O.text)?O.text:[O.text],E)return!1}return!0},_.prototype.callEndPageHooks=function(b,x){b.applyStyles(b.userStyles);for(var O=0,H=this.hooks.didDrawPage;O<H.length;O++){var G=H[O];G(new m.HookData(b,this,x))}},_.prototype.callWillDrawPageHooks=function(b,x){for(var O=0,H=this.hooks.willDrawPage;O<H.length;O++){var G=H[O];G(new m.HookData(b,this,x))}},_.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var x=this.columns.reduce(function(H,G){return H+G.wrappedWidth},0);return x}else{var O=this.settings.margin;return b-O.left-O.right}},_}();l.Table=g;var N=function(){function _(b,x,O,H,G){G===void 0&&(G=!1),this.height=0,this.raw=b,b instanceof d.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=x,this.section=O,this.cells=H,this.spansMultiplePages=G}return _.prototype.getMaxCellHeight=function(b){var x=this;return b.reduce(function(O,H){var G;return Math.max(O,((G=x.cells[H.index])===null||G===void 0?void 0:G.height)||0)},0)},_.prototype.hasRowSpan=function(b){var x=this;return b.filter(function(O){var H=x.cells[O.index];return H?H.rowSpan>1:!1}).length>0},_.prototype.canEntireRowFit=function(b,x){return this.getMaxCellHeight(x)<=b},_.prototype.getMinimumRowHeight=function(b,x){var O=this;return b.reduce(function(H,G){var T=O.cells[G.index];if(!T)return 0;var A=x.getLineHeight(T.styles.fontSize),k=T.padding("vertical"),D=k+A;return D>H?D:H},0)},_}();l.Row=N;var L=function(){function _(b,x,O){var H,G;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=x,this.section=O,this.raw=b;var T=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,T=(G=(H=b.content)!==null&&H!==void 0?H:b.title)!==null&&G!==void 0?G:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var A=T!=null?""+T:"",k=/\r\n|\r|\n/g;this.text=A.split(k)}return _.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var x=this.height-this.padding("vertical");b=this.y+x/2+this.padding("top")}var O;if(this.styles.halign==="right")O=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var H=this.width-this.padding("horizontal");O=this.x+H/2+this.padding("left")}else O=this.x+this.padding("left");return{x:O,y:b}},_.prototype.getContentHeight=function(b,x){x===void 0&&(x=1.15);var O=Array.isArray(this.text)?this.text.length:1,H=this.styles.fontSize/b*x,G=O*H+this.padding("vertical");return Math.max(G,this.styles.minCellHeight)},_.prototype.padding=function(b){var x=(0,y.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?x.top+x.bottom:b==="horizontal"?x.left+x.right:x[b]},_}();l.Cell=L;var F=function(){function _(b,x,O){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=x,this.index=O}return _.prototype.getMaxCustomCellWidth=function(b){for(var x=0,O=0,H=b.allRows();O<H.length;O++){var G=H[O],T=G.cells[this.index];T&&typeof T.styles.cellWidth=="number"&&(x=Math.max(x,T.styles.cellWidth))}return x},_}();l.Column=F},356:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function h(d,m,y,g,N){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var L=Object(d),F=1;F<arguments.length;F++){var _=arguments[F];if(_!=null)for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(L[b]=_[b])}return L}l.assign=h},972:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var d=h(744),m=h(260),y=h(324),g=h(796),N=h(356);function L(G,T){var A=new d.DocHandler(G),k=F(T,A.scaleFactor()),D=new m.Table(T,k);return(0,y.calculateWidths)(A,D),A.applyStyles(A.userStyles),D}l.createTable=L;function F(G,T){var A=G.content,k=O(A.columns);if(A.head.length===0){var D=b(k,"head");D&&A.head.push(D)}if(A.foot.length===0){var D=b(k,"foot");D&&A.foot.push(D)}var S=G.settings.theme,E=G.styles;return{columns:k,head:_("head",A.head,k,E,S,T),body:_("body",A.body,k,E,S,T),foot:_("foot",A.foot,k,E,S,T)}}function _(G,T,A,k,D,S){var E={},C=T.map(function(Y,he){for(var Z=0,J={},W=0,K=0,ie=0,pe=A;ie<pe.length;ie++){var R=pe[ie];if(E[R.index]==null||E[R.index].left===0)if(K===0){var q=void 0;Array.isArray(Y)?q=Y[R.index-W-Z]:q=Y[R.dataKey];var Q={};typeof q=="object"&&!Array.isArray(q)&&(Q=(q==null?void 0:q.styles)||{});var te=H(G,R,he,D,k,S,Q),ne=new m.Cell(q,te,G);J[R.dataKey]=ne,J[R.index]=ne,K=ne.colSpan-1,E[R.index]={left:ne.rowSpan-1,times:K}}else K--,W++;else E[R.index].left--,K=E[R.index].times,Z++}return new m.Row(Y,he,G,J)});return C}function b(G,T){var A={};return G.forEach(function(k){if(k.raw!=null){var D=x(T,k.raw);D!=null&&(A[k.dataKey]=D)}}),Object.keys(A).length>0?A:null}function x(G,T){if(G==="head"){if(typeof T=="object")return T.header||T.title||null;if(typeof T=="string"||typeof T=="number")return T}else if(G==="foot"&&typeof T=="object")return T.footer;return null}function O(G){return G.map(function(T,A){var k,D,S;return typeof T=="object"?S=(D=(k=T.dataKey)!==null&&k!==void 0?k:T.key)!==null&&D!==void 0?D:A:S=A,new m.Column(S,T,A)})}function H(G,T,A,k,D,S,E){var C=(0,g.getTheme)(k),Y;G==="head"?Y=D.headStyles:G==="body"?Y=D.bodyStyles:G==="foot"&&(Y=D.footStyles);var he=(0,N.assign)({},C.table,C[G],D.styles,Y),Z=D.columnStyles[T.dataKey]||D.columnStyles[T.index]||{},J=G==="body"?Z:{},W=G==="body"&&A%2===0?(0,N.assign)({},C.alternateRow,D.alternateRowStyles):{},K=(0,g.defaultStyles)(S),ie=(0,N.assign)({},K,he,W,J);return(0,N.assign)(ie,E)}},664:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var d=h(420),m=h(260),y=h(744),g=h(356),N=h(136),L=h(224);function F(Z,J){var W=J.settings,K=W.startY,ie=W.margin,pe={x:ie.left,y:K},R=J.getHeadHeight(J.columns)+J.getFootHeight(J.columns),q=K+ie.bottom+R;if(W.pageBreak==="avoid"){var Q=J.body,te=Q.reduce(function(ge,we){return ge+we.height},0);q+=te}var ne=new y.DocHandler(Z);(W.pageBreak==="always"||W.startY!=null&&q>ne.pageSize().height)&&(he(ne),pe.y=ie.top),J.callWillDrawPageHooks(ne,pe);var de=(0,g.assign)({},pe);J.startPageNumber=ne.pageNumber(),W.horizontalPageBreak?_(ne,J,de,pe):(ne.applyStyles(ne.userStyles),(W.showHead==="firstPage"||W.showHead==="everyPage")&&J.head.forEach(function(ge){return D(ne,J,ge,pe,J.columns)}),ne.applyStyles(ne.userStyles),J.body.forEach(function(ge,we){var Ce=we===J.body.length-1;k(ne,J,ge,Ce,de,pe,J.columns)}),ne.applyStyles(ne.userStyles),(W.showFoot==="lastPage"||W.showFoot==="everyPage")&&J.foot.forEach(function(ge){return D(ne,J,ge,pe,J.columns)})),(0,d.addTableBorder)(ne,J,de,pe),J.callEndPageHooks(ne,pe),J.finalY=pe.y,Z.lastAutoTable=J,Z.previousAutoTable=J,Z.autoTable&&(Z.autoTable.previous=J),ne.applyStyles(ne.userStyles)}l.drawTable=F;function _(Z,J,W,K){var ie=(0,L.calculateAllColumnsCanFitInPage)(Z,J),pe=J.settings;if(pe.horizontalPageBreakBehaviour==="afterAllRows")ie.forEach(function(te,ne){Z.applyStyles(Z.userStyles),ne>0?Y(Z,J,W,K,te.columns,!0):b(Z,J,K,te.columns),x(Z,J,W,K,te.columns),H(Z,J,K,te.columns)});else for(var R=-1,q=ie[0],Q=function(){var te=R;if(q){Z.applyStyles(Z.userStyles);var ne=q.columns;R>=0?Y(Z,J,W,K,ne,!0):b(Z,J,K,ne),te=O(Z,J,R+1,K,ne),H(Z,J,K,ne)}var de=te-R;ie.slice(1).forEach(function(ge){Z.applyStyles(Z.userStyles),Y(Z,J,W,K,ge.columns,!0),O(Z,J,R+1,K,ge.columns,de),H(Z,J,K,ge.columns)}),R=te};R<J.body.length-1;)Q()}function b(Z,J,W,K){var ie=J.settings;Z.applyStyles(Z.userStyles),(ie.showHead==="firstPage"||ie.showHead==="everyPage")&&J.head.forEach(function(pe){return D(Z,J,pe,W,K)})}function x(Z,J,W,K,ie){Z.applyStyles(Z.userStyles),J.body.forEach(function(pe,R){var q=R===J.body.length-1;k(Z,J,pe,q,W,K,ie)})}function O(Z,J,W,K,ie,pe){Z.applyStyles(Z.userStyles),pe=pe??J.body.length;var R=Math.min(W+pe,J.body.length),q=-1;return J.body.slice(W,R).forEach(function(Q,te){var ne=W+te===J.body.length-1,de=C(Z,J,ne,K);Q.canEntireRowFit(de,ie)&&(D(Z,J,Q,K,ie),q=W+te)}),q}function H(Z,J,W,K){var ie=J.settings;Z.applyStyles(Z.userStyles),(ie.showFoot==="lastPage"||ie.showFoot==="everyPage")&&J.foot.forEach(function(pe){return D(Z,J,pe,W,K)})}function G(Z,J,W){var K=W.getLineHeight(Z.styles.fontSize),ie=Z.padding("vertical"),pe=Math.floor((J-ie)/K);return Math.max(0,pe)}function T(Z,J,W,K){var ie={};Z.spansMultiplePages=!0,Z.height=0;for(var pe=0,R=0,q=W.columns;R<q.length;R++){var Q=q[R],te=Z.cells[Q.index];if(te){Array.isArray(te.text)||(te.text=[te.text]);var ne=new m.Cell(te.raw,te.styles,te.section);ne=(0,g.assign)(ne,te),ne.text=[];var de=G(te,J,K);te.text.length>de&&(ne.text=te.text.splice(de,te.text.length));var ge=K.scaleFactor(),we=K.getLineHeightFactor();te.contentHeight=te.getContentHeight(ge,we),te.contentHeight>=J&&(te.contentHeight=J,ne.styles.minCellHeight-=J),te.contentHeight>Z.height&&(Z.height=te.contentHeight),ne.contentHeight=ne.getContentHeight(ge,we),ne.contentHeight>pe&&(pe=ne.contentHeight),ie[Q.index]=ne}}var Ce=new m.Row(Z.raw,-1,Z.section,ie,!0);Ce.height=pe;for(var Le=0,Oe=W.columns;Le<Oe.length;Le++){var Q=Oe[Le],ne=Ce.cells[Q.index];ne&&(ne.height=Ce.height);var te=Z.cells[Q.index];te&&(te.height=Z.height)}return Ce}function A(Z,J,W,K){var ie=Z.pageSize().height,pe=K.settings.margin,R=pe.top+pe.bottom,q=ie-R;J.section==="body"&&(q-=K.getHeadHeight(K.columns)+K.getFootHeight(K.columns));var Q=J.getMinimumRowHeight(K.columns,Z),te=Q<W;if(Q>q)return console.error("Will not be able to print row ".concat(J.index," correctly since it's minimum height is larger than page height")),!0;if(!te)return!1;var ne=J.hasRowSpan(K.columns),de=J.getMaxCellHeight(K.columns)>q;return de?(ne&&console.error("The content of row ".concat(J.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ne||K.settings.rowPageBreak==="avoid")}function k(Z,J,W,K,ie,pe,R){var q=C(Z,J,K,pe);if(W.canEntireRowFit(q,R))D(Z,J,W,pe,R);else if(A(Z,W,q,J)){var Q=T(W,q,J,Z);D(Z,J,W,pe,R),Y(Z,J,ie,pe,R),k(Z,J,Q,K,ie,pe,R)}else Y(Z,J,ie,pe,R),k(Z,J,W,K,ie,pe,R)}function D(Z,J,W,K,ie){K.x=J.settings.margin.left;for(var pe=0,R=ie;pe<R.length;pe++){var q=R[pe],Q=W.cells[q.index];if(!Q){K.x+=q.width;continue}Z.applyStyles(Q.styles),Q.x=K.x,Q.y=K.y;var te=J.callCellHooks(Z,J.hooks.willDrawCell,Q,W,q,K);if(te===!1){K.x+=q.width;continue}S(Z,Q,K);var ne=Q.getTextPos();(0,N.default)(Q.text,ne.x,ne.y,{halign:Q.styles.halign,valign:Q.styles.valign,maxWidth:Math.ceil(Q.width-Q.padding("left")-Q.padding("right"))},Z.getDocument()),J.callCellHooks(Z,J.hooks.didDrawCell,Q,W,q,K),K.x+=q.width}K.y+=W.height}function S(Z,J,W){var K=J.styles;if(Z.getDocument().setFillColor(Z.getDocument().getFillColor()),typeof K.lineWidth=="number"){var ie=(0,d.getFillStyle)(K.lineWidth,K.fillColor);ie&&Z.rect(J.x,W.y,J.width,J.height,ie)}else typeof K.lineWidth=="object"&&(K.fillColor&&Z.rect(J.x,W.y,J.width,J.height,"F"),E(Z,J,W,K.lineWidth))}function E(Z,J,W,K){var ie,pe,R,q;K.top&&(ie=W.x,pe=W.y,R=W.x+J.width,q=W.y,K.right&&(R+=.5*K.right),K.left&&(ie-=.5*K.left),Q(K.top,ie,pe,R,q)),K.bottom&&(ie=W.x,pe=W.y+J.height,R=W.x+J.width,q=W.y+J.height,K.right&&(R+=.5*K.right),K.left&&(ie-=.5*K.left),Q(K.bottom,ie,pe,R,q)),K.left&&(ie=W.x,pe=W.y,R=W.x,q=W.y+J.height,K.top&&(pe-=.5*K.top),K.bottom&&(q+=.5*K.bottom),Q(K.left,ie,pe,R,q)),K.right&&(ie=W.x+J.width,pe=W.y,R=W.x+J.width,q=W.y+J.height,K.top&&(pe-=.5*K.top),K.bottom&&(q+=.5*K.bottom),Q(K.right,ie,pe,R,q));function Q(te,ne,de,ge,we){Z.getDocument().setLineWidth(te),Z.getDocument().line(ne,de,ge,we,"S")}}function C(Z,J,W,K){var ie=J.settings.margin.bottom,pe=J.settings.showFoot;return(pe==="everyPage"||pe==="lastPage"&&W)&&(ie+=J.getFootHeight(J.columns)),Z.pageSize().height-K.y-ie}function Y(Z,J,W,K,ie,pe){ie===void 0&&(ie=[]),pe===void 0&&(pe=!1),Z.applyStyles(Z.userStyles),J.settings.showFoot==="everyPage"&&!pe&&J.foot.forEach(function(q){return D(Z,J,q,K,ie)}),J.callEndPageHooks(Z,K);var R=J.settings.margin;(0,d.addTableBorder)(Z,J,W,K),he(Z),J.pageNumber++,J.pageCount++,K.x=R.left,K.y=R.top,W.y=R.top,J.callWillDrawPageHooks(Z,K),J.settings.showHead==="everyPage"&&(J.head.forEach(function(q){return D(Z,J,q,K,ie)}),Z.applyStyles(Z.userStyles))}l.addPage=Y;function he(Z){var J=Z.pageNumber();Z.setPage(J+1);var W=Z.pageNumber();return W===J?(Z.addPage(),!0):!1}},224:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var d=h(420);function m(g,N,L){var F;L===void 0&&(L={});var _=(0,d.getPageAvailableWidth)(g,N),b=new Map,x=[],O=[],H=[];N.settings.horizontalPageBreakRepeat,Array.isArray(N.settings.horizontalPageBreakRepeat)?H=N.settings.horizontalPageBreakRepeat:(typeof N.settings.horizontalPageBreakRepeat=="string"||typeof N.settings.horizontalPageBreakRepeat=="number")&&(H=[N.settings.horizontalPageBreakRepeat]),H.forEach(function(k){var D=N.columns.find(function(S){return S.dataKey===k||S.index===k});D&&!b.has(D.index)&&(b.set(D.index,!0),x.push(D.index),O.push(N.columns[D.index]),_-=D.wrappedWidth)});for(var G=!0,T=(F=L==null?void 0:L.start)!==null&&F!==void 0?F:0;T<N.columns.length;){if(b.has(T)){T++;continue}var A=N.columns[T].wrappedWidth;if(G||_>=A)G=!1,x.push(T),O.push(N.columns[T]),_-=A;else break;T++}return{colIndexes:x,columns:O,lastIndex:T-1}}function y(g,N){for(var L=[],F=0;F<N.columns.length;F++){var _=m(g,N,{start:F});_.columns.length&&(L.push(_),F=_.lastIndex)}return L}l.calculateAllColumnsCanFitInPage=y},324:function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var d=h(420);function m(x,O){y(x,O);var H=[],G=0;O.columns.forEach(function(A){var k=A.getMaxCustomCellWidth(O);k?A.width=k:(A.width=A.wrappedWidth,H.push(A)),G+=A.width});var T=O.getWidth(x.pageSize().width)-G;T&&(T=g(H,T,function(A){return Math.max(A.minReadableWidth,A.minWidth)})),T&&(T=g(H,T,function(A){return A.minWidth})),T=Math.abs(T),!O.settings.horizontalPageBreak&&T>.1/x.scaleFactor()&&(T=T<1?T:Math.round(T),console.warn("Of the table content, ".concat(T," units width could not fit page"))),L(O),F(O,x),N(O)}l.calculateWidths=m;function y(x,O){var H=x.scaleFactor(),G=O.settings.horizontalPageBreak,T=(0,d.getPageAvailableWidth)(x,O);O.allRows().forEach(function(A){for(var k=0,D=O.columns;k<D.length;k++){var S=D[k],E=A.cells[S.index];if(E){var C=O.hooks.didParseCell;O.callCellHooks(x,C,E,A,S,null);var Y=E.padding("horizontal");E.contentWidth=(0,d.getStringWidth)(E.text,E.styles,x)+Y;var he=(0,d.getStringWidth)(E.text.join(" ").split(/[^\S\u00A0]+/),E.styles,x);if(E.minReadableWidth=he+E.padding("horizontal"),typeof E.styles.cellWidth=="number")E.minWidth=E.styles.cellWidth,E.wrappedWidth=E.styles.cellWidth;else if(E.styles.cellWidth==="wrap"||G===!0)E.contentWidth>T?(E.minWidth=T,E.wrappedWidth=T):(E.minWidth=E.contentWidth,E.wrappedWidth=E.contentWidth);else{var Z=10/H;E.minWidth=E.styles.minCellWidth||Z,E.wrappedWidth=E.contentWidth,E.minWidth>E.wrappedWidth&&(E.wrappedWidth=E.minWidth)}}}}),O.allRows().forEach(function(A){for(var k=0,D=O.columns;k<D.length;k++){var S=D[k],E=A.cells[S.index];if(E&&E.colSpan===1)S.wrappedWidth=Math.max(S.wrappedWidth,E.wrappedWidth),S.minWidth=Math.max(S.minWidth,E.minWidth),S.minReadableWidth=Math.max(S.minReadableWidth,E.minReadableWidth);else{var C=O.styles.columnStyles[S.dataKey]||O.styles.columnStyles[S.index]||{},Y=C.cellWidth||C.minCellWidth;Y&&typeof Y=="number"&&(S.minWidth=Y,S.wrappedWidth=Y)}E&&(E.colSpan>1&&!S.minWidth&&(S.minWidth=E.minWidth),E.colSpan>1&&!S.wrappedWidth&&(S.wrappedWidth=E.minWidth))}})}function g(x,O,H){for(var G=O,T=x.reduce(function(Z,J){return Z+J.wrappedWidth},0),A=0;A<x.length;A++){var k=x[A],D=k.wrappedWidth/T,S=G*D,E=k.width+S,C=H(k),Y=E<C?C:E;O-=Y-k.width,k.width=Y}if(O=Math.round(O*1e10)/1e10,O){var he=x.filter(function(Z){return O<0?Z.width>H(Z):!0});he.length&&(O=g(he,O,H))}return O}l.resizeColumns=g;function N(x){for(var O={},H=1,G=x.allRows(),T=0;T<G.length;T++)for(var A=G[T],k=0,D=x.columns;k<D.length;k++){var S=D[k],E=O[S.index];if(H>1)H--,delete A.cells[S.index];else if(E)E.cell.height+=A.height,H=E.cell.colSpan,delete A.cells[S.index],E.left--,E.left<=1&&delete O[S.index];else{var C=A.cells[S.index];if(!C)continue;if(C.height=A.height,C.rowSpan>1){var Y=G.length-T,he=C.rowSpan>Y?Y:C.rowSpan;O[S.index]={cell:C,left:he,row:A}}}}}function L(x){for(var O=x.allRows(),H=0;H<O.length;H++)for(var G=O[H],T=null,A=0,k=0,D=0;D<x.columns.length;D++){var S=x.columns[D];if(k-=1,k>1&&x.columns[D+1])A+=S.width,delete G.cells[S.index];else if(T){var E=T;delete G.cells[S.index],T=null,E.width=S.width+A}else{var E=G.cells[S.index];if(!E)continue;if(k=E.colSpan,A=0,E.colSpan>1){T=E,A+=S.width;continue}E.width=S.width+A}}}function F(x,O){for(var H={count:0,height:0},G=0,T=x.allRows();G<T.length;G++){for(var A=T[G],k=0,D=x.columns;k<D.length;k++){var S=D[k],E=A.cells[S.index];if(E){O.applyStyles(E.styles,!0);var C=E.width-E.padding("horizontal");if(E.styles.overflow==="linebreak")E.text=O.splitTextToSize(E.text,C+1/O.scaleFactor(),{fontSize:E.styles.fontSize});else if(E.styles.overflow==="ellipsize")E.text=_(E.text,C,E.styles,O,"...");else if(E.styles.overflow==="hidden")E.text=_(E.text,C,E.styles,O,"");else if(typeof E.styles.overflow=="function"){var Y=E.styles.overflow(E.text,C);typeof Y=="string"?E.text=[Y]:E.text=Y}E.contentHeight=E.getContentHeight(O.scaleFactor(),O.getLineHeightFactor());var he=E.contentHeight/E.rowSpan;E.rowSpan>1&&H.count*H.height<he*E.rowSpan?H={height:he,count:E.rowSpan}:H&&H.count>0&&H.height>he&&(he=H.height),he>A.height&&(A.height=he)}}H.count--}}function _(x,O,H,G,T){return x.map(function(A){return b(A,O,H,G,T)})}l.ellipsize=_;function b(x,O,H,G,T){var A=1e4*G.scaleFactor();if(O=Math.ceil(O*A)/A,O>=(0,d.getStringWidth)(x,H,G))return x;for(;O<(0,d.getStringWidth)(x+T,H,G)&&!(x.length<=1);)x=x.substring(0,x.length-1);return x.trim()+T}},964:function(a){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var h=i[a]={exports:{}};return r[a].call(h.exports,h,h.exports,o),h.exports}var s={};return function(){var a=s;Object.defineProperty(a,"__esModule",{value:!0}),a.Cell=a.Column=a.Row=a.Table=a.CellHookData=a.__drawTable=a.__createTable=a.applyPlugin=void 0;var l=o(340),h=o(776),d=o(664),m=o(972),y=o(260);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return y.Table}});var g=o(172);Object.defineProperty(a,"CellHookData",{enumerable:!0,get:function(){return g.CellHookData}});var N=o(260);Object.defineProperty(a,"Cell",{enumerable:!0,get:function(){return N.Cell}}),Object.defineProperty(a,"Column",{enumerable:!0,get:function(){return N.Column}}),Object.defineProperty(a,"Row",{enumerable:!0,get:function(){return N.Row}});function L(O){(0,l.default)(O)}a.applyPlugin=L;function F(O,H){var G=(0,h.parseInput)(O,H),T=(0,m.createTable)(O,G);(0,d.drawTable)(O,T)}function _(O,H){var G=(0,h.parseInput)(O,H);return(0,m.createTable)(O,G)}a.__createTable=_;function b(O,H){(0,d.drawTable)(O,H)}a.__drawTable=b;try{var x=o(964);x.jsPDF&&(x=x.jsPDF),L(x)}catch{}a.default=F}(),s}()})})(j4);var BT=j4.exports;const zT=A3(BT);function UT(){const[t,e]=St.useState("home"),[n,r]=St.useState([]),[i,o]=St.useState(!0),s=async()=>{try{const d=C0(Ad(Ed,"schedules"),_N("time")),y=(await k0(d)).docs.map(g=>({id:g.id,...g.data()}));r(y)}catch(d){console.error("Error fetching schedules:",d)}finally{o(!1)}};St.useEffect(()=>{s()},[]);const a=()=>{prompt("Digite a senha para acessar os relatórios:")==="@@4438Mur"?e("admin"):alert("Senha incorreta.")},l=async()=>{if(prompt("Digite a senha para zerar os horários:")==="@@4438Mur")try{const m=C0(Ad(Ed,"schedules")),g=(await k0(m)).docs.map(N=>NN(N.ref));await Promise.all(g),await s(),alert("Horários zerados com sucesso!")}catch(m){console.error("Error clearing schedules:",m),alert("Erro ao zerar horários.")}else alert("Senha incorreta!")},h=()=>{const d=new it;d.setFontSize(20),d.setTextColor(180,0,0),d.text("Igreja Cristã Maranata - Central 2",105,20,{align:"center"}),d.setFontSize(16),d.setTextColor(0,0,0),d.text("Relatório de Oração Ininterrupta",105,30,{align:"center"}),d.setFontSize(12),d.text(`Data: ${new Date().toLocaleDateString("pt-BR")}`,20,40),zT(d,{head:[["Horário","Nome"]],body:n.map(y=>[y.time,y.name]),startY:50,headStyles:{fillColor:[180,0,0],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},styles:{fontSize:12,cellPadding:5}});const m=d.internal.getNumberOfPages();d.setFontSize(10);for(let y=1;y<=m;y++)d.setPage(y),d.text(`Página ${y} de ${m}`,d.internal.pageSize.width/2,d.internal.pageSize.height-10,{align:"center"});d.save("relatorio-oracao.pdf")};return Qe.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[Qe.jsx(VS,{position:"top-center"}),Qe.jsxs("div",{className:"max-w-4xl mx-auto",children:[Qe.jsxs("div",{className:"text-center mb-8",children:[Qe.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[Qe.jsx(MN,{className:"w-10 h-10 text-red-600"}),Qe.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Igreja Cristã Maranata - Central 2"})]}),Qe.jsx("h2",{className:"text-2xl font-semibold text-gray-700",children:"Oração Ininterrupta"})]}),t==="home"&&Qe.jsxs(Qe.Fragment,{children:[Qe.jsx("div",{className:"mb-8",children:Qe.jsx("button",{onClick:()=>e("schedule"),className:"w-full sm:w-auto px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"ESCOLHA SEU HORÁRIO"})}),i?Qe.jsx("div",{className:"text-center text-gray-500",children:"Carregando horários..."}):Qe.jsx(nv,{schedules:n}),Qe.jsx("div",{className:"mt-8 text-center",children:Qe.jsxs("button",{onClick:a,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[Qe.jsx(RN,{className:"w-4 h-4 mr-2"}),"Relatórios"]})})]}),t==="schedule"&&Qe.jsx(ON,{onScheduleAdded:()=>{s(),e("home")},onCancel:()=>e("home")}),t==="admin"&&Qe.jsxs("div",{className:"space-y-6",children:[Qe.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[Qe.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Painel Administrativo"}),Qe.jsxs("div",{className:"flex flex-wrap gap-4",children:[Qe.jsxs("button",{onClick:h,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[Qe.jsx(DN,{className:"w-4 h-4 mr-2"}),"Gerar Relatório PDF"]}),Qe.jsx("button",{onClick:l,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Zerar Horários"}),Qe.jsx("button",{onClick:()=>e("home"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Voltar"})]})]}),Qe.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[Qe.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Horários Agendados"}),Qe.jsx(nv,{schedules:n})]})]})]})]})}Ow(document.getElementById("root")).render(Qe.jsx(St.StrictMode,{children:Qe.jsx(UT,{})}));export{zt as _,xp as c,A3 as g};
